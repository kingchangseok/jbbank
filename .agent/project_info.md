# JBBank í”„ë¡œì íŠ¸ ì •ë³´

ì´ ë¬¸ì„œëŠ” AI ì—ì´ì „íŠ¸ê°€ í”„ë¡œì íŠ¸ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‘ì—…í•  ìˆ˜ ìˆë„ë¡ ì¤‘ìš”í•œ ì •ë³´ë¥¼ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.

---

## ğŸ“ ì½”ë“œ ìŠ¤íƒ€ì¼ & ì»¨ë²¤ì…˜

### Java íŒŒì¼ ë“¤ì—¬ì“°ê¸° íŒ¨í„´

**ì¤‘ìš”**: ì´ í”„ë¡œì íŠ¸ì˜ Java íŒŒì¼ë“¤ì€ **íƒ­ + ìŠ¤í˜ì´ìŠ¤ í˜¼í•©** ë“¤ì—¬ì“°ê¸°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤!

#### Cmr0250.java íŒ¨í„´

```
ê¸°ë³¸ ê¹Šì´ (í•¨ìˆ˜ ë‚´ë¶€):     íƒ­ + 12 ìŠ¤í˜ì´ìŠ¤
1ë‹¨ê³„ ì¤‘ì²© (if/while ë‚´):  íƒ­ + 16 ìŠ¤í˜ì´ìŠ¤  
2ë‹¨ê³„ ì¤‘ì²©:                íƒ­ + 20 ìŠ¤í˜ì´ìŠ¤
3ë‹¨ê³„ ì¤‘ì²©:                íƒ­ + 24 ìŠ¤í˜ì´ìŠ¤

íŒ¨í„´: íƒ­ + (12 + 4 * ì¤‘ì²©ê¹Šì´) ìŠ¤í˜ì´ìŠ¤
```

**Hex í‘œí˜„**:
- ê¸°ë³¸: `09 20 20 20 20 20 20 20 20 20 20 20 20` (09 = íƒ­, 20 = ìŠ¤í˜ì´ìŠ¤)
- 1ë‹¨ê³„: `09 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20`

#### ìë™ í¸ì§‘ ì‹œ ì£¼ì˜ì‚¬í•­

> [!CAUTION]
> **íŒŒì¼ í¸ì§‘ ì‹¤íŒ¨ ì‹œ ì²´í¬ë¦¬ìŠ¤íŠ¸**
> 1. PowerShellë¡œ hex dump í™•ì¸:
>    ```powershell
>    $lines = Get-Content "íŒŒì¼ê²½ë¡œ" -Encoding UTF8
>    [System.Text.Encoding]::UTF8.GetBytes($lines[ë¼ì¸ë²ˆí˜¸]) | Format-Hex
>    ```
> 2. ì •í™•í•œ ë“¤ì—¬ì“°ê¸° íŒ¨í„´ í™•ì¸ (íƒ­ + N ìŠ¤í˜ì´ìŠ¤)
> 3. ì¤‘ì²© ê¹Šì´ì— ë”°ë¼ ìŠ¤í˜ì´ìŠ¤ ê°œìˆ˜ ì¡°ì •
> 4. í° ë¸”ë¡ ì‚­ì œ ì‹œ ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ ì„œ ì‹œë„

### JavaScript íŒŒì¼

- ì¼ë°˜ì ì¸ ìŠ¤í˜ì´ìŠ¤ 4ê°œ ë“¤ì—¬ì“°ê¸° ì‚¬ìš©
- ES5 ìŠ¤íƒ€ì¼ (var, function í‚¤ì›Œë“œ)

---

## ğŸ—‚ï¸ ì£¼ìš” íŒŒì¼ êµ¬ì¡°

### Backend (Java)

```
src/
â”œâ”€â”€ app/
â”‚   â””â”€â”€ eCmr/
â”‚       â”œâ”€â”€ Cmr0250.java          # ì ‘ìˆ˜ ìƒì„¸ ì²˜ë¦¬ (í˜•ìƒê´€ë¦¬ í•µì‹¬)
â”‚       â””â”€â”€ Cmr0250Servlet.java   # ì„œë¸”ë¦¿
â””â”€â”€ html/
    â””â”€â”€ app/
        â””â”€â”€ eCmr/
            â””â”€â”€ Cmr0250Servlet.java
```

### Frontend (JavaScript)

```
WebContent/
â”œâ”€â”€ js/
â”‚   â””â”€â”€ ecams/
â”‚       â””â”€â”€ winpop/
â”‚           â””â”€â”€ PopRequestDetail.js  # ì ‘ìˆ˜ ìƒì„¸ íŒì—…
â””â”€â”€ webPage/
    â””â”€â”€ winpop/
        â””â”€â”€ PopRequestDetail.jsp
```

---

## ğŸ”§ ìµœê·¼ ìˆ˜ì • ë‚´ì—­

### 2026-01-26: RSA ëª¨ë¸(.efx) ë°˜ì†¡ ì‹œ .class íŒŒì¼ ì²˜ë¦¬ ì¶”ê°€

**ìœ„ì¹˜**: `src/app/eCmr/Cmr0250.java` - `progCncl_sel` í•¨ìˆ˜

**ë³€ê²½ì‚¬í•­**:
1. âœ… `.efx` íŒŒì¼ ë°˜ì†¡ ì‹œ ì—°ê´€ëœ `.java` ë° `.class` íŒŒì¼ ìë™ ë°˜ì†¡ ë¡œì§ ì¶”ê°€ (3252-3356ë¼ì¸)
2. âœ… ì˜ëª»ëœ ê´€ë ¨ íŒŒì¼ `.java` â†’ `.class` ì²˜ë¦¬ ë¡œì§ ì‚­ì œ (ê¸°ì¡´ 3188-3247ë¼ì¸)

**ì²˜ë¦¬ íë¦„**:
```
.efx íŒŒì¼ ë°˜ì†¡
  â””â†’ cr_baseitemìœ¼ë¡œ ì—°ê´€ .java ê²€ìƒ‰
      â””â†’ ê° .java íŒŒì¼ëª…ìœ¼ë¡œ .class ê²€ìƒ‰ (BaseNm.class, BaseNm$*.class)
          â””â†’ ëª¨ë“  .class íŒŒì¼ cr_status='3' ì—…ë°ì´íŠ¸
```

**ë¡œê·¸ íƒœê·¸**: `[EFX_REFUND_START]`, `[EFX_JAVA_FOUND]`, `[EFX_CLASS_FOUND]` ë“±

**ê´€ë ¨ ë¬¸ì„œ**:
- êµ¬í˜„ ê³„íš: `brain/0a9a3a65.../implementation_plan.md`
- Walkthrough: `brain/0a9a3a65.../walkthrough.md`
- ë“¤ì—¬ì“°ê¸° ë¶„ì„: `brain/0a9a3a65.../whitespace_analysis.md`

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (ì°¸ê³ )

### ì£¼ìš” í…Œì´ë¸”

**cmr1010** - í˜•ìƒê´€ë¦¬ í•­ëª©
- `cr_acptno`: ì ‘ìˆ˜ë²ˆí˜¸ (PK)
- `cr_itemid`: í•­ëª©ID (PK)
- `cr_baseitem`: ê¸°ë³¸í•­ëª©ID (RSA ëª¨ë¸ê³¼ ì—°ê´€)
- `cr_rsrcname`: ë¦¬ì†ŒìŠ¤ëª… (íŒŒì¼ëª…)
- `cr_rsrccd`: ë¦¬ì†ŒìŠ¤ì½”ë“œ ('F1'=Java ì†ŒìŠ¤, 'COM'=Class íŒŒì¼, 'PCR'=RSA ëª¨ë¸)
- `cr_status`: ìƒíƒœ ('3'=ë°˜ì†¡)
- `cr_syscd`: ì‹œìŠ¤í…œì½”ë“œ
- `cr_dsncd`: ë””ìì¸ì½”ë“œ

**cmr0020** - í˜•ìƒê´€ë¦¬ ê¸°ë³¸ì •ë³´
- ê¸°ë³¸ ë¦¬ì†ŒìŠ¤ ì •ë³´ ê´€ë¦¬

**cmr1000** - ì ‘ìˆ˜ ë§ˆìŠ¤í„°
- `cr_cnclstep`: ë°˜ì†¡ ë‹¨ê³„

---

## ğŸ’¡ ê°œë°œ íŒ

### ë””ë²„ê¹…

**ë¡œê·¸ í™•ì¸ ìœ„ì¹˜**:
- ì„œë²„ ë¡œê·¸ì—ì„œ `ecamsLogger.error` ë©”ì‹œì§€ í™•ì¸
- íƒœê·¸ë¡œ í•„í„°ë§: `[EFX_REFUND_START]`, `[REFUND_FILE_0]` ë“±

**ì£¼ìš” ì¿¼ë¦¬ íŒ¨í„´**:
```sql
-- RSA ëª¨ë¸ê³¼ ì—°ê´€ëœ Java íŒŒì¼ ì°¾ê¸°
SELECT cr_itemid, cr_rsrcname 
FROM cmr1010 
WHERE cr_acptno = ? 
  AND cr_baseitem = ?  -- RSA ëª¨ë¸ì˜ itemId
  AND lower(cr_rsrcname) LIKE '%.java'

-- ë…ë¦½ Class íŒŒì¼ ì°¾ê¸°  
SELECT cr_itemid, cr_rsrcname 
FROM cmr1010 
WHERE cr_acptno = ?
  AND nvl(cr_baseitem,'') = ''  -- baseitemì´ ë¹„ì–´ìˆìŒ
  AND lower(cr_rsrcname) LIKE '%.class'
```

### ì¼ë°˜ì ì¸ ì‘ì—… íë¦„

1. **ìš”êµ¬ì‚¬í•­ ë¶„ì„** â†’ ê´€ë ¨ Java í´ë˜ìŠ¤/ë©”ì„œë“œ íŒŒì•…
2. **DB ìŠ¤í‚¤ë§ˆ í™•ì¸** â†’ ì–´ë–¤ í…Œì´ë¸”/ì»¬ëŸ¼ ì‚¬ìš©í•˜ëŠ”ì§€ í™•ì¸
3. **ê¸°ì¡´ ë¡œì§ ë¶„ì„** â†’ ìœ ì‚¬í•œ ì²˜ë¦¬ê°€ ìˆëŠ”ì§€ í™•ì¸
4. **êµ¬í˜„** â†’ ê¸°ì¡´ ì½”ë“œ ìŠ¤íƒ€ì¼ ë”°ë¥´ê¸°
5. **ë¡œê¹… ì¶”ê°€** â†’ ë””ë²„ê¹… ê°€ëŠ¥í•˜ë„ë¡ ì¶©ë¶„í•œ ë¡œê·¸
6. **í…ŒìŠ¤íŠ¸** â†’ ë¡œê·¸ í™•ì¸ + DB ì¿¼ë¦¬ë¡œ ê²€ì¦

---

## ğŸ“š ì°¸ê³  ìë£Œ

- í”„ë¡œì íŠ¸ íƒ€ì…: Legacy Java EE (Servlet/JSP)
- Java ë²„ì „: (í™•ì¸ í•„ìš”)
- ì„œë²„: (í™•ì¸ í•„ìš”)
- ë¹Œë“œ ë„êµ¬: (í™•ì¸ í•„ìš”)

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-26  
**ì‘ì„±ì**: AI Assistant (with User feedback)

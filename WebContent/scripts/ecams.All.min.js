!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=e.document,i=Object.getPrototypeOf,o=n.slice,a=n.concat,s=n.push,u=n.indexOf,l={},c=l.toString,f=l.hasOwnProperty,p=f.toString,d=p.call(Object),h={},g=function e(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function e(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function m(e,t,n){var i,o=(t=t||r).createElement("script");if(o.text=e,n)for(i in v)n[i]&&(o[i]=n[i]);t.head.appendChild(o).parentNode.removeChild(o)}function x(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[c.call(e)]||"object":typeof e}var b="3.3.1",w=function(e,t){return new w.fn.init(e,t)},T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;w.fn=w.prototype={jquery:"3.3.1",constructor:w,length:0,toArray:function(){return o.call(this)},get:function(e){return null==e?o.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=w.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return w.each(this,e)},map:function(e){return this.pushStack(w.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},w.extend=w.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||g(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(l&&r&&(w.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&w.isPlainObject(n)?n:{},a[t]=w.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},w.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==c.call(e))&&(!(t=i(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&p.call(n)===d)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){m(e)},each:function(e,t){var n,r=0;if(C(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?w.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)(r=!t(e[o],o))!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,i,o=0,s=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return a.apply([],s)},guid:1,support:h}),"function"==typeof Symbol&&(w.fn[Symbol.iterator]=n[Symbol.iterator]),w.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function C(e){var t=!!e&&"length"in e&&e.length,n=x(e);return!g(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}var E=function(e){var t,n,r,i,o,a,s,u,l,c,f,p,d,h,g,y,v,m,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,E=ae(),k=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,A=[],j=A.pop,q=A.push,L=A.push,H=A.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+M+"*("+R+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+M+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),F=new RegExp("^"+M+"*,"+M+"*"),_=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),X=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){p()},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{L.apply(A=H.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){L={apply:A.length?function(e,t){q.apply(e,H.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function oe(e,t,r,i){var o,s,l,c,f,h,v,m=t&&t.ownerDocument,T=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==T&&9!==T&&11!==T)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==T&&(f=J.exec(e)))if(o=f[1]){if(9===T){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(m&&(l=m.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(f[2])return L.apply(r,t.getElementsByTagName(e)),r;if((o=f[3])&&n.getElementsByClassName&&t.getElementsByClassName)return L.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!S[e+" "]&&(!y||!y.test(e))){if(1!==T)m=t,v=e;else if("object"!==t.nodeName.toLowerCase()){(c=t.getAttribute("id"))?c=c.replace(te,ne):t.setAttribute("id",c=b),s=(h=a(e)).length;while(s--)h[s]="#"+c+" "+ve(h[s]);v=h.join(","),m=K.test(e)&&ge(t.parentNode)||t}if(v)try{return L.apply(r,m.querySelectorAll(v)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ae(){var e=[];function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}return t}function se(e){return e[b]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){var n=e.split("|"),i=n.length;while(i--)r.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ge(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==d&&9===a.nodeType&&a.documentElement?(d=a,h=d.documentElement,g=!o(d),w!==d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(d.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&g)return t.getElementsByClassName(e)},v=[],y=[],(n.qsa=Q.test(d.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||y.push("~="),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||y.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(n.matchesSelector=Q.test(m=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=m.call(e,"*"),m.call(e,"[s!='']:x"),v.push("!=",W)}),y=y.length&&new RegExp(y.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),x=t||Q.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?O(c,e)-O(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?O(c,e)-O(c,t):0;if(i===o)return ce(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?ce(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},d):d},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!S[t+" "]&&(!v||!v.test(t))&&(!y||!y.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,d,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&N.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(D),f){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return c=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){x=(d=(l=(c=(f=(p=y)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&y.childNodes[d];while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(m&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)while(p=++d&&p&&p[g]||(x=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===v:1===p.nodeType)&&++x&&(m&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p===t))break;return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){var r,o=i(e,t),a=o.length;while(a--)e[r=O(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[b]?se(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return U.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:de(!1),disabled:de(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=r.preFilter;while(s){n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=_.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length));for(a in r.filter)!(i=V[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)};function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=C++;return t.first?function(t,n,i){while(t=t[r])if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[T,s];if(u){while(t=t[r])if((1===t.nodeType||a)&&e(t,n,u))return!0}else while(t=t[r])if(1===t.nodeType||a)if(f=t[b]||(t[b]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===T&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function xe(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Te(e,t,n,r,i,o){return r&&!r[b]&&(r=Te(r)),i&&!i[b]&&(i=Te(i,o)),se(function(o,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=o||be(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?g:we(g,p,e,s,u),v=n?i||(o?e:h||r)?[]:a:y;if(n&&n(y,v,s,u),r){l=we(v,d),r(l,[],s,u),c=l.length;while(c--)(f=l[c])&&(v[d[c]]=!(y[d[c]]=f))}if(o){if(i||e){if(i){l=[],c=v.length;while(c--)(f=v[c])&&l.push(y[c]=f);i(null,v=[],l,u)}c=v.length;while(c--)(f=v[c])&&(l=i?O(o,f):p[c])>-1&&(o[l]=!(a[l]=f))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):L.apply(a,v)})}function Ce(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,c=me(function(e){return e===t},s,!0),f=me(function(e){return O(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[me(xe(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o;i++)if(r.relative[e[i].type])break;return Te(u>1&&xe(p),u>1&&ve(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ce(e.slice(u,i)),i<o&&Ce(e=e.slice(i)),i<o&&ve(e))}p.push(n)}return xe(p)}function Ee(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,c){var f,h,y,v=0,m="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),E=T+=null==w?1:Math.random()||.1,k=C.length;for(c&&(l=a===d||a||c);m!==k&&null!=(f=C[m]);m++){if(i&&f){h=0,a||f.ownerDocument===d||(p(f),s=!g);while(y=e[h++])if(y(f,a||d,s)){u.push(f);break}c&&(T=E)}n&&((f=!y&&f)&&v--,o&&x.push(f))}if(v+=m,n&&m!==v){h=0;while(y=t[h++])y(x,b,a,s);if(o){if(v>0)while(m--)x[m]||b[m]||(b[m]=j.call(u));b=we(b)}L.apply(u,b),c&&!o&&b.length>0&&v+t.length>1&&oe.uniqueSort(u)}return c&&(T=E,l=w),x};return n?se(o):o}return s=oe.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=a(e)),n=t.length;while(n--)(o=Ce(t[n]))[b]?r.push(o):i.push(o);(o=S(e,Ee(i,r))).selector=e}return o},u=oe.select=function(e,t,n,i){var o,u,l,c,f,p="function"==typeof e&&e,d=!i&&a(e=p.selector||e);if(n=n||[],1===d.length){if((u=d[0]=d[0].slice(0)).length>2&&"ID"===(l=u[0]).type&&9===t.nodeType&&g&&r.relative[u[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(Z,ee),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(u.shift().value.length)}o=V.needsContext.test(e)?0:u.length;while(o--){if(l=u[o],r.relative[c=l.type])break;if((f=r.find[c])&&(i=f(l.matches[0].replace(Z,ee),K.test(u[0].type)&&ge(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ve(u)))return L.apply(n,i),n;break}}}return(p||s(e,d))(i,t,!g,n,!t||K.test(e)&&ge(t.parentNode)||t),n},n.sortStable=b.split("").sort(D).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||le(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);w.find=E,w.expr=E.selectors,w.expr[":"]=w.expr.pseudos,w.uniqueSort=w.unique=E.uniqueSort,w.text=E.getText,w.isXMLDoc=E.isXML,w.contains=E.contains,w.escapeSelector=E.escape;var k=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&w(e).is(n))break;r.push(e)}return r},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},D=w.expr.match.needsContext;function N(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,t,n){return g(t)?w.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?w.grep(e,function(e){return e===t!==n}):"string"!=typeof t?w.grep(e,function(e){return u.call(t,e)>-1!==n}):w.filter(t,e,n)}w.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?w.find.matchesSelector(r,e)?[r]:[]:w.find.matches(e,w.grep(t,function(e){return 1===e.nodeType}))},w.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(w(e).filter(function(){for(t=0;t<r;t++)if(w.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)w.find(e,i[t],n);return r>1?w.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&D.test(e)?w(e):e||[],!1).length}});var q,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(w.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||q,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof w?t[0]:t,w.merge(this,w.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),A.test(i[1])&&w.isPlainObject(t))for(i in t)g(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&(this[0]=o,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):g(e)?void 0!==n.ready?n.ready(e):e(w):w.makeArray(e,this)}).prototype=w.fn,q=w(r);var H=/^(?:parents|prev(?:Until|All))/,O={children:!0,contents:!0,next:!0,prev:!0};w.fn.extend({has:function(e){var t=w(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(w.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&w(e);if(!D.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&w.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?w.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?u.call(w(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(w.uniqueSort(w.merge(this.get(),w(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function P(e,t){while((e=e[t])&&1!==e.nodeType);return e}w.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return P(e,"nextSibling")},prev:function(e){return P(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return N(e,"iframe")?e.contentDocument:(N(e,"template")&&(e=e.content||e),w.merge([],e.childNodes))}},function(e,t){w.fn[e]=function(n,r){var i=w.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=w.filter(r,i)),this.length>1&&(O[e]||w.uniqueSort(i),H.test(e)&&i.reverse()),this.pushStack(i)}});var M=/[^\x20\t\r\n\f]+/g;function R(e){var t={};return w.each(e.match(M)||[],function(e,n){t[n]=!0}),t}w.Callbacks=function(e){e="string"==typeof e?R(e):w.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1){n=a.shift();while(++s<o.length)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1)}e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){w.each(n,function(n,r){g(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==x(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return w.each(arguments,function(e,t){var n;while((n=w.inArray(t,o,n))>-1)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?w.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l};function I(e){return e}function W(e){throw e}function $(e,t,n,r){var i;try{e&&g(i=e.promise)?i.call(e).done(t).fail(n):e&&g(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}w.extend({Deferred:function(t){var n=[["notify","progress",w.Callbacks("memory"),w.Callbacks("memory"),2],["resolve","done",w.Callbacks("once memory"),w.Callbacks("once memory"),0,"resolved"],["reject","fail",w.Callbacks("once memory"),w.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return w.Deferred(function(t){w.each(n,function(n,r){var i=g(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&g(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,u=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,u))===n.promise())throw new TypeError("Thenable self-resolution");l=e&&("object"==typeof e||"function"==typeof e)&&e.then,g(l)?i?l.call(e,a(o,n,I,i),a(o,n,W,i)):(o++,l.call(e,a(o,n,I,i),a(o,n,W,i),a(o,n,I,n.notifyWith))):(r!==I&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},c=i?l:function(){try{l()}catch(e){w.Deferred.exceptionHook&&w.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(r!==W&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?c():(w.Deferred.getStackHook&&(c.stackTrace=w.Deferred.getStackHook()),e.setTimeout(c))}}return w.Deferred(function(e){n[0][3].add(a(0,e,g(i)?i:I,e.notifyWith)),n[1][3].add(a(0,e,g(t)?t:I)),n[2][3].add(a(0,e,g(r)?r:W))}).promise()},promise:function(e){return null!=e?w.extend(e,i):i}},o={};return w.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=o.call(arguments),a=w.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?o.call(arguments):n,--t||a.resolveWith(r,i)}};if(t<=1&&($(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();while(n--)$(i[n],s(n),a.reject);return a.promise()}});var B=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;w.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&B.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},w.readyException=function(t){e.setTimeout(function(){throw t})};var F=w.Deferred();w.fn.ready=function(e){return F.then(e)["catch"](function(e){w.readyException(e)}),this},w.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--w.readyWait:w.isReady)||(w.isReady=!0,!0!==e&&--w.readyWait>0||F.resolveWith(r,[w]))}}),w.ready.then=F.then;function _(){r.removeEventListener("DOMContentLoaded",_),e.removeEventListener("load",_),w.ready()}"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(w.ready):(r.addEventListener("DOMContentLoaded",_),e.addEventListener("load",_));var z=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===x(n)){i=!0;for(s in n)z(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(w(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},X=/^-ms-/,U=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function G(e){return e.replace(X,"ms-").replace(U,V)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=w.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[G(t)]=n;else for(r in t)i[G(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][G(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(G):(t=G(t))in r?[t]:t.match(M)||[]).length;while(n--)delete r[t[n]]}(void 0===t||w.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!w.isEmptyObject(t)}};var J=new Q,K=new Q,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Z.test(e)?JSON.parse(e):e)}function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=te(n)}catch(e){}K.set(e,t,n)}else n=void 0;return n}w.extend({hasData:function(e){return K.hasData(e)||J.hasData(e)},data:function(e,t,n){return K.access(e,t,n)},removeData:function(e,t){K.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),w.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=K.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){n=a.length;while(n--)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=G(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){K.set(this,e)}):z(this,function(t){var n;if(o&&void 0===t){if(void 0!==(n=K.get(o,e)))return n;if(void 0!==(n=ne(o,e)))return n}else this.each(function(){K.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){K.remove(this,e)})}}),w.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,w.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=w.queue(e,t),r=n.length,i=n.shift(),o=w._queueHooks(e,t),a=function(){w.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:w.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),w.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?w.queue(this[0],e):void 0===t?this:this.each(function(){var n=w.queue(this,e,t);w._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&w.dequeue(this,e)})},dequeue:function(e){return this.each(function(){w.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=w.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&w.contains(e.ownerDocument,e)&&"none"===w.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return w.css(e,t,"")},u=s(),l=n&&n[3]||(w.cssNumber[t]?"":"px"),c=(w.cssNumber[t]||"px"!==l&&+u)&&ie.exec(w.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)w.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,w.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var le={};function ce(e){var t,n=e.ownerDocument,r=e.nodeName,i=le[r];return i||(t=n.body.appendChild(n.createElement(r)),i=w.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),le[r]=i,i)}function fe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=ce(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}w.fn.extend({show:function(){return fe(this,!0)},hide:function(){return fe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?w(this).show():w(this).hide()})}});var pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,he=/^$|^module$|\/(?:java|ecma)script/i,ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ge.optgroup=ge.option,ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td;function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&N(e,t)?w.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===x(o))w.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+w.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;w.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&w.inArray(o,r)>-1)i&&i.push(o);else if(l=w.contains(o.ownerDocument,o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}!function(){var e=r.createDocumentFragment().appendChild(r.createElement("div")),t=r.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),h.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var be=r.documentElement,we=/^key/,Te=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ce=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function ke(){return!1}function Se(){try{return r.activeElement}catch(e){}}function De(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)De(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return w().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=w.guid++)),e.each(function(){w.event.add(this,t,i,r,n)})}w.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.get(e);if(y){n.handler&&(n=(o=n).handler,i=o.selector),i&&w.find.matchesSelector(be,i),n.guid||(n.guid=w.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof w&&w.event.triggered!==t.type?w.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(M)||[""]).length;while(l--)d=g=(s=Ce.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=w.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=w.event.special[d]||{},c=w.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&w.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),w.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=J.hasData(e)&&J.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(M)||[""]).length;while(l--)if(s=Ce.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){f=w.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||w.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)w.event.remove(e,d+t[l],n,r,!0);w.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t=w.event.fix(e),n,r,i,o,a,s,u=new Array(arguments.length),l=(J.get(this,"events")||{})[t.type]||[],c=w.event.special[t.type]||{};for(u[0]=t,n=1;n<arguments.length;n++)u[n]=arguments[n];if(t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){s=w.event.handlers.call(this,t,l),n=0;while((o=s[n++])&&!t.isPropagationStopped()){t.currentTarget=o.elem,r=0;while((a=o.handlers[r++])&&!t.isImmediatePropagationStopped())t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((w.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?w(i,this).index(l)>-1:w.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(w.Event.prototype,e,{enumerable:!0,configurable:!0,get:g(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[w.expando]?e:new w.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&N(this,"input"))return this.click(),!1},_default:function(e){return N(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},w.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},w.Event=function(e,t){if(!(this instanceof w.Event))return new w.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&w.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[w.expando]=!0},w.Event.prototype={constructor:w.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},w.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&we.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Te.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},w.event.addProp),w.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){w.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||w.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),w.fn.extend({on:function(e,t,n,r){return De(this,e,t,n,r)},one:function(e,t,n,r){return De(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,w(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){w.event.remove(this,e,n,t)})}});var Ne=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ae=/<script|<style|<link/i,je=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Le(e,t){return N(e,"table")&&N(11!==t.nodeType?t:t.firstChild,"tr")?w(e).children("tbody")[0]||e:e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Pe(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)w.event.add(t,i,l[i][n])}K.hasData(e)&&(s=K.access(e),u=w.extend({},s),K.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&pe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Re(e,t,n,r){t=a.apply([],t);var i,o,s,u,l,c,f=0,p=e.length,d=p-1,y=t[0],v=g(y);if(v||p>1&&"string"==typeof y&&!h.checkClone&&je.test(y))return e.each(function(i){var o=e.eq(i);v&&(t[0]=y.call(this,i,o.html())),Re(o,t,n,r)});if(p&&(i=xe(t,e[0].ownerDocument,!1,e,r),o=i.firstChild,1===i.childNodes.length&&(i=o),o||r)){for(u=(s=w.map(ye(i,"script"),He)).length;f<p;f++)l=i,f!==d&&(l=w.clone(l,!0,!0),u&&w.merge(s,ye(l,"script"))),n.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,w.map(s,Oe),f=0;f<u;f++)l=s[f],he.test(l.type||"")&&!J.access(l,"globalEval")&&w.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?w._evalUrl&&w._evalUrl(l.src):m(l.textContent.replace(qe,""),c,l))}return e}function Ie(e,t,n){for(var r,i=t?w.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||w.cleanData(ye(r)),r.parentNode&&(n&&w.contains(r.ownerDocument,r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}w.extend({htmlPrefilter:function(e){return e.replace(Ne,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=w.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||w.isXMLDoc(e)))for(a=ye(s),r=0,i=(o=ye(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ye(e),a=a||ye(s),r=0,i=o.length;r<i;r++)Pe(o[r],a[r]);else Pe(e,s);return(a=ye(s,"script")).length>0&&ve(a,!u&&ye(e,"script")),s},cleanData:function(e){for(var t,n,r,i=w.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?w.event.remove(n,r):w.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[K.expando]&&(n[K.expando]=void 0)}}}),w.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return z(this,function(e){return void 0===e?w.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Re(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Le(this,e).appendChild(e)})},prepend:function(){return Re(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Le(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Re(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(w.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return w.clone(this,e,t)})},html:function(e){return z(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ae.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=w.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(w.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Re(this,arguments,function(t){var n=this.parentNode;w.inArray(this,e)<0&&(w.cleanData(ye(this)),n&&n.replaceChild(t,this))},e)}}),w.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){w.fn[e]=function(e){for(var n,r=[],i=w(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),w(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var We=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),$e=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Be=new RegExp(oe.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",be.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);i="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",s=36===n(t.right),o=36===n(t.width),c.style.position="absolute",a=36===c.offsetWidth||"absolute",be.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var i,o,a,s,u,l=r.createElement("div"),c=r.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===c.style.backgroundClip,w.extend(h,{boxSizingReliable:function(){return t(),o},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),a}}))}();function Fe(e,t,n){var r,i,o,a,s=e.style;return(n=n||$e(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||w.contains(e.ownerDocument,e)||(a=w.style(e,t)),!h.pixelBoxStyles()&&We.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}var ze=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ue={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Ye=r.createElement("div").style;function Qe(e){if(e in Ye)return e;var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;while(n--)if((e=Ge[n]+t)in Ye)return e}function Je(e){var t=w.cssProps[e];return t||(t=w.cssProps[e]=Qe(e)||e),t}function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=w.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=w.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=w.css(e,"border"+oe[a]+"Width",!0,i))):(u+=w.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=w.css(e,"border"+oe[a]+"Width",!0,i):s+=w.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function et(e,t,n){var r=$e(e),i=Fe(e,t,r),o="border-box"===w.css(e,"boxSizing",!1,r),a=o;if(We.test(i)){if(!n)return i;i="auto"}return a=a&&(h.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===w.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Ze(e,t,n||(o?"border":"content"),a,r,i)+"px"}w.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Fe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=G(t),u=Xe.test(t),l=e.style;if(u||(t=Je(s)),a=w.cssHooks[t]||w.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(w.cssNumber[s]?"":"px")),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=G(t);return Xe.test(t)||(t=Je(s)),(a=w.cssHooks[t]||w.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Fe(e,t,r)),"normal"===i&&t in Ve&&(i=Ve[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),w.each(["height","width"],function(e,t){w.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(w.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):se(e,Ue,function(){return et(e,t,r)})},set:function(e,n,r){var i,o=$e(e),a="border-box"===w.css(e,"boxSizing",!1,o),s=r&&Ze(e,t,r,a,o);return a&&h.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=w.css(e,t)),Ke(e,n,s)}}}),w.cssHooks.marginLeft=_e(h.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Fe(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),w.each({margin:"",padding:"",border:"Width"},function(e,t){w.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(w.cssHooks[e+t].set=Ke)}),w.fn.extend({css:function(e,t){return z(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=$e(e),i=t.length;a<i;a++)o[t[a]]=w.css(e,t[a],!1,r);return o}return void 0!==n?w.style(e,t,n):w.css(e,t)},e,t,arguments.length>1)}});function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}w.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||w.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(w.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=w.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=w.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){w.fx.step[e.prop]?w.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[w.cssProps[e.prop]]&&!w.cssHooks[e.prop]?e.elem[e.prop]=e.now:w.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},w.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},w.fx=tt.prototype.init,w.fx.step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function at(){rt&&(!1===r.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,w.fx.interval),w.fx.tick())}function st(){return e.setTimeout(function(){nt=void 0}),nt=Date.now()}function ut(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function lt(e,t,n){for(var r,i=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=J.get(e,"fxshow");n.queue||(null==(a=w._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,w.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||w.style(e,r)}if((u=!w.isEmptyObject(t))||!w.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=J.get(e,"display")),"none"===(c=w.css(e,"display"))&&(l?c=l:(fe([e],!0),l=e.style.display||l,c=w.css(e,"display"),fe([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===w.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=J.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&fe([e],!0),p.done(function(){g||fe([e]),J.remove(e,"fxshow");for(r in d)w.style(e,r,d[r])})),u=lt(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function ft(e,t){var n,r,i,o,a;for(n in e)if(r=G(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=w.cssHooks[r])&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function pt(e,t,n){var r,i,o=0,a=pt.prefilters.length,s=w.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=nt||st(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:w.extend({},t),opts:w.extend(!0,{specialEasing:{},easing:w.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||st(),duration:n.duration,tweens:[],createTween:function(t,n){var r=w.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(ft(c,l.opts.specialEasing);o<a;o++)if(r=pt.prefilters[o].call(l,e,c,l.opts))return g(r.stop)&&(w._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return w.map(c,lt,l),g(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),w.fx.timer(w.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}w.Animation=w.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){g(e)?(t=e,e=["*"]):e=e.match(M);for(var n,r=0,i=e.length;r<i;r++)n=e[r],pt.tweeners[n]=pt.tweeners[n]||[],pt.tweeners[n].unshift(t)},prefilters:[ct],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),w.speed=function(e,t,n){var r=e&&"object"==typeof e?w.extend({},e):{complete:n||!n&&t||g(e)&&e,duration:e,easing:n&&t||t&&!g(t)&&t};return w.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in w.fx.speeds?r.duration=w.fx.speeds[r.duration]:r.duration=w.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&w.dequeue(this,r.queue)},r},w.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=w.isEmptyObject(e),o=w.speed(t,n,r),a=function(){var t=pt(this,w.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=w.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ot.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||w.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=w.timers,a=r?r.length:0;for(n.finish=!0,w.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),w.each(["toggle","show","hide"],function(e,t){var n=w.fn[t];w.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ut(t,!0),e,r,i)}}),w.each({slideDown:ut("show"),slideUp:ut("hide"),slideToggle:ut("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){w.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),w.timers=[],w.fx.tick=function(){var e,t=0,n=w.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||w.fx.stop(),nt=void 0},w.fx.timer=function(e){w.timers.push(e),w.fx.start()},w.fx.interval=13,w.fx.start=function(){rt||(rt=!0,at())},w.fx.stop=function(){rt=null},w.fx.speeds={slow:600,fast:200,_default:400},w.fn.delay=function(t,n){return t=w.fx?w.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select").appendChild(r.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=t.selected,(e=r.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var dt,ht=w.expr.attrHandle;w.fn.extend({attr:function(e,t){return z(this,w.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){w.removeAttr(this,e)})}}),w.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?w.prop(e,t,n):(1===o&&w.isXMLDoc(e)||(i=w.attrHooks[t.toLowerCase()]||(w.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void w.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=w.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&N(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(M);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?w.removeAttr(e,n):e.setAttribute(n,n),n}},w.each(w.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||w.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var gt=/^(?:input|select|textarea|button)$/i,yt=/^(?:a|area)$/i;w.fn.extend({prop:function(e,t){return z(this,w.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[w.propFix[e]||e]})}}),w.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&w.isXMLDoc(e)||(t=w.propFix[t]||t,i=w.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=w.find.attr(e,"tabindex");return t?parseInt(t,10):gt.test(e.nodeName)||yt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),h.optSelected||(w.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),w.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){w.propFix[this.toLowerCase()]=this});function vt(e){return(e.match(M)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function xt(e){return Array.isArray(e)?e:"string"==typeof e?e.match(M)||[]:[]}w.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).addClass(e.call(this,t,mt(this)))});if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(g(e))return this.each(function(t){w(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=xt(e)).length)while(n=this[u++])if(i=mt(n),r=1===n.nodeType&&" "+vt(i)+" "){a=0;while(o=t[a++])while(r.indexOf(" "+o+" ")>-1)r=r.replace(" "+o+" "," ");i!==(s=vt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):g(e)?this.each(function(n){w(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r){i=0,o=w(this),a=xt(e);while(t=a[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&(" "+vt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var bt=/\r/g;w.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=g(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,w(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=w.map(i,function(e){return null==e?"":e+""})),(t=w.valHooks[this.type]||w.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return(t=w.valHooks[i.type]||w.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(bt,""):null==n?"":n}}}),w.extend({valHooks:{option:{get:function(e){var t=w.find.attr(e,"value");return null!=t?t:vt(w.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(t=w(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=w.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=w.inArray(w.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),w.each(["radio","checkbox"],function(){w.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=w.inArray(w(e).val(),t)>-1}},h.checkOn||(w.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),h.focusin="onfocusin"in e;var wt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};w.extend(w.event,{trigger:function(t,n,i,o){var a,s,u,l,c,p,d,h,v=[i||r],m=f.call(t,"type")?t.type:t,x=f.call(t,"namespace")?t.namespace.split("."):[];if(s=h=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!wt.test(m+w.event.triggered)&&(m.indexOf(".")>-1&&(m=(x=m.split(".")).shift(),x.sort()),c=m.indexOf(":")<0&&"on"+m,t=t[w.expando]?t:new w.Event(m,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=x.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:w.makeArray(n,[t]),d=w.event.special[m]||{},o||!d.trigger||!1!==d.trigger.apply(i,n))){if(!o&&!d.noBubble&&!y(i)){for(l=d.delegateType||m,wt.test(l+m)||(s=s.parentNode);s;s=s.parentNode)v.push(s),u=s;u===(i.ownerDocument||r)&&v.push(u.defaultView||u.parentWindow||e)}a=0;while((s=v[a++])&&!t.isPropagationStopped())h=s,t.type=a>1?l:d.bindType||m,(p=(J.get(s,"events")||{})[t.type]&&J.get(s,"handle"))&&p.apply(s,n),(p=c&&s[c])&&p.apply&&Y(s)&&(t.result=p.apply(s,n),!1===t.result&&t.preventDefault());return t.type=m,o||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(v.pop(),n)||!Y(i)||c&&g(i[m])&&!y(i)&&((u=i[c])&&(i[c]=null),w.event.triggered=m,t.isPropagationStopped()&&h.addEventListener(m,Tt),i[m](),t.isPropagationStopped()&&h.removeEventListener(m,Tt),w.event.triggered=void 0,u&&(i[c]=u)),t.result}},simulate:function(e,t,n){var r=w.extend(new w.Event,n,{type:e,isSimulated:!0});w.event.trigger(r,null,t)}}),w.fn.extend({trigger:function(e,t){return this.each(function(){w.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return w.event.trigger(e,t,n,!0)}}),h.focusin||w.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){w.event.simulate(t,e.target,w.event.fix(e))};w.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var Ct=e.location,Et=Date.now(),kt=/\?/;w.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||w.error("Invalid XML: "+t),n};var St=/\[\]$/,Dt=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function jt(e,t,n,r){var i;if(Array.isArray(t))w.each(t,function(t,i){n||St.test(e)?r(e,i):jt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==x(t))r(e,t);else for(i in t)jt(e+"["+i+"]",t[i],n,r)}w.param=function(e,t){var n,r=[],i=function(e,t){var n=g(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!w.isPlainObject(e))w.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},w.fn.extend({serialize:function(){return w.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=w.prop(this,"elements");return e?w.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!w(this).is(":disabled")&&At.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=w(this).val();return null==n?null:Array.isArray(n)?w.map(n,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:n.replace(Dt,"\r\n")}}).get()}});var qt=/%20/g,Lt=/#.*$/,Ht=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mt=/^(?:GET|HEAD)$/,Rt=/^\/\//,It={},Wt={},$t="*/".concat("*"),Bt=r.createElement("a");Bt.href=Ct.href;function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(M)||[];if(g(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function _t(e,t,n,r){var i={},o=e===Wt;function a(s){var u;return i[s]=!0,w.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function zt(e,t){var n,r,i=w.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&w.extend(!0,e,r),e}function Xt(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function Ut(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}w.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Pt.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":w.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,w.ajaxSettings),t):zt(w.ajaxSettings,e)},ajaxPrefilter:Ft(It),ajaxTransport:Ft(Wt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=w.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?w(g):w.event,v=w.Deferred(),m=w.Callbacks("once memory"),x=h.statusCode||{},b={},T={},C="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s){s={};while(t=Ot.exec(a))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=T[e.toLowerCase()]=T[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)E.always(e[E.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||C;return i&&i.abort(t),k(0,t),this}};if(v.promise(E),h.url=((t||h.url||Ct.href)+"").replace(Rt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(M)||[""],null==h.crossDomain){l=r.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Bt.protocol+"//"+Bt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=w.param(h.data,h.traditional)),_t(It,h,n,E),c)return E;(f=w.event&&h.global)&&0==w.active++&&w.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Mt.test(h.type),o=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(qt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),!1===h.cache&&(o=o.replace(Ht,"$1"),d=(kt.test(o)?"&":"?")+"_="+Et+++d),h.url=o+d),h.ifModified&&(w.lastModified[o]&&E.setRequestHeader("If-Modified-Since",w.lastModified[o]),w.etag[o]&&E.setRequestHeader("If-None-Match",w.etag[o])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+$t+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)E.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||c))return E.abort();if(C="abort",m.add(h.complete),E.done(h.success),E.fail(h.error),i=_t(Wt,h,n,E)){if(E.readyState=1,f&&y.trigger("ajaxSend",[E,h]),c)return E;h.async&&h.timeout>0&&(u=e.setTimeout(function(){E.abort("timeout")},h.timeout));try{c=!1,i.send(b,k)}catch(e){if(c)throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,s){var l,p,d,b,T,C=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",E.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=Xt(h,E,r)),b=Ut(h,b,E,l),l?(h.ifModified&&((T=E.getResponseHeader("Last-Modified"))&&(w.lastModified[o]=T),(T=E.getResponseHeader("etag"))&&(w.etag[o]=T)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=b.state,p=b.data,l=!(d=b.error))):(d=C,!t&&C||(C="error",t<0&&(t=0))),E.status=t,E.statusText=(n||C)+"",l?v.resolveWith(g,[p,C,E]):v.rejectWith(g,[E,C,d]),E.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[E,h,l?p:d]),m.fireWith(g,[E,C]),f&&(y.trigger("ajaxComplete",[E,h]),--w.active||w.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return w.get(e,t,n,"json")},getScript:function(e,t){return w.get(e,void 0,t,"script")}}),w.each(["get","post"],function(e,t){w[t]=function(e,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),w.ajax(w.extend({url:e,type:t,dataType:i,data:n,success:r},w.isPlainObject(e)&&e))}}),w._evalUrl=function(e){return w.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},w.fn.extend({wrapAll:function(e){var t;return this[0]&&(g(e)&&(e=e.call(this[0])),t=w(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return g(e)?this.each(function(t){w(this).wrapInner(e.call(this,t))}):this.each(function(){var t=w(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g(e);return this.each(function(n){w(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){w(this).replaceWith(this.childNodes)}),this}}),w.expr.pseudos.hidden=function(e){return!w.expr.pseudos.visible(e)},w.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},w.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},Gt=w.ajaxSettings.xhr();h.cors=!!Gt&&"withCredentials"in Gt,h.ajax=Gt=!!Gt,w.ajaxTransport(function(t){var n,r;if(h.cors||Gt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Vt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),w.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),w.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return w.globalEval(e),e}}}),w.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),w.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,o){t=w("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Yt=[],Qt=/(=)\?(?=&|$)|\?\?/;w.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Yt.pop()||w.expando+"_"+Et++;return this[e]=!0,e}}),w.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Qt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Qt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=g(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Qt,"$1"+i):!1!==t.jsonp&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||w.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?w(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Yt.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),h.createHTMLDocument=function(){var e=r.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),w.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var i,o,a;return t||(h.createHTMLDocument?((i=(t=r.implementation.createHTMLDocument("")).createElement("base")).href=r.location.href,t.head.appendChild(i)):t=r),o=A.exec(e),a=!n&&[],o?[t.createElement(o[1])]:(o=xe([e],t,a),a&&a.length&&w(a).remove(),w.merge([],o.childNodes))},w.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=vt(e.slice(s)),e=e.slice(0,s)),g(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&w.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?w("<div>").append(w.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},w.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){w.fn[t]=function(e){return this.on(t,e)}}),w.expr.pseudos.animated=function(e){return w.grep(w.timers,function(t){return e===t.elem}).length},w.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=w.css(e,"position"),f=w(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=w.css(e,"top"),u=w.css(e,"left"),(l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1)?(a=(r=f.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),g(t)&&(t=t.call(e,n,w.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},w.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){w.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===w.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===w.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=w(e).offset()).top+=w.css(e,"borderTopWidth",!0),i.left+=w.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-w.css(r,"marginTop",!0),left:t.left-i.left-w.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===w.css(e,"position"))e=e.offsetParent;return e||be})}}),w.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;w.fn[e]=function(r){return z(this,function(e,r,i){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),w.each(["top","left"],function(e,t){w.cssHooks[t]=_e(h.pixelPosition,function(e,n){if(n)return n=Fe(e,t),We.test(n)?w(e).position()[t]+"px":n})}),w.each({Height:"height",Width:"width"},function(e,t){w.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){w.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return z(this,function(t,n,i){var o;return y(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?w.css(t,n,s):w.style(t,n,i,s)},t,a?i:void 0,a)}})}),w.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){w.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),w.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),w.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),w.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g(e))return r=o.call(arguments,2),i=function(){return e.apply(t||this,r.concat(o.call(arguments)))},i.guid=e.guid=e.guid||w.guid++,i},w.holdReady=function(e){e?w.readyWait++:w.ready(!0)},w.isArray=Array.isArray,w.parseJSON=JSON.parse,w.nodeName=N,w.isFunction=g,w.isWindow=y,w.camelCase=G,w.type=x,w.now=Date.now,w.isNumeric=function(e){var t=w.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return w});var Jt=e.jQuery,Kt=e.$;return w.noConflict=function(t){return e.$===w&&(e.$=Kt),t&&e.jQuery===w&&(e.jQuery=Jt),w},t||(e.jQuery=e.$=w),w});(function($){$.color={};$.color.make=function(r,g,b,a){var o={};o.r=r||0;o.g=g||0;o.b=b||0;o.a=a!=null?a:1;o.add=function(c,d){for(var i=0;i<c.length;++i)o[c.charAt(i)]+=d;return o.normalize()};o.scale=function(c,f){for(var i=0;i<c.length;++i)o[c.charAt(i)]*=f;return o.normalize()};o.toString=function(){if(o.a>=1){return"rgb("+[o.r,o.g,o.b].join(",")+")"}else{return"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"}};o.normalize=function(){function clamp(min,value,max){return value<min?min:value>max?max:value}o.r=clamp(0,parseInt(o.r),255);o.g=clamp(0,parseInt(o.g),255);o.b=clamp(0,parseInt(o.b),255);o.a=clamp(0,o.a,1);return o};o.clone=function(){return $.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};$.color.extract=function(elem,css){var c;do{c=elem.css(css).toLowerCase();if(c!=""&&c!="transparent")break;elem=elem.parent()}while(elem.length&&!$.nodeName(elem.get(0),"body"));if(c=="rgba(0, 0, 0, 0)")c="transparent";return $.color.parse(c)};$.color.parse=function(str){var res,m=$.color.make;if(res=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10));if(res=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(parseInt(res[1],10),parseInt(res[2],10),parseInt(res[3],10),parseFloat(res[4]));if(res=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55);if(res=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(str))return m(parseFloat(res[1])*2.55,parseFloat(res[2])*2.55,parseFloat(res[3])*2.55,parseFloat(res[4]));if(res=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(str))return m(parseInt(res[1],16),parseInt(res[2],16),parseInt(res[3],16));if(res=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(str))return m(parseInt(res[1]+res[1],16),parseInt(res[2]+res[2],16),parseInt(res[3]+res[3],16));var name=$.trim(str).toLowerCase();if(name=="transparent")return m(255,255,255,0);else{res=lookupColors[name]||[0,0,0];return m(res[0],res[1],res[2])}};var lookupColors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);(function($){var hasOwnProperty=Object.prototype.hasOwnProperty;if(!$.fn.detach){$.fn.detach=function(){return this.each(function(){if(this.parentNode){this.parentNode.removeChild(this)}})}}function Canvas(cls,container){var element=container.children("."+cls)[0];if(element==null){element=document.createElement("canvas");element.className=cls;$(element).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(container);if(!element.getContext){if(window.G_vmlCanvasManager){element=window.G_vmlCanvasManager.initElement(element)}else{throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");}}}this.element=element;var context=this.context=element.getContext("2d");var devicePixelRatio=window.devicePixelRatio||1,backingStoreRatio=context.webkitBackingStorePixelRatio||context.mozBackingStorePixelRatio||context.msBackingStorePixelRatio||context.oBackingStorePixelRatio||context.backingStorePixelRatio||1;this.pixelRatio=devicePixelRatio/backingStoreRatio;this.resize(container.width(),container.height());this.textContainer=null;this.text={};this._textCache={}}Canvas.prototype.resize=function(width,height){if(width<=0||height<=0){throw new Error("Invalid dimensions for plot, width = "+width+", height = "+height);}var element=this.element,context=this.context,pixelRatio=this.pixelRatio;if(this.width!=width){element.width=width*pixelRatio;element.style.width=width+"px";this.width=width}if(this.height!=height){element.height=height*pixelRatio;element.style.height=height+"px";this.height=height}context.restore();context.save();context.scale(pixelRatio,pixelRatio)};Canvas.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)};Canvas.prototype.render=function(){var cache=this._textCache;for(var layerKey in cache){if(hasOwnProperty.call(cache,layerKey)){var layer=this.getTextLayer(layerKey),layerCache=cache[layerKey];layer.hide();for(var styleKey in layerCache){if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache){if(hasOwnProperty.call(styleCache,key)){var positions=styleCache[key].positions;for(var i=0,position;position=positions[i];i++){if(position.active){if(!position.rendered){layer.append(position.element);position.rendered=true}}else{positions.splice(i--,1);if(position.rendered){position.element.detach()}}}if(positions.length==0){delete styleCache[key]}}}}}layer.show()}}};Canvas.prototype.getTextLayer=function(classes){var layer=this.text[classes];if(layer==null){if(this.textContainer==null){this.textContainer=$("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,'font-size':"smaller",color:"#545454"}).insertAfter(this.element)}layer=this.text[classes]=$("<div></div>").addClass(classes).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)}return layer};Canvas.prototype.getTextInfo=function(layer,text,font,angle,width){var textStyle,layerCache,styleCache,info;text=""+text;if(typeof font==="object"){textStyle=font.style+" "+font.variant+" "+font.weight+" "+font.size+"px/"+font.lineHeight+"px "+font.family}else{textStyle=font}layerCache=this._textCache[layer];if(layerCache==null){layerCache=this._textCache[layer]={}}styleCache=layerCache[textStyle];if(styleCache==null){styleCache=layerCache[textStyle]={}}info=styleCache[text];if(info==null){var element=$("<div></div>").html(text).css({position:"absolute",'max-width':width,top:-9999}).appendTo(this.getTextLayer(layer));if(typeof font==="object"){element.css({font:textStyle,color:font.color})}else if(typeof font==="string"){element.addClass(font)}info=styleCache[text]={width:element.outerWidth(true),height:element.outerHeight(true),element:element,positions:[]};element.detach()}return info};Canvas.prototype.addText=function(layer,x,y,text,font,angle,width,halign,valign){var info=this.getTextInfo(layer,text,font,angle,width),positions=info.positions;if(halign=="center"){x-=info.width/2}else if(halign=="right"){x-=info.width}if(valign=="middle"){y-=info.height/2}else if(valign=="bottom"){y-=info.height}for(var i=0,position;position=positions[i];i++){if(position.x==x&&position.y==y){position.active=true;return}}position={active:true,rendered:false,element:positions.length?info.element.clone():info.element,x:x,y:y};positions.push(position);position.element.css({top:Math.round(y),left:Math.round(x),'text-align':halign})};Canvas.prototype.removeText=function(layer,x,y,text,font,angle){if(text==null){var layerCache=this._textCache[layer];if(layerCache!=null){for(var styleKey in layerCache){if(hasOwnProperty.call(layerCache,styleKey)){var styleCache=layerCache[styleKey];for(var key in styleCache){if(hasOwnProperty.call(styleCache,key)){var positions=styleCache[key].positions;for(var i=0,position;position=positions[i];i++){position.active=false}}}}}}}else{var positions=this.getTextInfo(layer,text,font,angle).positions;for(var i=0,position;position=positions[i];i++){if(position.x==x&&position.y==y){position.active=false}}}};function Plot(placeholder,data_,options_,plugins){var series=[],options={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:true,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:false,radius:3,lineWidth:2,fill:true,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:false,fillColor:null,steps:false},bars:{show:false,lineWidth:2,barWidth:1,fill:true,fillColor:null,align:"left",horizontal:false,zero:true},shadowSize:3,highlightColor:null},grid:{show:true,aboveData:false,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:false,hoverable:false,autoHighlight:true,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1000/60},hooks:{}},surface=null,overlay=null,eventHolder=null,ctx=null,octx=null,xaxes=[],yaxes=[],plotOffset={left:0,right:0,top:0,bottom:0},plotWidth=0,plotHeight=0,hooks={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},plot=this;plot.setData=setData;plot.setupGrid=setupGrid;plot.draw=draw;plot.getPlaceholder=function(){return placeholder};plot.getCanvas=function(){return surface.element};plot.getPlotOffset=function(){return plotOffset};plot.width=function(){return plotWidth};plot.height=function(){return plotHeight};plot.offset=function(){var o=eventHolder.offset();o.left+=plotOffset.left;o.top+=plotOffset.top;return o};plot.getData=function(){return series};plot.getAxes=function(){var res={},i;$.each(xaxes.concat(yaxes),function(_,axis){if(axis)res[axis.direction+(axis.n!=1?axis.n:"")+"axis"]=axis});return res};plot.getXAxes=function(){return xaxes};plot.getYAxes=function(){return yaxes};plot.c2p=canvasToAxisCoords;plot.p2c=axisToCanvasCoords;plot.getOptions=function(){return options};plot.highlight=highlight;plot.unhighlight=unhighlight;plot.triggerRedrawOverlay=triggerRedrawOverlay;plot.pointOffset=function(point){return{left:parseInt(xaxes[axisNumber(point,"x")-1].p2c(+point.x)+plotOffset.left,10),top:parseInt(yaxes[axisNumber(point,"y")-1].p2c(+point.y)+plotOffset.top,10)}};plot.shutdown=shutdown;plot.destroy=function(){shutdown();placeholder.removeData("plot").empty();series=[];options=null;surface=null;overlay=null;eventHolder=null;ctx=null;octx=null;xaxes=[];yaxes=[];hooks=null;highlights=[];plot=null};plot.resize=function(){var width=placeholder.width(),height=placeholder.height();surface.resize(width,height);overlay.resize(width,height)};plot.hooks=hooks;initPlugins(plot);parseOptions(options_);setupCanvases();setData(data_);setupGrid();draw();bindEvents();function executeHooks(hook,args){args=[plot].concat(args);for(var i=0;i<hook.length;++i)hook[i].apply(this,args)}function initPlugins(){var classes={Canvas:Canvas};for(var i=0;i<plugins.length;++i){var p=plugins[i];p.init(plot,classes);if(p.options)$.extend(true,options,p.options)}}function parseOptions(opts){$.extend(true,options,opts);if(opts&&opts.colors){options.colors=opts.colors}if(options.xaxis.color==null)options.xaxis.color=$.color.parse(options.grid.color).scale('a',0.22).toString();if(options.yaxis.color==null)options.yaxis.color=$.color.parse(options.grid.color).scale('a',0.22).toString();if(options.xaxis.tickColor==null)options.xaxis.tickColor=options.grid.tickColor||options.xaxis.color;if(options.yaxis.tickColor==null)options.yaxis.tickColor=options.grid.tickColor||options.yaxis.color;if(options.grid.borderColor==null)options.grid.borderColor=options.grid.color;if(options.grid.tickColor==null)options.grid.tickColor=$.color.parse(options.grid.color).scale('a',0.22).toString();var i,axisOptions,axisCount,fontSize=placeholder.css("font-size"),fontSizeDefault=fontSize?+fontSize.replace("px",""):13,fontDefaults={style:placeholder.css("font-style"),size:Math.round(0.8*fontSizeDefault),variant:placeholder.css("font-variant"),weight:placeholder.css("font-weight"),family:placeholder.css("font-family")};axisCount=options.xaxes.length||1;for(i=0;i<axisCount;++i){axisOptions=options.xaxes[i];if(axisOptions&&!axisOptions.tickColor){axisOptions.tickColor=axisOptions.color}axisOptions=$.extend(true,{},options.xaxis,axisOptions);options.xaxes[i]=axisOptions;if(axisOptions.font){axisOptions.font=$.extend({},fontDefaults,axisOptions.font);if(!axisOptions.font.color){axisOptions.font.color=axisOptions.color}if(!axisOptions.font.lineHeight){axisOptions.font.lineHeight=Math.round(axisOptions.font.size*1.15)}}}axisCount=options.yaxes.length||1;for(i=0;i<axisCount;++i){axisOptions=options.yaxes[i];if(axisOptions&&!axisOptions.tickColor){axisOptions.tickColor=axisOptions.color}axisOptions=$.extend(true,{},options.yaxis,axisOptions);options.yaxes[i]=axisOptions;if(axisOptions.font){axisOptions.font=$.extend({},fontDefaults,axisOptions.font);if(!axisOptions.font.color){axisOptions.font.color=axisOptions.color}if(!axisOptions.font.lineHeight){axisOptions.font.lineHeight=Math.round(axisOptions.font.size*1.15)}}}if(options.xaxis.noTicks&&options.xaxis.ticks==null)options.xaxis.ticks=options.xaxis.noTicks;if(options.yaxis.noTicks&&options.yaxis.ticks==null)options.yaxis.ticks=options.yaxis.noTicks;if(options.x2axis){options.xaxes[1]=$.extend(true,{},options.xaxis,options.x2axis);options.xaxes[1].position="top";if(options.x2axis.min==null){options.xaxes[1].min=null}if(options.x2axis.max==null){options.xaxes[1].max=null}}if(options.y2axis){options.yaxes[1]=$.extend(true,{},options.yaxis,options.y2axis);options.yaxes[1].position="right";if(options.y2axis.min==null){options.yaxes[1].min=null}if(options.y2axis.max==null){options.yaxes[1].max=null}}if(options.grid.coloredAreas)options.grid.markings=options.grid.coloredAreas;if(options.grid.coloredAreasColor)options.grid.markingsColor=options.grid.coloredAreasColor;if(options.lines)$.extend(true,options.series.lines,options.lines);if(options.points)$.extend(true,options.series.points,options.points);if(options.bars)$.extend(true,options.series.bars,options.bars);if(options.shadowSize!=null)options.series.shadowSize=options.shadowSize;if(options.highlightColor!=null)options.series.highlightColor=options.highlightColor;for(i=0;i<options.xaxes.length;++i)getOrCreateAxis(xaxes,i+1).options=options.xaxes[i];for(i=0;i<options.yaxes.length;++i)getOrCreateAxis(yaxes,i+1).options=options.yaxes[i];for(var n in hooks)if(options.hooks[n]&&options.hooks[n].length)hooks[n]=hooks[n].concat(options.hooks[n]);executeHooks(hooks.processOptions,[options])}function setData(d){series=parseData(d);fillInSeriesOptions();processData()}function parseData(d){var res=[];for(var i=0;i<d.length;++i){var s=$.extend(true,{},options.series);if(d[i].data!=null){s.data=d[i].data;delete d[i].data;$.extend(true,s,d[i]);d[i].data=s.data}else s.data=d[i];res.push(s)}return res}function axisNumber(obj,coord){var a=obj[coord+"axis"];if(typeof a=="object")a=a.n;if(typeof a!="number")a=1;return a}function allAxes(){return $.grep(xaxes.concat(yaxes),function(a){return a})}function canvasToAxisCoords(pos){var res={},i,axis;for(i=0;i<xaxes.length;++i){axis=xaxes[i];if(axis&&axis.used)res["x"+axis.n]=axis.c2p(pos.left)}for(i=0;i<yaxes.length;++i){axis=yaxes[i];if(axis&&axis.used)res["y"+axis.n]=axis.c2p(pos.top)}if(res.x1!==undefined)res.x=res.x1;if(res.y1!==undefined)res.y=res.y1;return res}function axisToCanvasCoords(pos){var res={},i,axis,key;for(i=0;i<xaxes.length;++i){axis=xaxes[i];if(axis&&axis.used){key="x"+axis.n;if(pos[key]==null&&axis.n==1)key="x";if(pos[key]!=null){res.left=axis.p2c(pos[key]);break}}}for(i=0;i<yaxes.length;++i){axis=yaxes[i];if(axis&&axis.used){key="y"+axis.n;if(pos[key]==null&&axis.n==1)key="y";if(pos[key]!=null){res.top=axis.p2c(pos[key]);break}}}return res}function getOrCreateAxis(axes,number){if(!axes[number-1])axes[number-1]={n:number,direction:axes==xaxes?"x":"y",options:$.extend(true,{},axes==xaxes?options.xaxis:options.yaxis)};return axes[number-1]}function fillInSeriesOptions(){var neededColors=series.length,maxIndex=-1,i;for(i=0;i<series.length;++i){var sc=series[i].color;if(sc!=null){neededColors--;if(typeof sc=="number"&&sc>maxIndex){maxIndex=sc}}}if(neededColors<=maxIndex){neededColors=maxIndex+1}var c,colors=[],colorPool=options.colors,colorPoolSize=colorPool.length,variation=0;for(i=0;i<neededColors;i++){c=$.color.parse(colorPool[i%colorPoolSize]||"#666");if(i%colorPoolSize==0&&i){if(variation>=0){if(variation<0.5){variation=-variation-0.2}else variation=0}else variation=-variation}colors[i]=c.scale('rgb',1+variation)}var colori=0,s;for(i=0;i<series.length;++i){s=series[i];if(s.color==null){s.color=colors[colori].toString();++colori}else if(typeof s.color=="number")s.color=colors[s.color].toString();if(s.lines.show==null){var v,show=true;for(v in s)if(s[v]&&s[v].show){show=false;break}if(show)s.lines.show=true}if(s.lines.zero==null){s.lines.zero=!!s.lines.fill}s.xaxis=getOrCreateAxis(xaxes,axisNumber(s,"x"));s.yaxis=getOrCreateAxis(yaxes,axisNumber(s,"y"))}}function processData(){var topSentry=Number.POSITIVE_INFINITY,bottomSentry=Number.NEGATIVE_INFINITY,fakeInfinity=Number.MAX_VALUE,i,j,k,m,length,s,points,ps,x,y,axis,val,f,p,data,format;function updateAxis(axis,min,max){if(min<axis.datamin&&min!=-fakeInfinity)axis.datamin=min;if(max>axis.datamax&&max!=fakeInfinity)axis.datamax=max}$.each(allAxes(),function(_,axis){axis.datamin=topSentry;axis.datamax=bottomSentry;axis.used=false});for(i=0;i<series.length;++i){s=series[i];s.datapoints={points:[]};executeHooks(hooks.processRawData,[s,s.data,s.datapoints])}for(i=0;i<series.length;++i){s=series[i];data=s.data;format=s.datapoints.format;if(!format){format=[];format.push({x:true,number:true,required:true});format.push({y:true,number:true,required:true});if(s.bars.show||(s.lines.show&&s.lines.fill)){var autoscale=!!((s.bars.show&&s.bars.zero)||(s.lines.show&&s.lines.zero));format.push({y:true,number:true,required:false,defaultValue:0,autoscale:autoscale});if(s.bars.horizontal){delete format[format.length-1].y;format[format.length-1].x=true}}s.datapoints.format=format}if(s.datapoints.pointsize!=null)continue;s.datapoints.pointsize=format.length;ps=s.datapoints.pointsize;points=s.datapoints.points;var insertSteps=s.lines.show&&s.lines.steps;s.xaxis.used=s.yaxis.used=true;for(j=k=0;j<data.length;++j,k+=ps){p=data[j];var nullify=p==null;if(!nullify){for(m=0;m<ps;++m){val=p[m];f=format[m];if(f){if(f.number&&val!=null){val=+val;if(isNaN(val))val=null;else if(val==Infinity)val=fakeInfinity;else if(val==-Infinity)val=-fakeInfinity}if(val==null){if(f.required)nullify=true;if(f.defaultValue!=null)val=f.defaultValue}}points[k+m]=val}}if(nullify){for(m=0;m<ps;++m){val=points[k+m];if(val!=null){f=format[m];if(f.autoscale!==false){if(f.x){updateAxis(s.xaxis,val,val)}if(f.y){updateAxis(s.yaxis,val,val)}}}points[k+m]=null}}else{if(insertSteps&&k>0&&points[k-ps]!=null&&points[k-ps]!=points[k]&&points[k-ps+1]!=points[k+1]){for(m=0;m<ps;++m)points[k+ps+m]=points[k+m];points[k+1]=points[k-ps+1];k+=ps}}}}for(i=0;i<series.length;++i){s=series[i];executeHooks(hooks.processDatapoints,[s,s.datapoints])}for(i=0;i<series.length;++i){s=series[i];points=s.datapoints.points;ps=s.datapoints.pointsize;format=s.datapoints.format;var xmin=topSentry,ymin=topSentry,xmax=bottomSentry,ymax=bottomSentry;for(j=0;j<points.length;j+=ps){if(points[j]==null)continue;for(m=0;m<ps;++m){val=points[j+m];f=format[m];if(!f||f.autoscale===false||val==fakeInfinity||val==-fakeInfinity)continue;if(f.x){if(val<xmin)xmin=val;if(val>xmax)xmax=val}if(f.y){if(val<ymin)ymin=val;if(val>ymax)ymax=val}}}if(s.bars.show){var delta;switch(s.bars.align){case"left":delta=0;break;case"right":delta=-s.bars.barWidth;break;default:delta=-s.bars.barWidth/2}if(s.bars.horizontal){ymin+=delta;ymax+=delta+s.bars.barWidth}else{xmin+=delta;xmax+=delta+s.bars.barWidth}}updateAxis(s.xaxis,xmin,xmax);updateAxis(s.yaxis,ymin,ymax)}$.each(allAxes(),function(_,axis){if(axis.datamin==topSentry)axis.datamin=null;if(axis.datamax==bottomSentry)axis.datamax=null})}function setupCanvases(){placeholder.css("padding",0).children().filter(function(){return!$(this).hasClass("flot-overlay")&&!$(this).hasClass('flot-base')}).remove();if(placeholder.css("position")=='static')placeholder.css("position","relative");surface=new Canvas("flot-base",placeholder);overlay=new Canvas("flot-overlay",placeholder);ctx=surface.context;octx=overlay.context;eventHolder=$(overlay.element).unbind();var existing=placeholder.data("plot");if(existing){existing.shutdown();overlay.clear()}placeholder.data("plot",plot)}function bindEvents(){if(options.grid.hoverable){eventHolder.mousemove(onMouseMove);eventHolder.bind("mouseleave",onMouseLeave)}if(options.grid.clickable)eventHolder.click(onClick);executeHooks(hooks.bindEvents,[eventHolder])}function shutdown(){if(redrawTimeout)clearTimeout(redrawTimeout);eventHolder.unbind("mousemove",onMouseMove);eventHolder.unbind("mouseleave",onMouseLeave);eventHolder.unbind("click",onClick);executeHooks(hooks.shutdown,[eventHolder])}function setTransformationHelpers(axis){function identity(x){return x}var s,m,t=axis.options.transform||identity,it=axis.options.inverseTransform;if(axis.direction=="x"){s=axis.scale=plotWidth/Math.abs(t(axis.max)-t(axis.min));m=Math.min(t(axis.max),t(axis.min))}else{s=axis.scale=plotHeight/Math.abs(t(axis.max)-t(axis.min));s=-s;m=Math.max(t(axis.max),t(axis.min))}if(t==identity)axis.p2c=function(p){return(p-m)*s};else axis.p2c=function(p){return(t(p)-m)*s};if(!it)axis.c2p=function(c){return m+c/s};else axis.c2p=function(c){return it(m+c/s)}}function measureTickLabels(axis){var opts=axis.options,ticks=axis.ticks||[],labelWidth=opts.labelWidth||0,labelHeight=opts.labelHeight||0,maxWidth=labelWidth||(axis.direction=="x"?Math.floor(surface.width/(ticks.length||1)):null),legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=opts.font||"flot-tick-label tickLabel";for(var i=0;i<ticks.length;++i){var t=ticks[i];if(!t.label)continue;var info=surface.getTextInfo(layer,t.label,font,null,maxWidth);labelWidth=Math.max(labelWidth,info.width);labelHeight=Math.max(labelHeight,info.height)}axis.labelWidth=opts.labelWidth||labelWidth;axis.labelHeight=opts.labelHeight||labelHeight}function allocateAxisBoxFirstPhase(axis){var lw=axis.labelWidth,lh=axis.labelHeight,pos=axis.options.position,isXAxis=axis.direction==="x",tickLength=axis.options.tickLength,axisMargin=options.grid.axisMargin,padding=options.grid.labelMargin,innermost=true,outermost=true,first=true,found=false;$.each(isXAxis?xaxes:yaxes,function(i,a){if(a&&(a.show||a.reserveSpace)){if(a===axis){found=true}else if(a.options.position===pos){if(found){outermost=false}else{innermost=false}}if(!found){first=false}}});if(outermost){axisMargin=0}if(tickLength==null){tickLength=first?"full":5}if(!isNaN(+tickLength))padding+=+tickLength;if(isXAxis){lh+=padding;if(pos=="bottom"){plotOffset.bottom+=lh+axisMargin;axis.box={top:surface.height-plotOffset.bottom,height:lh}}else{axis.box={top:plotOffset.top+axisMargin,height:lh};plotOffset.top+=lh+axisMargin}}else{lw+=padding;if(pos=="left"){axis.box={left:plotOffset.left+axisMargin,width:lw};plotOffset.left+=lw+axisMargin}else{plotOffset.right+=lw+axisMargin;axis.box={left:surface.width-plotOffset.right,width:lw}}}axis.position=pos;axis.tickLength=tickLength;axis.box.padding=padding;axis.innermost=innermost}function allocateAxisBoxSecondPhase(axis){if(axis.direction=="x"){axis.box.left=plotOffset.left-axis.labelWidth/2;axis.box.width=surface.width-plotOffset.left-plotOffset.right+axis.labelWidth}else{axis.box.top=plotOffset.top-axis.labelHeight/2;axis.box.height=surface.height-plotOffset.bottom-plotOffset.top+axis.labelHeight}}function adjustLayoutForThingsStickingOut(){var minMargin=options.grid.minBorderMargin,axis,i;if(minMargin==null){minMargin=0;for(i=0;i<series.length;++i)minMargin=Math.max(minMargin,2*(series[i].points.radius+series[i].points.lineWidth/2))}var margins={left:minMargin,right:minMargin,top:minMargin,bottom:minMargin};$.each(allAxes(),function(_,axis){if(axis.reserveSpace&&axis.ticks&&axis.ticks.length){if(axis.direction==="x"){margins.left=Math.max(margins.left,axis.labelWidth/2);margins.right=Math.max(margins.right,axis.labelWidth/2)}else{margins.bottom=Math.max(margins.bottom,axis.labelHeight/2);margins.top=Math.max(margins.top,axis.labelHeight/2)}}});plotOffset.left=Math.ceil(Math.max(margins.left,plotOffset.left));plotOffset.right=Math.ceil(Math.max(margins.right,plotOffset.right));plotOffset.top=Math.ceil(Math.max(margins.top,plotOffset.top));plotOffset.bottom=Math.ceil(Math.max(margins.bottom,plotOffset.bottom))}function setupGrid(){var i,axes=allAxes(),showGrid=options.grid.show;for(var a in plotOffset){var margin=options.grid.margin||0;plotOffset[a]=typeof margin=="number"?margin:margin[a]||0}executeHooks(hooks.processOffset,[plotOffset]);for(var a in plotOffset){if(typeof(options.grid.borderWidth)=="object"){plotOffset[a]+=showGrid?options.grid.borderWidth[a]:0}else{plotOffset[a]+=showGrid?options.grid.borderWidth:0}}$.each(axes,function(_,axis){var axisOpts=axis.options;axis.show=axisOpts.show==null?axis.used:axisOpts.show;axis.reserveSpace=axisOpts.reserveSpace==null?axis.show:axisOpts.reserveSpace;setRange(axis)});if(showGrid){var allocatedAxes=$.grep(axes,function(axis){return axis.show||axis.reserveSpace});$.each(allocatedAxes,function(_,axis){setupTickGeneration(axis);setTicks(axis);snapRangeToTicks(axis,axis.ticks);measureTickLabels(axis)});for(i=allocatedAxes.length-1;i>=0;--i)allocateAxisBoxFirstPhase(allocatedAxes[i]);adjustLayoutForThingsStickingOut();$.each(allocatedAxes,function(_,axis){allocateAxisBoxSecondPhase(axis)})}plotWidth=surface.width-plotOffset.left-plotOffset.right;plotHeight=surface.height-plotOffset.bottom-plotOffset.top;$.each(axes,function(_,axis){setTransformationHelpers(axis)});if(showGrid){drawAxisLabels()}insertLegend()}function setRange(axis){var opts=axis.options,min=+(opts.min!=null?opts.min:axis.datamin),max=+(opts.max!=null?opts.max:axis.datamax),delta=max-min;if(delta==0.0){var widen=max==0?1:0.01;if(opts.min==null)min-=widen;if(opts.max==null||opts.min!=null)max+=widen}else{var margin=opts.autoscaleMargin;if(margin!=null){if(opts.min==null){min-=delta*margin;if(min<0&&axis.datamin!=null&&axis.datamin>=0)min=0}if(opts.max==null){max+=delta*margin;if(max>0&&axis.datamax!=null&&axis.datamax<=0)max=0}}}axis.min=min;axis.max=max}function setupTickGeneration(axis){var opts=axis.options;var noTicks;if(typeof opts.ticks=="number"&&opts.ticks>0)noTicks=opts.ticks;else noTicks=0.3*Math.sqrt(axis.direction=="x"?surface.width:surface.height);var delta=(axis.max-axis.min)/noTicks,dec=-Math.floor(Math.log(delta)/Math.LN10),maxDec=opts.tickDecimals;if(maxDec!=null&&dec>maxDec){dec=maxDec}var magn=Math.pow(10,-dec),norm=delta/magn,size;if(norm<1.5){size=1}else if(norm<3){size=2;if(norm>2.25&&(maxDec==null||dec+1<=maxDec)){size=2.5;++dec}}else if(norm<7.5){size=5}else{size=10}size*=magn;if(opts.minTickSize!=null&&size<opts.minTickSize){size=opts.minTickSize}axis.delta=delta;axis.tickDecimals=Math.max(0,maxDec!=null?maxDec:dec);axis.tickSize=opts.tickSize||size;if(opts.mode=="time"&&!axis.tickGenerator){throw new Error("Time mode requires the flot.time plugin.");}if(!axis.tickGenerator){axis.tickGenerator=function(axis){var ticks=[],start=floorInBase(axis.min,axis.tickSize),i=0,v=Number.NaN,prev;do{prev=v;v=start+i*axis.tickSize;ticks.push(v);++i}while(v<axis.max&&v!=prev);return ticks};axis.tickFormatter=function(value,axis){var factor=axis.tickDecimals?Math.pow(10,axis.tickDecimals):1;var formatted=""+Math.round(value*factor)/factor;if(axis.tickDecimals!=null){var decimal=formatted.indexOf(".");var precision=decimal==-1?0:formatted.length-decimal-1;if(precision<axis.tickDecimals){return(precision?formatted:formatted+".")+(""+factor).substr(1,axis.tickDecimals-precision)}}return formatted}}if($.isFunction(opts.tickFormatter))axis.tickFormatter=function(v,axis){return""+opts.tickFormatter(v,axis)};if(opts.alignTicksWithAxis!=null){var otherAxis=(axis.direction=="x"?xaxes:yaxes)[opts.alignTicksWithAxis-1];if(otherAxis&&otherAxis.used&&otherAxis!=axis){var niceTicks=axis.tickGenerator(axis);if(niceTicks.length>0){if(opts.min==null)axis.min=Math.min(axis.min,niceTicks[0]);if(opts.max==null&&niceTicks.length>1)axis.max=Math.max(axis.max,niceTicks[niceTicks.length-1])}axis.tickGenerator=function(axis){var ticks=[],v,i;for(i=0;i<otherAxis.ticks.length;++i){v=(otherAxis.ticks[i].v-otherAxis.min)/(otherAxis.max-otherAxis.min);v=axis.min+v*(axis.max-axis.min);ticks.push(v)}return ticks};if(!axis.mode&&opts.tickDecimals==null){var extraDec=Math.max(0,-Math.floor(Math.log(axis.delta)/Math.LN10)+1),ts=axis.tickGenerator(axis);if(!(ts.length>1&&/\..*0$/.test((ts[1]-ts[0]).toFixed(extraDec))))axis.tickDecimals=extraDec}}}}function setTicks(axis){var oticks=axis.options.ticks,ticks=[];if(oticks==null||(typeof oticks=="number"&&oticks>0))ticks=axis.tickGenerator(axis);else if(oticks){if($.isFunction(oticks))ticks=oticks(axis);else ticks=oticks}var i,v;axis.ticks=[];for(i=0;i<ticks.length;++i){var label=null;var t=ticks[i];if(typeof t=="object"){v=+t[0];if(t.length>1)label=t[1]}else v=+t;if(label==null)label=axis.tickFormatter(v,axis);if(!isNaN(v))axis.ticks.push({v:v,label:label})}}function snapRangeToTicks(axis,ticks){if(axis.options.autoscaleMargin&&ticks.length>0){if(axis.options.min==null)axis.min=Math.min(axis.min,ticks[0].v);if(axis.options.max==null&&ticks.length>1)axis.max=Math.max(axis.max,ticks[ticks.length-1].v)}}function draw(){surface.clear();executeHooks(hooks.drawBackground,[ctx]);var grid=options.grid;if(grid.show&&grid.backgroundColor)drawBackground();if(grid.show&&!grid.aboveData){drawGrid()}for(var i=0;i<series.length;++i){executeHooks(hooks.drawSeries,[ctx,series[i]]);drawSeries(series[i])}executeHooks(hooks.draw,[ctx]);if(grid.show&&grid.aboveData){drawGrid()}surface.render();triggerRedrawOverlay()}function extractRange(ranges,coord){var axis,from,to,key,axes=allAxes();for(var i=0;i<axes.length;++i){axis=axes[i];if(axis.direction==coord){key=coord+axis.n+"axis";if(!ranges[key]&&axis.n==1)key=coord+"axis";if(ranges[key]){from=ranges[key].from;to=ranges[key].to;break}}}if(!ranges[key]){axis=coord=="x"?xaxes[0]:yaxes[0];from=ranges[coord+"1"];to=ranges[coord+"2"]}if(from!=null&&to!=null&&from>to){var tmp=from;from=to;to=tmp}return{from:from,to:to,axis:axis}}function drawBackground(){ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.fillStyle=getColorOrGradient(options.grid.backgroundColor,plotHeight,0,"rgba(255, 255, 255, 0)");ctx.fillRect(0,0,plotWidth,plotHeight);ctx.restore()}function drawGrid(){var i,axes,bw,bc;ctx.save();ctx.translate(plotOffset.left,plotOffset.top);var markings=options.grid.markings;if(markings){if($.isFunction(markings)){axes=plot.getAxes();axes.xmin=axes.xaxis.min;axes.xmax=axes.xaxis.max;axes.ymin=axes.yaxis.min;axes.ymax=axes.yaxis.max;markings=markings(axes)}for(i=0;i<markings.length;++i){var m=markings[i],xrange=extractRange(m,"x"),yrange=extractRange(m,"y");if(xrange.from==null)xrange.from=xrange.axis.min;if(xrange.to==null)xrange.to=xrange.axis.max;if(yrange.from==null)yrange.from=yrange.axis.min;if(yrange.to==null)yrange.to=yrange.axis.max;if(xrange.to<xrange.axis.min||xrange.from>xrange.axis.max||yrange.to<yrange.axis.min||yrange.from>yrange.axis.max)continue;xrange.from=Math.max(xrange.from,xrange.axis.min);xrange.to=Math.min(xrange.to,xrange.axis.max);yrange.from=Math.max(yrange.from,yrange.axis.min);yrange.to=Math.min(yrange.to,yrange.axis.max);var xequal=xrange.from===xrange.to,yequal=yrange.from===yrange.to;if(xequal&&yequal){continue}xrange.from=Math.floor(xrange.axis.p2c(xrange.from));xrange.to=Math.floor(xrange.axis.p2c(xrange.to));yrange.from=Math.floor(yrange.axis.p2c(yrange.from));yrange.to=Math.floor(yrange.axis.p2c(yrange.to));if(xequal||yequal){var lineWidth=m.lineWidth||options.grid.markingsLineWidth,subPixel=lineWidth%2?0.5:0;ctx.beginPath();ctx.strokeStyle=m.color||options.grid.markingsColor;ctx.lineWidth=lineWidth;if(xequal){ctx.moveTo(xrange.to+subPixel,yrange.from);ctx.lineTo(xrange.to+subPixel,yrange.to)}else{ctx.moveTo(xrange.from,yrange.to+subPixel);ctx.lineTo(xrange.to,yrange.to+subPixel)}ctx.stroke()}else{ctx.fillStyle=m.color||options.grid.markingsColor;ctx.fillRect(xrange.from,yrange.to,xrange.to-xrange.from,yrange.from-yrange.to)}}}axes=allAxes();bw=options.grid.borderWidth;for(var j=0;j<axes.length;++j){var axis=axes[j],box=axis.box,t=axis.tickLength,x,y,xoff,yoff;if(!axis.show||axis.ticks.length==0)continue;ctx.lineWidth=1;if(axis.direction=="x"){x=0;if(t=="full")y=(axis.position=="top"?0:plotHeight);else y=box.top-plotOffset.top+(axis.position=="top"?box.height:0)}else{y=0;if(t=="full")x=(axis.position=="left"?0:plotWidth);else x=box.left-plotOffset.left+(axis.position=="left"?box.width:0)}if(!axis.innermost){ctx.strokeStyle=axis.options.color;ctx.beginPath();xoff=yoff=0;if(axis.direction=="x")xoff=plotWidth+1;else yoff=plotHeight+1;if(ctx.lineWidth==1){if(axis.direction=="x"){y=Math.floor(y)+0.5}else{x=Math.floor(x)+0.5}}ctx.moveTo(x,y);ctx.lineTo(x+xoff,y+yoff);ctx.stroke()}ctx.strokeStyle=axis.options.tickColor;ctx.beginPath();for(i=0;i<axis.ticks.length;++i){var v=axis.ticks[i].v;xoff=yoff=0;if(isNaN(v)||v<axis.min||v>axis.max||(t=="full"&&((typeof bw=="object"&&bw[axis.position]>0)||bw>0)&&(v==axis.min||v==axis.max)))continue;if(axis.direction=="x"){x=axis.p2c(v);yoff=t=="full"?-plotHeight:t;if(axis.position=="top")yoff=-yoff}else{y=axis.p2c(v);xoff=t=="full"?-plotWidth:t;if(axis.position=="left")xoff=-xoff}if(ctx.lineWidth==1){if(axis.direction=="x")x=Math.floor(x)+0.5;else y=Math.floor(y)+0.5}ctx.moveTo(x,y);ctx.lineTo(x+xoff,y+yoff)}ctx.stroke()}if(bw){bc=options.grid.borderColor;if(typeof bw=="object"||typeof bc=="object"){if(typeof bw!=="object"){bw={top:bw,right:bw,bottom:bw,left:bw}}if(typeof bc!=="object"){bc={top:bc,right:bc,bottom:bc,left:bc}}if(bw.top>0){ctx.strokeStyle=bc.top;ctx.lineWidth=bw.top;ctx.beginPath();ctx.moveTo(0-bw.left,0-bw.top/2);ctx.lineTo(plotWidth,0-bw.top/2);ctx.stroke()}if(bw.right>0){ctx.strokeStyle=bc.right;ctx.lineWidth=bw.right;ctx.beginPath();ctx.moveTo(plotWidth+bw.right/2,0-bw.top);ctx.lineTo(plotWidth+bw.right/2,plotHeight);ctx.stroke()}if(bw.bottom>0){ctx.strokeStyle=bc.bottom;ctx.lineWidth=bw.bottom;ctx.beginPath();ctx.moveTo(plotWidth+bw.right,plotHeight+bw.bottom/2);ctx.lineTo(0,plotHeight+bw.bottom/2);ctx.stroke()}if(bw.left>0){ctx.strokeStyle=bc.left;ctx.lineWidth=bw.left;ctx.beginPath();ctx.moveTo(0-bw.left/2,plotHeight+bw.bottom);ctx.lineTo(0-bw.left/2,0);ctx.stroke()}}else{ctx.lineWidth=bw;ctx.strokeStyle=options.grid.borderColor;ctx.strokeRect(-bw/2,-bw/2,plotWidth+bw,plotHeight+bw)}}ctx.restore()}function drawAxisLabels(){$.each(allAxes(),function(_,axis){var box=axis.box,legacyStyles=axis.direction+"Axis "+axis.direction+axis.n+"Axis",layer="flot-"+axis.direction+"-axis flot-"+axis.direction+axis.n+"-axis "+legacyStyles,font=axis.options.font||"flot-tick-label tickLabel",tick,x,y,halign,valign;surface.removeText(layer);if(!axis.show||axis.ticks.length==0)return;for(var i=0;i<axis.ticks.length;++i){tick=axis.ticks[i];if(!tick.label||tick.v<axis.min||tick.v>axis.max)continue;if(axis.direction=="x"){halign="center";x=plotOffset.left+axis.p2c(tick.v);if(axis.position=="bottom"){y=box.top+box.padding}else{y=box.top+box.height-box.padding;valign="bottom"}}else{valign="middle";y=plotOffset.top+axis.p2c(tick.v);if(axis.position=="left"){x=box.left+box.width-box.padding;halign="right"}else{x=box.left+box.padding}}surface.addText(layer,x,y,tick.label,font,null,null,halign,valign)}})}function drawSeries(series){if(series.lines.show)drawSeriesLines(series);if(series.bars.show)drawSeriesBars(series);if(series.points.show)drawSeriesPoints(series)}function drawSeriesLines(series){function plotLine(datapoints,xoffset,yoffset,axisx,axisy){var points=datapoints.points,ps=datapoints.pointsize,prevx=null,prevy=null;ctx.beginPath();for(var i=ps;i<points.length;i+=ps){var x1=points[i-ps],y1=points[i-ps+1],x2=points[i],y2=points[i+1];if(x1==null||x2==null)continue;if(y1<=y2&&y1<axisy.min){if(y2<axisy.min)continue;x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.min}else if(y2<=y1&&y2<axisy.min){if(y1<axisy.min)continue;x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.min}if(y1>=y2&&y1>axisy.max){if(y2>axisy.max)continue;x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.max}else if(y2>=y1&&y2>axisy.max){if(y1>axisy.max)continue;x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.max}if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.max}if(x1!=prevx||y1!=prevy)ctx.moveTo(axisx.p2c(x1)+xoffset,axisy.p2c(y1)+yoffset);prevx=x2;prevy=y2;ctx.lineTo(axisx.p2c(x2)+xoffset,axisy.p2c(y2)+yoffset)}ctx.stroke()}function plotLineArea(datapoints,axisx,axisy){var points=datapoints.points,ps=datapoints.pointsize,bottom=Math.min(Math.max(0,axisy.min),axisy.max),i=0,top,areaOpen=false,ypos=1,segmentStart=0,segmentEnd=0;while(true){if(ps>0&&i>points.length+ps)break;i+=ps;var x1=points[i-ps],y1=points[i-ps+ypos],x2=points[i],y2=points[i+ypos];if(areaOpen){if(ps>0&&x1!=null&&x2==null){segmentEnd=i;ps=-ps;ypos=2;continue}if(ps<0&&i==segmentStart+ps){ctx.fill();areaOpen=false;ps=-ps;ypos=1;i=segmentStart=segmentEnd+ps;continue}}if(x1==null||x2==null)continue;if(x1<=x2&&x1<axisx.min){if(x2<axisx.min)continue;y1=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.min}else if(x2<=x1&&x2<axisx.min){if(x1<axisx.min)continue;y2=(axisx.min-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.min}if(x1>=x2&&x1>axisx.max){if(x2>axisx.max)continue;y1=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x1=axisx.max}else if(x2>=x1&&x2>axisx.max){if(x1>axisx.max)continue;y2=(axisx.max-x1)/(x2-x1)*(y2-y1)+y1;x2=axisx.max}if(!areaOpen){ctx.beginPath();ctx.moveTo(axisx.p2c(x1),axisy.p2c(bottom));areaOpen=true}if(y1>=axisy.max&&y2>=axisy.max){ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.max));ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.max));continue}else if(y1<=axisy.min&&y2<=axisy.min){ctx.lineTo(axisx.p2c(x1),axisy.p2c(axisy.min));ctx.lineTo(axisx.p2c(x2),axisy.p2c(axisy.min));continue}var x1old=x1,x2old=x2;if(y1<=y2&&y1<axisy.min&&y2>=axisy.min){x1=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.min}else if(y2<=y1&&y2<axisy.min&&y1>=axisy.min){x2=(axisy.min-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.min}if(y1>=y2&&y1>axisy.max&&y2<=axisy.max){x1=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y1=axisy.max}else if(y2>=y1&&y2>axisy.max&&y1<=axisy.max){x2=(axisy.max-y1)/(y2-y1)*(x2-x1)+x1;y2=axisy.max}if(x1!=x1old){ctx.lineTo(axisx.p2c(x1old),axisy.p2c(y1))}ctx.lineTo(axisx.p2c(x1),axisy.p2c(y1));ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2));if(x2!=x2old){ctx.lineTo(axisx.p2c(x2),axisy.p2c(y2));ctx.lineTo(axisx.p2c(x2old),axisy.p2c(y2))}}}ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.lineJoin="round";var lw=series.lines.lineWidth,sw=series.shadowSize;if(lw>0&&sw>0){ctx.lineWidth=sw;ctx.strokeStyle="rgba(0,0,0,0.1)";var angle=Math.PI/18;plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/2),Math.cos(angle)*(lw/2+sw/2),series.xaxis,series.yaxis);ctx.lineWidth=sw/2;plotLine(series.datapoints,Math.sin(angle)*(lw/2+sw/4),Math.cos(angle)*(lw/2+sw/4),series.xaxis,series.yaxis)}ctx.lineWidth=lw;ctx.strokeStyle=series.color;var fillStyle=getFillStyle(series.lines,series.color,0,plotHeight);if(fillStyle){ctx.fillStyle=fillStyle;plotLineArea(series.datapoints,series.xaxis,series.yaxis)}if(lw>0)plotLine(series.datapoints,0,0,series.xaxis,series.yaxis);ctx.restore()}function drawSeriesPoints(series){function plotPoints(datapoints,radius,fillStyle,offset,shadow,axisx,axisy,symbol){var points=datapoints.points,ps=datapoints.pointsize;for(var i=0;i<points.length;i+=ps){var x=points[i],y=points[i+1];if(x==null||x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max)continue;ctx.beginPath();x=axisx.p2c(x);y=axisy.p2c(y)+offset;if(symbol=="circle")ctx.arc(x,y,radius,0,shadow?Math.PI:Math.PI*2,false);else symbol(ctx,x,y,radius,shadow);ctx.closePath();if(fillStyle){ctx.fillStyle=fillStyle;ctx.fill()}ctx.stroke()}}ctx.save();ctx.translate(plotOffset.left,plotOffset.top);var lw=series.points.lineWidth,sw=series.shadowSize,radius=series.points.radius,symbol=series.points.symbol;if(lw==0)lw=0.0001;if(lw>0&&sw>0){var w=sw/2;ctx.lineWidth=w;ctx.strokeStyle="rgba(0,0,0,0.1)";plotPoints(series.datapoints,radius,null,w+w/2,true,series.xaxis,series.yaxis,symbol);ctx.strokeStyle="rgba(0,0,0,0.2)";plotPoints(series.datapoints,radius,null,w/2,true,series.xaxis,series.yaxis,symbol)}ctx.lineWidth=lw;ctx.strokeStyle=series.color;plotPoints(series.datapoints,radius,getFillStyle(series.points,series.color),0,false,series.xaxis,series.yaxis,symbol);ctx.restore()}function drawBar(x,y,b,barLeft,barRight,fillStyleCallback,axisx,axisy,c,horizontal,lineWidth){var left,right,bottom,top,drawLeft,drawRight,drawTop,drawBottom,tmp;if(horizontal){drawBottom=drawRight=drawTop=true;drawLeft=false;left=b;right=x;top=y+barLeft;bottom=y+barRight;if(right<left){tmp=right;right=left;left=tmp;drawLeft=true;drawRight=false}}else{drawLeft=drawRight=drawTop=true;drawBottom=false;left=x+barLeft;right=x+barRight;bottom=b;top=y;if(top<bottom){tmp=top;top=bottom;bottom=tmp;drawBottom=true;drawTop=false}}if(right<axisx.min||left>axisx.max||top<axisy.min||bottom>axisy.max)return;if(left<axisx.min){left=axisx.min;drawLeft=false}if(right>axisx.max){right=axisx.max;drawRight=false}if(bottom<axisy.min){bottom=axisy.min;drawBottom=false}if(top>axisy.max){top=axisy.max;drawTop=false}left=axisx.p2c(left);bottom=axisy.p2c(bottom);right=axisx.p2c(right);top=axisy.p2c(top);if(fillStyleCallback){c.fillStyle=fillStyleCallback(bottom,top);c.fillRect(left,top,right-left,bottom-top)}if(lineWidth>0&&(drawLeft||drawRight||drawTop||drawBottom)){c.beginPath();c.moveTo(left,bottom);if(drawLeft)c.lineTo(left,top);else c.moveTo(left,top);if(drawTop)c.lineTo(right,top);else c.moveTo(right,top);if(drawRight)c.lineTo(right,bottom);else c.moveTo(right,bottom);if(drawBottom)c.lineTo(left,bottom);else c.moveTo(left,bottom);c.stroke()}}function drawSeriesBars(series){function plotBars(datapoints,barLeft,barRight,fillStyleCallback,axisx,axisy){var points=datapoints.points,ps=datapoints.pointsize;for(var i=0;i<points.length;i+=ps){if(points[i]==null)continue;drawBar(points[i],points[i+1],points[i+2],barLeft,barRight,fillStyleCallback,axisx,axisy,ctx,series.bars.horizontal,series.bars.lineWidth)}}ctx.save();ctx.translate(plotOffset.left,plotOffset.top);ctx.lineWidth=series.bars.lineWidth;ctx.strokeStyle=series.color;var barLeft;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}var fillStyleCallback=series.bars.fill?function(bottom,top){return getFillStyle(series.bars,series.color,bottom,top)}:null;plotBars(series.datapoints,barLeft,barLeft+series.bars.barWidth,fillStyleCallback,series.xaxis,series.yaxis);ctx.restore()}function getFillStyle(filloptions,seriesColor,bottom,top){var fill=filloptions.fill;if(!fill)return null;if(filloptions.fillColor)return getColorOrGradient(filloptions.fillColor,bottom,top,seriesColor);var c=$.color.parse(seriesColor);c.a=typeof fill=="number"?fill:0.4;c.normalize();return c.toString()}function insertLegend(){if(options.legend.container!=null){$(options.legend.container).html("")}else{placeholder.find(".legend").remove()}if(!options.legend.show){return}var fragments=[],entries=[],rowStarted=false,lf=options.legend.labelFormatter,s,label;for(var i=0;i<series.length;++i){s=series[i];if(s.label){label=lf?lf(s.label,s):s.label;if(label){entries.push({label:label,color:s.color})}}}if(options.legend.sorted){if($.isFunction(options.legend.sorted)){entries.sort(options.legend.sorted)}else if(options.legend.sorted=="reverse"){entries.reverse()}else{var ascending=options.legend.sorted!="descending";entries.sort(function(a,b){return a.label==b.label?0:((a.label<b.label)!=ascending?1:-1)})}}for(var i=0;i<entries.length;++i){var entry=entries[i];if(i%options.legend.noColumns==0){if(rowStarted)fragments.push('</tr>');fragments.push('<tr>');rowStarted=true}fragments.push('<td class="legendColorBox"><div style="border:1px solid '+options.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+entry.color+';overflow:hidden"></div></div></td>'+'<td class="legendLabel">'+entry.label+'</td>')}if(rowStarted)fragments.push('</tr>');if(fragments.length==0)return;var table='<table style="font-size:smaller;color:'+options.grid.color+'">'+fragments.join("")+'</table>';if(options.legend.container!=null)$(options.legend.container).html(table);else{var pos="",p=options.legend.position,m=options.legend.margin;if(m[0]==null)m=[m,m];if(p.charAt(0)=="n")pos+='top:'+(m[1]+plotOffset.top)+'px;';else if(p.charAt(0)=="s")pos+='bottom:'+(m[1]+plotOffset.bottom)+'px;';if(p.charAt(1)=="e")pos+='right:'+(m[0]+plotOffset.right)+'px;';else if(p.charAt(1)=="w")pos+='left:'+(m[0]+plotOffset.left)+'px;';var legend=$('<div class="legend">'+table.replace('style="','style="position:absolute;'+pos+';')+'</div>').appendTo(placeholder);if(options.legend.backgroundOpacity!=0.0){var c=options.legend.backgroundColor;if(c==null){c=options.grid.backgroundColor;if(c&&typeof c=="string")c=$.color.parse(c);else c=$.color.extract(legend,'background-color');c.a=1;c=c.toString()}var div=legend.children();$('<div style="position:absolute;width:'+div.width()+'px;height:'+div.height()+'px;'+pos+'background-color:'+c+';"> </div>').prependTo(legend).css('opacity',options.legend.backgroundOpacity)}}}var highlights=[],redrawTimeout=null;function findNearbyItem(mouseX,mouseY,seriesFilter){var maxDistance=options.grid.mouseActiveRadius,smallestDistance=maxDistance*maxDistance+1,item=null,foundPoint=false,i,j,ps;for(i=series.length-1;i>=0;--i){if(!seriesFilter(series[i]))continue;var s=series[i],axisx=s.xaxis,axisy=s.yaxis,points=s.datapoints.points,mx=axisx.c2p(mouseX),my=axisy.c2p(mouseY),maxx=maxDistance/axisx.scale,maxy=maxDistance/axisy.scale;ps=s.datapoints.pointsize;if(axisx.options.inverseTransform)maxx=Number.MAX_VALUE;if(axisy.options.inverseTransform)maxy=Number.MAX_VALUE;if(s.lines.show||s.points.show){for(j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1];if(x==null)continue;if(x-mx>maxx||x-mx<-maxx||y-my>maxy||y-my<-maxy)continue;var dx=Math.abs(axisx.p2c(x)-mouseX),dy=Math.abs(axisy.p2c(y)-mouseY),dist=dx*dx+dy*dy;if(dist<smallestDistance){smallestDistance=dist;item=[i,j/ps]}}}if(s.bars.show&&!item){var barLeft,barRight;switch(s.bars.align){case"left":barLeft=0;break;case"right":barLeft=-s.bars.barWidth;break;default:barLeft=-s.bars.barWidth/2}barRight=barLeft+s.bars.barWidth;for(j=0;j<points.length;j+=ps){var x=points[j],y=points[j+1],b=points[j+2];if(x==null)continue;if(series[i].bars.horizontal?(mx<=Math.max(b,x)&&mx>=Math.min(b,x)&&my>=y+barLeft&&my<=y+barRight):(mx>=x+barLeft&&mx<=x+barRight&&my>=Math.min(b,y)&&my<=Math.max(b,y)))item=[i,j/ps]}}}if(item){i=item[0];j=item[1];ps=series[i].datapoints.pointsize;return{datapoint:series[i].datapoints.points.slice(j*ps,(j+1)*ps),dataIndex:j,series:series[i],seriesIndex:i}}return null}function onMouseMove(e){if(options.grid.hoverable)triggerClickHoverEvent("plothover",e,function(s){return s["hoverable"]!=false})}function onMouseLeave(e){if(options.grid.hoverable)triggerClickHoverEvent("plothover",e,function(s){return false})}function onClick(e){triggerClickHoverEvent("plotclick",e,function(s){return s["clickable"]!=false})}function triggerClickHoverEvent(eventname,event,seriesFilter){var offset=eventHolder.offset(),canvasX=event.pageX-offset.left-plotOffset.left,canvasY=event.pageY-offset.top-plotOffset.top,pos=canvasToAxisCoords({left:canvasX,top:canvasY});pos.pageX=event.pageX;pos.pageY=event.pageY;var item=findNearbyItem(canvasX,canvasY,seriesFilter);if(item){item.pageX=parseInt(item.series.xaxis.p2c(item.datapoint[0])+offset.left+plotOffset.left,10);item.pageY=parseInt(item.series.yaxis.p2c(item.datapoint[1])+offset.top+plotOffset.top,10)}if(options.grid.autoHighlight){for(var i=0;i<highlights.length;++i){var h=highlights[i];if(h.auto==eventname&&!(item&&h.series==item.series&&h.point[0]==item.datapoint[0]&&h.point[1]==item.datapoint[1]))unhighlight(h.series,h.point)}if(item)highlight(item.series,item.datapoint,eventname)}placeholder.trigger(eventname,[pos,item])}function triggerRedrawOverlay(){var t=options.interaction.redrawOverlayInterval;if(t==-1){drawOverlay();return}if(!redrawTimeout)redrawTimeout=setTimeout(drawOverlay,t)}function drawOverlay(){redrawTimeout=null;octx.save();overlay.clear();octx.translate(plotOffset.left,plotOffset.top);var i,hi;for(i=0;i<highlights.length;++i){hi=highlights[i];if(hi.series.bars.show)drawBarHighlight(hi.series,hi.point);else drawPointHighlight(hi.series,hi.point)}octx.restore();executeHooks(hooks.drawOverlay,[octx])}function highlight(s,point,auto){if(typeof s=="number")s=series[s];if(typeof point=="number"){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);if(i==-1){highlights.push({series:s,point:point,auto:auto});triggerRedrawOverlay()}else if(!auto)highlights[i].auto=false}function unhighlight(s,point){if(s==null&&point==null){highlights=[];triggerRedrawOverlay();return}if(typeof s=="number")s=series[s];if(typeof point=="number"){var ps=s.datapoints.pointsize;point=s.datapoints.points.slice(ps*point,ps*(point+1))}var i=indexOfHighlight(s,point);if(i!=-1){highlights.splice(i,1);triggerRedrawOverlay()}}function indexOfHighlight(s,p){for(var i=0;i<highlights.length;++i){var h=highlights[i];if(h.series==s&&h.point[0]==p[0]&&h.point[1]==p[1])return i}return-1}function drawPointHighlight(series,point){var x=point[0],y=point[1],axisx=series.xaxis,axisy=series.yaxis,highlightColor=(typeof series.highlightColor==="string")?series.highlightColor:$.color.parse(series.color).scale('a',0.5).toString();if(x<axisx.min||x>axisx.max||y<axisy.min||y>axisy.max)return;var pointRadius=series.points.radius+series.points.lineWidth/2;octx.lineWidth=pointRadius;octx.strokeStyle=highlightColor;var radius=1.5*pointRadius;x=axisx.p2c(x);y=axisy.p2c(y);octx.beginPath();if(series.points.symbol=="circle")octx.arc(x,y,radius,0,2*Math.PI,false);else series.points.symbol(octx,x,y,radius,false);octx.closePath();octx.stroke()}function drawBarHighlight(series,point){var highlightColor=(typeof series.highlightColor==="string")?series.highlightColor:$.color.parse(series.color).scale('a',0.5).toString(),fillStyle=highlightColor,barLeft;switch(series.bars.align){case"left":barLeft=0;break;case"right":barLeft=-series.bars.barWidth;break;default:barLeft=-series.bars.barWidth/2}octx.lineWidth=series.bars.lineWidth;octx.strokeStyle=highlightColor;drawBar(point[0],point[1],point[2]||0,barLeft,barLeft+series.bars.barWidth,function(){return fillStyle},series.xaxis,series.yaxis,octx,series.bars.horizontal,series.bars.lineWidth)}function getColorOrGradient(spec,bottom,top,defaultColor){if(typeof spec=="string")return spec;else{var gradient=ctx.createLinearGradient(0,top,0,bottom);for(var i=0,l=spec.colors.length;i<l;++i){var c=spec.colors[i];if(typeof c!="string"){var co=$.color.parse(defaultColor);if(c.brightness!=null)co=co.scale('rgb',c.brightness);if(c.opacity!=null)co.a*=c.opacity;c=co.toString()}gradient.addColorStop(i/(l-1),c)}return gradient}}}$.plot=function(placeholder,data,options){var plot=new Plot($(placeholder),data,options,$.plot.plugins);return plot};$.plot.version="0.8.3";$.plot.plugins=[];$.fn.plot=function(data,options){return this.each(function(){$.plot(this,data,options)})};function floorInBase(n,base){return base*Math.floor(n/base)}})(jQuery);(function($,window,document,undefined){var hasTouch='ontouchstart'in document;var hasPointerEvents=(function(){var el=document.createElement('div'),docEl=document.documentElement;if(!('pointerEvents'in el.style)){return false}el.style.pointerEvents='auto';el.style.pointerEvents='x';docEl.appendChild(el);var supports=window.getComputedStyle&&window.getComputedStyle(el,'').pointerEvents==='auto';docEl.removeChild(el);return!!supports})();var defaults={listNodeName:'ol',itemNodeName:'li',rootClass:'dd',listClass:'dd-list',itemClass:'dd-item',dragClass:'dd-dragel',handleClass:'dd-handle',collapsedClass:'dd-collapsed',placeClass:'dd-placeholder',noDragClass:'dd-nodrag',emptyClass:'dd-empty',expandBtnHTML:'<button data-action="expand" type="button">Expand</button>',collapseBtnHTML:'<button data-action="collapse" type="button">Collapse</button>',group:0,maxDepth:5,threshold:20};function Plugin(element,options){this.w=$(document);this.el=$(element);this.options=$.extend({},defaults,options);this.init()}Plugin.prototype={init:function(){var list=this;list.reset();list.el.data('nestable-group',this.options.group);list.placeEl=$('<div class="'+list.options.placeClass+'"/>');$.each(this.el.find(list.options.itemNodeName),function(k,el){list.setParent($(el))});list.el.on('click','button',function(e){if(list.dragEl){return}var target=$(e.currentTarget),action=target.data('action'),item=target.parent(list.options.itemNodeName);if(action==='collapse'){list.collapseItem(item)}if(action==='expand'){list.expandItem(item)}});var onStartEvent=function(e){var handle=$(e.target);if(!handle.hasClass(list.options.handleClass)){if(handle.closest('.'+list.options.noDragClass).length){return}handle=handle.closest('.'+list.options.handleClass)}if(!handle.length||list.dragEl){return}list.isTouch=/^touch/.test(e.type);if(list.isTouch&&e.touches.length!==1){return}e.preventDefault();list.dragStart(e.touches?e.touches[0]:e)};var onMoveEvent=function(e){if(list.dragEl){e.preventDefault();list.dragMove(e.touches?e.touches[0]:e)}};var onEndEvent=function(e){if(list.dragEl){e.preventDefault();list.dragStop(e.touches?e.touches[0]:e)}};if(hasTouch){list.el[0].addEventListener('touchstart',onStartEvent,false);window.addEventListener('touchmove',onMoveEvent,false);window.addEventListener('touchend',onEndEvent,false);window.addEventListener('touchcancel',onEndEvent,false)}list.el.on('mousedown',onStartEvent);list.w.on('mousemove',onMoveEvent);list.w.on('mouseup',onEndEvent)},serialize:function(){var data,depth=0,list=this;step=function(level,depth){var array=[],items=level.children(list.options.itemNodeName);items.each(function(){var li=$(this),item=$.extend({},li.data()),sub=li.children(list.options.listNodeName);if(sub.length){item.children=step(sub,depth+1)}array.push(item)});return array};data=step(list.el.find(list.options.listNodeName).first(),depth);return data},serialise:function(){return this.serialize()},reset:function(){this.mouse={offsetX:0,offsetY:0,startX:0,startY:0,lastX:0,lastY:0,nowX:0,nowY:0,distX:0,distY:0,dirAx:0,dirX:0,dirY:0,lastDirX:0,lastDirY:0,distAxX:0,distAxY:0};this.isTouch=false;this.moving=false;this.dragEl=null;this.dragRootEl=null;this.dragDepth=0;this.hasNewRoot=false;this.pointEl=null},expandItem:function(li){li.removeClass(this.options.collapsedClass);li.children('[data-action="expand"]').hide();li.children('[data-action="collapse"]').show();li.children(this.options.listNodeName).show()},collapseItem:function(li){var lists=li.children(this.options.listNodeName);if(lists.length){li.addClass(this.options.collapsedClass);li.children('[data-action="collapse"]').hide();li.children('[data-action="expand"]').show();li.children(this.options.listNodeName).hide()}},expandAll:function(){var list=this;list.el.find(list.options.itemNodeName).each(function(){list.expandItem($(this))})},collapseAll:function(){var list=this;list.el.find(list.options.itemNodeName).each(function(){list.collapseItem($(this))})},setParent:function(li){if(li.children(this.options.listNodeName).length){li.prepend($(this.options.expandBtnHTML));li.prepend($(this.options.collapseBtnHTML))}li.children('[data-action="expand"]').hide()},unsetParent:function(li){li.removeClass(this.options.collapsedClass);li.children('[data-action]').remove();li.children(this.options.listNodeName).remove()},dragStart:function(e){var mouse=this.mouse,target=$(e.target),dragItem=target.closest(this.options.itemNodeName);this.placeEl.css('height',dragItem.height());mouse.offsetX=e.offsetX!==undefined?e.offsetX:e.pageX-target.offset().left;mouse.offsetY=e.offsetY!==undefined?e.offsetY:e.pageY-target.offset().top;mouse.startX=mouse.lastX=e.pageX;mouse.startY=mouse.lastY=e.pageY;this.dragRootEl=this.el;this.dragEl=$(document.createElement(this.options.listNodeName)).addClass(this.options.listClass+' '+this.options.dragClass);this.dragEl.css('width',dragItem.width());dragItem.after(this.placeEl);dragItem[0].parentNode.removeChild(dragItem[0]);dragItem.appendTo(this.dragEl);$(document.body).append(this.dragEl);this.dragEl.css({'left':e.pageX-mouse.offsetX,'top':e.pageY-mouse.offsetY});var i,depth,items=this.dragEl.find(this.options.itemNodeName);for(i=0;i<items.length;i++){depth=$(items[i]).parents(this.options.listNodeName).length;if(depth>this.dragDepth){this.dragDepth=depth}}},dragStop:function(e){var el=this.dragEl.children(this.options.itemNodeName).first();el[0].parentNode.removeChild(el[0]);this.placeEl.replaceWith(el);this.dragEl.remove();this.el.trigger('change');if(this.hasNewRoot){this.dragRootEl.trigger('change')}this.reset()},dragMove:function(e){var list,parent,prev,next,depth,opt=this.options,mouse=this.mouse;this.dragEl.css({'left':e.pageX-mouse.offsetX,'top':e.pageY-mouse.offsetY});mouse.lastX=mouse.nowX;mouse.lastY=mouse.nowY;mouse.nowX=e.pageX;mouse.nowY=e.pageY;mouse.distX=mouse.nowX-mouse.lastX;mouse.distY=mouse.nowY-mouse.lastY;mouse.lastDirX=mouse.dirX;mouse.lastDirY=mouse.dirY;mouse.dirX=mouse.distX===0?0:mouse.distX>0?1:-1;mouse.dirY=mouse.distY===0?0:mouse.distY>0?1:-1;var newAx=Math.abs(mouse.distX)>Math.abs(mouse.distY)?1:0;if(!mouse.moving){mouse.dirAx=newAx;mouse.moving=true;return}if(mouse.dirAx!==newAx){mouse.distAxX=0;mouse.distAxY=0}else{mouse.distAxX+=Math.abs(mouse.distX);if(mouse.dirX!==0&&mouse.dirX!==mouse.lastDirX){mouse.distAxX=0}mouse.distAxY+=Math.abs(mouse.distY);if(mouse.dirY!==0&&mouse.dirY!==mouse.lastDirY){mouse.distAxY=0}}mouse.dirAx=newAx;var isEmpty=false;if(!hasPointerEvents){this.dragEl[0].style.visibility='hidden'}this.pointEl=$(document.elementFromPoint(e.pageX-document.body.scrollLeft,e.pageY-(window.pageYOffset||document.documentElement.scrollTop)));if(!hasPointerEvents){this.dragEl[0].style.visibility='visible'}if(this.pointEl.hasClass(opt.handleClass)){this.pointEl=this.pointEl.parent(opt.itemNodeName)}if(this.pointEl.hasClass(opt.emptyClass)){isEmpty=true}else if(!this.pointEl.length||!this.pointEl.hasClass(opt.itemClass)){return}var pointElRoot=this.pointEl.closest('.'+opt.rootClass),isNewRoot=this.dragRootEl.data('nestable-id')!==pointElRoot.data('nestable-id');if(!mouse.dirAx||isNewRoot||isEmpty){if(isNewRoot&&opt.group!==pointElRoot.data('nestable-group')){return}depth=this.dragDepth-1+this.pointEl.parents(opt.listNodeName).length;if(depth>opt.maxDepth){return}var before=e.pageY<(this.pointEl.offset().top+this.pointEl.height()/2);parent=this.placeEl.parent();if(isEmpty){list=$(document.createElement(opt.listNodeName)).addClass(opt.listClass);list.append(this.placeEl);this.pointEl.replaceWith(list)}else if(before){this.pointEl.before(this.placeEl)}else{this.pointEl.after(this.placeEl)}if(!parent.children().length){this.unsetParent(parent.parent())}if(!this.dragRootEl.find(opt.itemNodeName).length){this.dragRootEl.append('<div class="'+opt.emptyClass+'"/>')}if(isNewRoot){this.dragRootEl=pointElRoot;this.hasNewRoot=this.el[0]!==this.dragRootEl[0]}}}};$.fn.nestable=function(params){var lists=this,retval=this;lists.each(function(){var plugin=$(this).data("nestable");if(!plugin){$(this).data("nestable",new Plugin(this,params));$(this).data("nestable-id",new Date().getTime())}else{if(typeof params==='string'&&typeof plugin[params]==='function'){retval=plugin[params]()}}});return retval||lists}})(window.jQuery||window.Zepto,window,document);(function($){function Check(el,options){this.$el=$(el);this.options=options;this.mode=this.$el.prop('type').toLowerCase();this.name='';this.checked=false;this.focus=false;this.generate()}Check.prototype={generate:function(){if(!this.$check){var _self=this;if(this.mode==='radio'){this.name=this.$el.attr('name')}this.$check=$('<div class="wCheck wCheck-off wCheck-mode-'+this.mode+' '+(this.mode==='radio'&&this.name?'wCheck-name-'+this.name:'')+'"></div>');this.$selector=$('<div class="wCheck-selector"></div>');this.$disabled=$('<div class="wCheck-disabled"></div>').hide();this.$focus=$('<div class="wCheck-focus"></div>').hide();this.$check.append(this.$selector).append(this.$focus);this.$el.addClass('wCheck-el').hide().after(this.$check);this.$check.append(this.$el.show().css({opacity:'0'})).append(this.$disabled);this.$el.change(function(){_self.onChange()}).focus(function(){if(_self.focus){_self.$focus.show()}}).blur(function(){if(_self.focus){_self.$focus.hide()}});this.$check.hover(function(){_self.onFocus()},function(){_self.onBlur()});if(this.$el.prop('checked')){this._check(true)}this.createLabel();this.setTheme(this.options.theme);this.setSelector(this.options.selector);this.setDisabled(this.options.disabled||this.$el.prop('disabled'));$(document).keydown(function(e){_self.focus=true})}return this.$check},createLabel:function(){var text=this.$el.attr('data-label'),id=this.$el.attr('id'),_self=this;if(text&&text!==''){id=id||Math.random()*100;this.$el.attr('id',id);this.$label=$('<label for="'+id+'" class="wCheck-label"></label>');this.setLabel(text);this.$check.after(this.$label)}else if(this.options.useExistingLabel&&id){this.$label=$('label[for="'+id+'"]').addClass('wCheck-label')}if(this.$label){this.$label.hover(function(e){_self.onFocus()},function(e){_self.onBlur()})}},onChange:function(){this._check(this.$el.is(':checked'))},onFocus:function(){if(!this.options.disabled){this.$check.addClass('wCheck-hover')}if(this.$label&&this.options.highlightLabel&&!this.options.disabled){this.$label.addClass('wCheck-label-hover')}},onBlur:function(){this.$check.removeClass('wCheck-hover');if(this.$label&&this.options.highlightLabel){this.$label.removeClass('wCheck-label-hover')}},setCheck:function(checked){this._check(checked);this.$el.change()},setLabel:function(text){this.$label.html(text)},setTheme:function(theme){var i,ii;theme=theme.split(' ');this.$check.attr('class',(this.$check.attr('class')||'').replace(/\s?wCheck-theme-(\S*)\s?/,''));for(i=0,ii=theme.length;i<ii;i++){this.$check.addClass('wCheck-theme-'+theme[i])}if(this.$label){this.$label.attr('class',(this.$label.attr('class')||'').replace(/\s?wCheck-label-theme-(\S*)\s?/,''));for(i=0,ii=theme.length;i<ii;i++){this.$label.addClass('wCheck-label-theme-'+theme[i])}}},setSelector:function(selector){this.$selector.attr('class',this.$selector.attr('class').replace(/wCheck-selector-.+\s|wCheck-selector-.+$/,''));this.$selector.addClass('wCheck-selector-'+selector)},setDisabled:function(disabled){this.options.disabled=disabled;this.$el.prop('disabled',disabled);this.$disabled[(disabled?'show':'hide')]();if(this.$label){this.$label[(disabled?'add':'remove')+'Class']('wCheck-label-disabled')}},_check:function(checked){this.checked=checked;if(this.mode==='radio'){$('.wCheck-name-'+this.name).removeClass('wCheck-on').addClass('wCheck-off')}if(this.checked){this.$check.removeClass('wCheck-off').addClass('wCheck-on');this.$el.prop('checked',true)}else{this.$check.removeClass('wCheck-on').addClass('wCheck-off');this.$el.prop('checked',false)}},};$.fn.wCheck=function(options,value){if(typeof options==='string'){var values=[];var elements=this.each(function(){var wCheck=$(this).data('wCheck');if(wCheck){var func=(value!==undefined?'set':'get')+options.charAt(0).toUpperCase()+options.substring(1).toLowerCase();if(wCheck[options]){wCheck[options].apply(wCheck,[value])}else if(value!==undefined){if(wCheck.options[options]){wCheck.options[options]=value}if(wCheck[func]){wCheck[func].apply(wCheck,[value])}}else{if(wCheck[func]){values.push(wCheck[func].apply(wCheck,[value]))}else if(wCheck.options[options]){values.push(wCheck.options[options])}else{values.push(null)}}}});if(values.length===1){return values[0]}else if(values.length>0){return values}else{return elements}}options=$.extend({},$.fn.wCheck.defaults,options);function get(el){var wCheck=$.data(el,'wCheck');if(!wCheck){var _options=jQuery.extend(true,{},options);wCheck=new Check(el,_options);$.data(el,'wCheck',wCheck)}return wCheck}return this.each(function(){get(this)})};$.fn.wCheck.defaults={theme:'square-classic blue',selector:'checkmark',disabled:false,useExistingLabel:true,highlightLabel:false};$.fn.wRadio=function(options,value){if(typeof options!=='string'){options=$.extend({},$.fn.wRadio.defaults,options)}return $.fn.wCheck.apply(this,[options,value])};$.fn.wRadio.defaults={theme:'circle-classic blue',selector:'circle-dot-blue',disabled:false,useExistingLabel:true,highlightLabel:false}})(jQuery);"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){var e=this,t=this,n=t?t.document:null,r=(t?t.document.documentElement:null,/^(["'](\\.|[^"\\\n\r])*?["']|[,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t])+?$/),i=/^-ms-/,o=/[\-_]([\da-z])/gi,a=/([A-Z])/g,u=/\./,s=/[-|+]?[\D]/gi,f=/\D/gi,c=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),l=/&/g,d=/=/,h=/[ ]+/g,p={},g=void 0,m=void 0;p.guid=1,p.getGuid=function(){return p.guid++},p.info=g=function(){function e(e,r){return e={href:t.location.href,param:t.location.search,referrer:n.referrer,pathname:t.location.pathname,hostname:t.location.hostname,port:t.location.port},r=e.href.split(/[\?#]/),e.param=e.param.replace("?",""),e.url=r[0],e.href.search("#")>-1&&(e.hashdata=m.last(r)),r=null,e.baseUrl=m.left(e.href,"?").replace(e.pathname,""),e}function r(e,t,n){return g.errorMsg&&g.errorMsg[e]?{className:e,errorCode:t,methodName:n,msg:g.errorMsg[e][t]}:{className:e,errorCode:t,methodName:n}}var i=arguments,o="1.4.127",a="",u=function(){console.error(m.toArray(i).join(":"))},s={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,HOME:36,END:35,PAGEUP:33,PAGEDOWN:34,INSERT:45,SPACE:32},f=[{label:"SUN"},{label:"MON"},{label:"TUE"},{label:"WED"},{label:"THU"},{label:"FRI"},{label:"SAT"}],c=function(e,n,r,i,o,a){return t&&t.navigator?(e=navigator.userAgent.toLowerCase(),n=e.search(/mobile/g)!=-1,a,e.search(/iphone/g)!=-1?{name:"iphone",version:0,mobile:!0}:e.search(/ipad/g)!=-1?{name:"ipad",version:0,mobile:!0}:e.search(/android/g)!=-1?(i=/(android)[ \/]([\w.]+)/.exec(e)||[],a=i[2]||"0",{name:"android",version:a,mobile:n}):(r="",i=/(opr)[ \/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],o=i[1]||"",a=i[2]||"0","msie"==o&&(o="ie"),{name:o,version:a,mobile:n})):{}}(),l=!("undefined"==typeof window||"undefined"==typeof navigator||!t.document),d=t&&/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel",h={},p=!!t&&("ontouchstart"in t||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),v=!!t&&(t.FileReader&&t.File&&t.FileList&&t.Blob);return{errorMsg:h,version:o,baseUrl:a,onerror:u,eventKeys:s,weekNames:f,browser:c,isBrowser:l,supportTouch:p,supportFileApi:v,wheelEnm:d,urlUtil:e,getError:r}}(),p.util=m=function(){function v(e,t){if(_(e))return[];var n=void 0,r=0,i=e.length,o=void 0===i||"function"==typeof e;if(o){for(n in e)if("undefined"!=typeof e[n]&&t.call(e[n],n,e[n])===!1)break}else for(;r<i&&("undefined"==typeof e[r]||t.call(e[r],r,e[r++])!==!1););return e}function y(e,t){if(_(e))return[];var n=void 0,r=0,i=e.length,o=[],a=void 0;if(k(e)){for(n in e)if("undefined"!=typeof e[n]){if(a=void 0,(a=t.call(e[n],n,e[n]))===!1)break;o.push(a)}}else for(;r<i;)if("undefined"!=typeof e[r]){if(a=void 0,(a=t.call(e[r],r,e[r++]))===!1)break;o.push(a)}return o}function b(e,t){if(_(e))return-1;if(k(e))for(var n in e){if("undefined"!=typeof e[n]&&F(t)&&t.call(e[n],n,e[n]))return n;if(e[n]==t)return n}else for(var r=0,i=e.length;r<i;r++){if("undefined"!=typeof e[r]&&F(t)&&t.call(e[r],r,e[r]))return r;if(e[r]==t)return r}return-1}function w(e,t,n){var r=void 0,i=void 0,o=void 0;if(F(t)&&"undefined"==typeof n&&(n=t,t=0),"undefined"==typeof t&&(t=0),j(e)){for(r=0,i=e.length;r<i;r++)if("undefined"!=typeof e[r]){if((o=n.call(e[r],e[r]))===!1)break;"undefined"!=typeof o&&(t+=o)}return t}if(k(e)){for(r in e)if("undefined"!=typeof e[r]){if((o=n.call(e[r],e[r]))===!1)break;"undefined"!=typeof o&&(t+=o)}return t}return console.error("argument error : ax5.util.sum - use Array or Object"),t}function x(e,t,n){var r=void 0,i=void 0,o=void 0;if(F(t)&&"undefined"==typeof n&&(n=t,t=0),"undefined"==typeof t&&(t=0),j(e)){for(r=0,i=e.length;r<i;r++)if("undefined"!=typeof e[r]){if((o=n.call(e[r],e[r]))===!1)break;"undefined"!=typeof o&&(t+=o)}return t/i}if(k(e)){i=0;for(r in e)if("undefined"!=typeof e[r]){if((o=n.call(e[r],e[r]))===!1)break;"undefined"!=typeof o&&(t+=o),++i}return t/i}return console.error("argument error : ax5.util.sum - use Array or Object"),t}function M(t,n){var r,i,o;if(j(t)){for(r=0,i=t.length,o=t[r];r<i-1&&("undefined"==typeof t[r]||(o=n.call(e,o,t[++r]))!==!1););return o}if(k(t)){for(r in t)if("undefined"!=typeof t[r]&&(o=n.call(e,o,t[r]))===!1)break;return o}return console.error("argument error : ax5.util.reduce - use Array or Object"),null}function E(t,n){for(var r=t.length-1,i=t[r];r>0&&("undefined"==typeof t[r]||(i=n.call(e,i,t[--r]))!==!1););return i}function T(e,t){if(_(e))return[];var n,r,i=0,o=e.length,a=[];if(k(e))for(n in e)"undefined"!=typeof e[n]&&(r=t.call(e[n],n,e[n]))&&a.push(e[n]);else for(;i<o;)"undefined"!=typeof e[i]&&((r=t.call(e[i],i,e[i]))&&a.push(e[i]),i++);return a}function S(e){var t="";if(p.util.isArray(e)){var n=0,r=e.length;for(t+="[";n<r;n++)n>0&&(t+=","),t+=S(e[n]);t+="]"}else if(p.util.isObject(e)){t+="{";var i=[];v(e,function(e,t){i.push('"'+e+'": '+S(t))}),t+=i.join(", "),t+="}"}else t=p.util.isString(e)?'"'+e+'"':p.util.isNumber(e)?e:p.util.isUndefined(e)?"undefined":p.util.isFunction(e)?'"{Function}"':e;return t}function A(e,t){if(!t&&!r.test(e))return{error:500,msg:"syntax error"};try{return new Function("","return "+e)()}catch(n){return{error:500,msg:"syntax error"}}}function D(e){var t;return null!=e&&e==e.window?t="window":e&&1==e.nodeType?t="element":e&&11==e.nodeType?t="fragment":null===e?t="null":"undefined"==typeof e?t="undefined":"[object Object]"==we.call(e)?t="object":"[object Array]"==we.call(e)?t="array":"[object String]"==we.call(e)?t="string":"[object Number]"==we.call(e)?t="number":"[object NodeList]"==we.call(e)?t="nodelist":"function"==typeof e&&(t="function"),t}function C(e){return null!=e&&e==e.window}function N(e){return!(!e||1!=e.nodeType&&11!=e.nodeType)}function k(e){return"[object Object]"==we.call(e)}function j(e){return"[object Array]"==we.call(e)}function F(e){return"function"==typeof e}function O(e){return"[object String]"==we.call(e)}function R(e){return"[object Number]"==we.call(e)}function I(e){return!!("[object NodeList]"==we.call(e)||"undefined"!=typeof e&&e&&e[0]&&1==e[0].nodeType)}function U(e){return"undefined"==typeof e}function _(e){return"undefined"==typeof e||null===e||""===e}function P(e){return e instanceof Date&&!isNaN(e.valueOf())}function $(e){var t=!1;if(e)if(e instanceof Date&&!isNaN(e.valueOf()))t=!0;else{if(e.length>7&&re(e)instanceof Date)return!0;if(e=e.replace(/\D/g,""),e.length>7){var n=e.substr(4,2),r=e.substr(6,2);e=re(e),e.getMonth()==n-1&&e.getDate()==r&&(t=!0)}}else;return t}function B(e){if(k(e)){var t=Object.keys(e),n={};return n[t[0]]=e[t[0]],n}return j(e)?e[0]:void console.error("ax5.util.object.first","argument type error")}function L(e){if(k(e)){var t=Object.keys(e),n={};return n[t[t.length-1]]=e[t[t.length-1]],n}return j(e)?e[e.length-1]:void console.error("ax5.util.object.last","argument type error")}function z(e,t,r,i){var o;return"number"==typeof r&&(o=new Date,o.setDate(o.getDate()+r)),i=i||{},n.cookie=[escape(e),"=",escape(t),o?"; expires="+o.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}function H(e){for(var t=e+"=",r=n.cookie.split(";"),i=0,o=r.length;i<o;i++){for(var a=r[i];" "==a.charAt(0);)a=a.substring(1);if(a.indexOf(t)!=-1)return unescape(a.substring(t.length,a.length))}return""}function W(e){return t.alert(S(e)),e}function Y(e,t){return"undefined"==typeof e||"undefined"==typeof t?"":O(t)?e.indexOf(t)>-1?e.substr(0,e.indexOf(t)):"":R(t)?e.substr(0,t):""}function q(e,t){return"undefined"==typeof e||"undefined"==typeof t?"":(e=""+e,O(t)?e.lastIndexOf(t)>-1?e.substr(e.lastIndexOf(t)+1):"":R(t)?e.substr(e.length-t):"")}function V(e){return e.replace(i,"ms-").replace(o,function(e,t){return t.toUpperCase()})}function G(e){return V(e).replace(a,function(e,t){return"-"+t.toLowerCase()})}function J(e,t){var n,r,i,o=(""+e).split(u);return r=Number(o[0].replace(/,/g,""))<0||"-0"==o[0],i=0,o[0]=o[0].replace(s,""),o[1]?(o[1]=o[1].replace(f,""),i=Number(o[0]+"."+o[1])||0):i=Number(o[0])||0,n=r?-i:i,v(t,function(e,t){"round"==e&&(n=R(t)?t<0?+(Math.round(n+"e-"+Math.abs(t))+"e+"+Math.abs(t)):+(Math.round(n+"e+"+t)+"e-"+t):Math.round(n)),"floor"==e&&(n=Math.floor(n)),"ceil"==e?n=Math.ceil(n):"money"==e?n=function(e){var t=""+e;if(isNaN(t)||""==t)return"";var n=t.split(".");n[0]+=".";do n[0]=n[0].replace(c,"$1,$2");while(c.test(n[0]));return n.length>1?n.join(""):n[0].split(".")[0]}(n):"abs"==e?n=Math.abs(Number(n)):"byte"==e&&(n=function(e){e=Number(n);var t="KB",r=e/1024;return r/1024>1&&(t="MB",r/=1024),r/1024>1&&(t="GB",r/=1024),J(r,{round:1})+t}(n))}),n}function Q(e){return"undefined"!=typeof e.length?Array.prototype.slice.call(e):[]}function Z(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;i<n;i++)e[r++]=t[i];else for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e}function K(e,t){var n;return O(e)&&"undefined"!=typeof t&&"param"==t?e:O(e)&&"undefined"!=typeof t&&"object"==t||O(e)&&"undefined"==typeof t?(n={},v(e.split(l),function(){var e=this.split(d);n[e[0]]?(O(n[e[0]])&&(n[e[0]]=[n[e[0]]]),n[e[0]].push(e[1])):n[e[0]]=e[1]}),n):(n=[],v(e,function(e,t){n.push(e+"="+escape(t))}),n.join("&"))}function X(e){return encodeURIComponent(e)}function ee(e){return decodeURIComponent(e)}function te(){p.info.onerror.apply(this,arguments)}function ne(e,t,n,r,i,o){var a,u;return u=new Date,t<0&&(t=0),"undefined"==typeof r&&(r=12),"undefined"==typeof i&&(i=0),a=new Date(Date.UTC(e,t,n||1,r,i,o||0)),0==t&&1==n&&a.getUTCHours()+a.getTimezoneOffset()/60<0?a.setUTCHours(0):a.setUTCHours(a.getUTCHours()+a.getTimezoneOffset()/60),a}function re(e,t){var n=void 0,r=void 0,i=void 0,o=void 0,a=void 0,u=void 0,s=void 0,f=void 0,c=void 0,l=void 0,d=/^\d{4}(-\d\d(-\d\d(T\d\d:\d\d(:\d\d)?(\.\d+)?(([+-]\d\d:\d\d)|Z)?)?)?)?$/i,h=/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i;if(O(e))if(0==e.length)e=new Date;else if(e.length>15)h.test(e)||d.test(e)?e=new Date(e):(u=e.split(/ /g),c=u[0].split(/\D/g),n=c[0],r=parseFloat(c[1]),i=parseFloat(c[2]),f=u[1]||"09:00",s=f.substring(0,5).split(":"),o=parseFloat(s[0]),a=parseFloat(s[1]),"AM"!==q(f,2)&&"PM"!==q(f,2)||(o+=12),e=ne(n,r-1,i,o,a));else if(14==e.length)l=e.replace(/\D/g,""),e=ne(l.substr(0,4),l.substr(4,2)-1,J(l.substr(6,2)),J(l.substr(8,2)),J(l.substr(10,2)),J(l.substr(12,2)));else if(e.length>7)l=e.replace(/\D/g,""),e=ne(l.substr(0,4),l.substr(4,2)-1,J(l.substr(6,2)));else if(e.length>4)l=e.replace(/\D/g,""),e=ne(l.substr(0,4),l.substr(4,2)-1,1);else{if(e.length>2)return l=e.replace(/\D/g,""),ne(l.substr(0,4),l.substr(4,2)-1,1);e=new Date}return"undefined"==typeof t||"undefined"==typeof e?e:("add"in t&&(e=function(e,t){var n=void 0,r=void 0,i=void 0,o=void 0,a=864e5;return"undefined"!=typeof t.d?e.setTime(e.getTime()+t.d*a):"undefined"!=typeof t.m?(n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),n+=parseInt(t.m/12),r+=t.m%12,o=ae(n,r),o<i&&(i=o),e=new Date(n,r,i,12)):"undefined"!=typeof t.y?e.setTime(e.getTime()+365*t.y*a):"undefined"!=typeof t.h&&e.setTime(e.getTime()+1e3*t.h*60*60),e}(new Date(e),t.add)),"set"in t&&(e=function(e,t){var n=void 0,r=void 0,i=void 0,o={firstDayOfMonth:function(e){return n=e.getFullYear(),r=e.getMonth(),i=1,new Date(n,r,i,12)},lastDayOfMonth:function(e){return n=e.getFullYear(),r=e.getMonth(),i=ae(n,r),new Date(n,r,i,12)}};return t in o?o[t](e):e}(new Date(e),t.set)),"return"in t?function(){var n=t["return"],r=void 0,i=void 0,o=void 0,a=void 0,u=void 0,s=void 0,f=void 0,c=void 0,l=void 0,d=void 0,h=void 0,p=void 0,m=void 0,v=void 0,y=void 0,b=void 0,w=void 0,x=void 0,M=void 0,E=void 0,T=void 0;return r=e.getUTCFullYear(),i=ue(e.getMonth()+1,2),o=ue(e.getDate(),2),a=ue(e.getHours(),2),u=ue(e.getMinutes(),2),s=ue(e.getSeconds(),2),f=e.getDay(),c=/[^y]*(yyyy)[^y]*/gi,c.exec(n),l=RegExp.$1,d=/[^m]*(MM)[^m]*/g,d.exec(n),h=RegExp.$1,p=/[^d]*(dd)[^d]*/gi,p.exec(n),m=RegExp.$1,v=/[^h]*(hh)[^h]*/gi,v.exec(n),y=RegExp.$1,b=/[^m]*(mm)[^i]*/g,b.exec(n),w=RegExp.$1,x=/[^s]*(ss)[^s]*/gi,x.exec(n),M=RegExp.$1,E=/[^d]*(dw)[^w]*/gi,E.exec(n),T=RegExp.$1,"yyyy"===l&&(n=n.replace(l,q(r,l.length))),"MM"===h&&(1==h.length&&(i=e.getMonth()+1),n=n.replace(h,i)),"dd"===m&&(1==m.length&&(o=e.getDate()),n=n.replace(m,o)),"hh"===y&&(n=n.replace(y,a)),"mm"===w&&(n=n.replace(w,u)),"ss"===M&&(n=n.replace(M,s)),"dw"==T&&(n=n.replace(T,g.weekNames[f].label)),n}():e)}function ie(e,t){function n(e){return Math.floor(e.getTime()/a)*a}var r,i,o=re(e),a=864e5,u=new Date;return"undefined"==typeof t?r=J((n(o)-n(u))/a,{floor:!0}):(r=J((n(o)-n(u))/a,{floor:!0}),t.today&&(u=re(t.today),r=J((n(o)-n(u))/a,{floor:!0})),t.thisYear&&(i=new Date(u.getFullYear(),o.getMonth(),o.getDate()),r=J((n(i)-n(u))/a,{floor:!0}),r<0&&(i=new Date(u.getFullYear()+1,o.getMonth(),o.getDate()),r=J((n(i)-n(u))/a,{floor:!0}))),t.age&&(i=new Date(u.getFullYear(),o.getMonth(),o.getDate()),r=i.getFullYear()-o.getFullYear()),r)}function oe(e){var t=re(e);return{year:t.getFullYear(),month:t.getMonth()+1,count:parseInt(t.getDate()/7+1)}}function ae(e,t){return 3==t||5==t||8==t||10==t?30:1==t?e%4==0&&e%100!=0||e%400==0?29:28:31}function ue(e,t,n,r){var i=e.toString(r||10);return se(n||"0",t-i.length)+i}function se(e,t){return t<1?"":new Array(t+1).join(e)}function fe(e,t){if(e)for(;function(){var n=!0;if("undefined"==typeof t)e=!!e.parentNode&&e.parentNode;else if(F(t))n=t(e);else if(k(t))for(var r in t)if("tagname"===r){if(e.tagName.toLocaleLowerCase()!=t[r]){n=!1;break}}else if("clazz"===r||"class_name"===r){if(!("className"in e)){n=!1;break}for(var i=e.className.split(h),o=!1,a=0;a<i.length;a++)if(i[a]==t[r]){o=!0;break}n=o}else{if(!e.getAttribute){n=!1;break}if(e.getAttribute(r)!=t[r]){n=!1;break}}return!n}();){if(!e.parentNode||!e.parentNode.parentNode){e=!1;break}e=e.parentNode}return e}function ce(e){var t=/\D?(\d+)([a-zA-Z%]*)/i,n=(""+e).match(t),r=n[2]||"px";return n[1]+r}function le(e){var t;if(k(e)){t="";for(var n in e)t+=n+":"+e[n]+";";return t}if(O(e)){t={};var r=e.split(/[ ]*;[ ]*/g);return r.forEach(function(e){if(""!==(e=e.trim())){var n=e.split(/[ ]*:[ ]*/g);t[n[0]]=n[1]}}),t}}function de(e){if(!e)var e=window.event;return e.cancelBubble=!0,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1}function he(e,t,n){function r(t){var n=d,r=h;return d=h=void 0,y=t,g=e.apply(r,n)}function i(e){return y=e,m=setTimeout(u,t),b?r(e):g}function o(e){var n=e-v,r=e-y,i=t-n;return w?Math.min(i,p-r):i}function a(e){var n=e-v,r=e-y;return void 0===v||n>=t||n<0||w&&r>=p}function u(){var e=Date.now();return a(e)?s(e):void(m=setTimeout(u,o(e)))}function s(e){return m=void 0,x&&d?r(e):(d=h=void 0,g)}function f(){void 0!==m&&clearTimeout(m),y=0,d=v=h=m=void 0}function c(){return void 0===m?g:s(Date.now())}function l(){for(var e=Date.now(),n=a(e),o=arguments.length,s=Array(o),f=0;f<o;f++)s[f]=arguments[f];if(d=s,h=this,v=e,n){if(void 0===m)return i(v);if(w)return m=setTimeout(u,t),r(v)}return void 0===m&&(m=setTimeout(u,t)),g}var d=void 0,h=void 0,p=void 0,g=void 0,m=void 0,v=void 0,y=0,b=!1,w=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return t=+t||0,k(n)&&(b=!!n.leading,w="maxWait"in n,p=w?Math.max(+n.maxWait||0,t):p,x="trailing"in n?!!n.trailing:x),l.cancel=f,l.flush=c,l}function pe(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return k(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),he(e,t,{leading:r,maxWait:t,trailing:i})}function ge(e){var t,n;if("object"==("undefined"==typeof e?"undefined":_typeof(e))){if(m.isArray(e)){n=e.length,t=new Array(n);for(var r=0;r<n;r++)t[r]=ge(e[r]);return t}return jQuery.extend({},e)}return e}function me(e){return"[object String]"!=we.call(e)?e:e?e.replace(/[\<\>\&\"]/gm,function(e){switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";default:return e}}):""}function ve(e){return"[object String]"!=we.call(e)?e:e?e.replace(/(&lt;)|(&gt;)|(&amp;)|(&quot;)/gm,function(e){switch(e){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&quot;":return'"';default:return e}}):""}function ye(e){return new function(e){this.value=e,this.toString=function(){return this.value},this.format=function(){for(var e=[],t=0,n=arguments.length;t<n;t++)e=e.concat(arguments[t]);return this.value.replace(/{(\d+)}/g,function(t,n){return"undefined"!=typeof e[n]?e[n]:t})},this.escape=function(){return me(this.value)},this.unescape=function(){return ve(this.value)},this.encode=function(){return X(this.value)},this.decode=function(){return ee(this.value)},this.left=function(e){return Y(this.value,e)},this.right=function(e){return q(this.value,e)},this.camelCase=function(){return V(this.value)},this.snakeCase=function(){return G(this.value)}}(e)}function be(e){function t(e){return"string"==typeof e&&e.indexOf(".")!=-1&&1===parseFloat(e)}function n(e){return"string"==typeof e&&e.indexOf("%")!=-1}function r(e){return e<=1&&(e=100*e+"%"),e}function i(e){return p.util.number(Math.min(255,Math.max(e,0)),{round:2})}function o(e){return ue(Math.round(e).toString(16),2)}function a(e,r){t(e)&&(e="100%");var i=n(e);return e=Math.min(r,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*r,10)/100),Math.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function u(e,t,n){e=a(e,255),t=a(t,255),n=a(n,255);var r,i,o=Math.max(e,t,n),u=Math.min(e,t,n),s=(o+u)/2;if(o==u)r=i=0;else{var f=o-u;switch(i=s>.5?f/(2-o-u):f/(o+u),o){case e:r=(t-n)/f+(t<n?6:0);break;case t:r=(n-e)/f+2;break;case n:r=(e-t)/f+4}r/=6}return{h:r,s:i,l:s}}function s(e,t,n){function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i=void 0,o=void 0,u=void 0;if(e=a(e,360),t=a(t,100),n=a(n,100),0===t)i=o=u=n;else{var s=n<.5?n*(1+t):n+t-n*t,f=2*n-s;i=r(f,s,e+1/3),o=r(f,s,e),u=r(f,s,e-1/3)}return{r:255*i,g:255*o,b:255*u}}var f=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}(),c=function(e){var t=void 0;return(t=f.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=f.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=f.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=f.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=f.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=f.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=f.hex8.exec(e))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4]/255,16),format:"hex8"}:(t=f.hex6.exec(e))?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),format:"hex"}:(t=f.hex4.exec(e))?{r:parseInt(t[1]+""+t[1],16),g:parseInt(t[2]+""+t[2],16),b:parseInt(t[3]+""+t[3],16),a:parseInt(t[4]+""+t[4],16),format:"hex8"}:!!(t=f.hex3.exec(e))&&{r:parseInt(t[1]+""+t[1],16),g:parseInt(t[2]+""+t[2],16),b:parseInt(t[3]+""+t[3],16),format:"hex"}};return new function(e){this._originalValue=e,e=c(e),this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a||1,this._format=e.format,this._hex=o(this.r)+o(this.g)+o(this.b),this.getHexValue=function(){return this._hex},this.lighten=function(e){e=0===e?0:e||10;var t=u(this.r,this.g,this.b),n={};return t.l+=e/100,t.l=Math.min(1,Math.max(0,t.l)),t.h=360*t.h,n=s(t.h,r(t.s),r(t.l)),be("rgba("+i(n.r)+", "+i(n.g)+", "+i(n.b)+", "+this.a+")")},this.darken=function(e){e=0===e?0:e||10;var t=u(this.r,this.g,this.b),n={};return t.l-=e/100,t.l=Math.min(1,Math.max(0,t.l)),t.h=360*t.h,n=s(t.h,r(t.s),r(t.l)),be("rgba("+i(n.r)+", "+i(n.g)+", "+i(n.b)+", "+this.a+")")},this.getBrightness=function(){return(299*this.r+587*this.g+114*this.b)/1e3},this.isDark=function(){return this.getBrightness()<128},this.isLight=function(){return!this.isDark()},this.getHsl=function(){var e=u(this.r,this.g,this.b);return e.l=Math.min(1,Math.max(0,e.l)),e.h=360*e.h,{h:e.h,s:e.s,l:e.l}}}(e)}var we=Object.prototype.toString,xe=function(){var e={textRange:{selectAll:function(e,t,n){},arr:function(e,t,n){t.moveStart("character",n[0]),t.collapse(),t.moveEnd("character",n[1])},start:function(e,t,n){t.moveStart("character",0),t.collapse()},end:function(e,t,n){t.moveStart("character",t.text.length),t.collapse()}},range:{selectAll:function(e,t,n){t.selectNodeContents(e)},arr:function(e,t,n){k(n[0])?(t.setStart(n[0].node,n[0].offset),t.setEnd(n[1].node,n[1].offset)):(t.setStart(e.firstChild,n[0]),t.setEnd(e.firstChild,n[1]))},start:function(e,t,n){t.selectNodeContents(e),t.collapse(!0)},end:function(e,t,n){t.selectNodeContents(e),t.collapse(!1)}}};return function(t,r){var i,o,a;if(t instanceof jQuery&&(t=t.get(0)),t){if(n.body.createTextRange?(i=document.body.createTextRange(),i.moveToElementText(t),o="textRange"):window.getSelection&&(a=window.getSelection(),i=document.createRange(),o="range"),"undefined"==typeof r)e[o].selectAll.call(this,t,i,r);else if(j(r))e[o].arr.call(this,t,i,r);else for(var u in e[o])if(r==u){e[o][u].call(this,t,i,r);break}n.body.createTextRange?(i.select(),t.focus()):window.getSelection&&(t.focus(),a.removeAllRanges(),a.addRange(i))}}}();return{alert:W,each:v,map:y,search:b,reduce:M,reduceRight:E,filter:T,sum:w,avg:x,toJson:S,parseJson:A,first:B,last:L,deepCopy:ge,left:Y,right:q,getType:D,isWindow:C,isElement:N,isObject:k,isArray:j,isFunction:F,isString:O,isNumber:R,isNodelist:I,isUndefined:U,isNothing:_,setCookie:z,getCookie:H,camelCase:V,snakeCase:G,number:J,toArray:Q,merge:Z,param:K,error:te,date:re,dday:ie,daysOfMonth:ae,weeksOfMonth:oe,setDigit:ue,times:se,findParentNode:fe,cssNumber:ce,css:le,isDate:P,isDateFormat:$,stopEvent:de,selectRange:xe,debounce:he,throttle:pe,escapeHtml:me,unescapeHtml:ve,string:ye,color:be}}(),"object"===("undefined"==typeof module?"undefined":_typeof(module))&&"object"===_typeof(module.exports)?module.exports=p:e.ax5=function(){return p}()}).call("undefined"!=typeof window?window:void 0),ax5.def={},ax5.info.errorMsg.ax5dialog={501:"Duplicate call error"},ax5.info.errorMsg.ax5picker={401:"Can not find target element",402:"Can not find boundID",501:"Can not find content key"},ax5.info.errorMsg["single-uploader"]={460:"There are no files to be uploaded.",461:"There is no uploaded files."},ax5.info.errorMsg.ax5calendar={401:"Can not find target element"},ax5.info.errorMsg.ax5formatter={401:"Can not find target element",402:"Can not find boundID",501:"Can not find pattern"},ax5.info.errorMsg.ax5menu={501:"Can not find menu item"},ax5.info.errorMsg.ax5select={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},ax5.info.errorMsg.ax5combobox={401:"Can not find target element",402:"Can not find boundID",501:"Can not find option"},function(){var e=this,t=/^\s*|\s*$/g;if(Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!==("undefined"==typeof i?"undefined":_typeof(i))&&("function"!=typeof i||null===i))throw new TypeError("type err");var o,a,u=[];for(o in i)e.call(i,o)&&u.push(o);if(t)for(a=0;a<r;a++)e.call(i,n[a])&&u.push(n[a]);return u}}()),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,i=arguments[1];for(r=0;r<n;r++)r in t&&e.call(i,t[r],r,t)}),Function.prototype.bind||(Function.prototype.bind=function(e){function t(){}if("function"!=typeof this)throw TypeError("function");var n=[].slice,r=n.call(arguments,1),i=this,o=function(){return i.apply(this instanceof t?this:e,r.concat(n.call(arguments)))};return t.prototype=i.prototype,o.prototype=new t,o}),function(){if(!document.querySelectorAll&&!document.querySelector&&document.createStyleSheet){var e=document.createStyleSheet(),t=function(t,n){var r,i=document.all,o=i.length,a=[];for(e.addRule(t,"foo:bar"),r=0;r<o&&!("bar"===i[r].currentStyle.foo&&(a.push(i[r]),a.length>n));r+=1);return e.removeRule(0),a};document.querySelectorAll=function(e){return t(e,1/0)},document.querySelector=function(e){return t(e,1)[0]||null}}}(),String.prototype.trim||!function(){String.prototype.trim=function(){return this.replace(t,"")}}(),window.JSON||(window.JSON={parse:function(e){return new Function("","return "+e)()},stringify:function(){var e,t=/["]/g;return e=function(n){var r,i,o;switch(r="undefined"==typeof n?"undefined":_typeof(n)){case"string":return'"'+n.replace(t,'\\"')+'"';case"number":case"boolean":return n.toString();case"undefined":return"undefined";case"function":return'""';case"object":if(!n)return"null";if(r="",n.splice){for(i=0,o=n.length;i<o;i++)r+=","+e(n[i]);return"["+r.substr(1)+"]"}for(i in n)n.hasOwnProperty(i)&&void 0!==n[i]&&"function"!=typeof n[i]&&(r+=',"'+i+'":'+e(n[i]));return"{"+r.substr(1)+"}"}}}()}),function(){if(!document.documentMode||document.documentMode>=9)return!1;var e=Array.prototype.splice;Array.prototype.splice=function(){var t=Array.prototype.slice.call(arguments);return"undefined"==typeof t[1]&&(t[1]=this.length-t[0]),e.apply(this,t)}}(),function(){var e=Array.prototype.slice;try{e.call(document.documentElement)}catch(t){Array.prototype.slice=function(t,n){if(n="undefined"!=typeof n?n:this.length,"[object Array]"===Object.prototype.toString.call(this))return e.call(this,t,n);var r,i,o=[],a=this.length,u=t||0;u=u>=0?u:Math.max(0,a+u);var s="number"==typeof n?Math.min(n,a):a;if(n<0&&(s=a+n),i=s-u,i>0)if(o=new Array(i),this.charAt)for(r=0;r<i;r++)o[r]=this.charAt(u+r);else for(r=0;r<i;r++)o[r]=this[u+r];return o}}}(),function(e){for(var t,n,r={},i=function(){},o="memory".split(","),a="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");t=o.pop();)e[t]=e[t]||r;for(;n=a.pop();)e[n]=e[n]||i}(window.console||{}),!(window.webkitMatchMedia||window.mozMatchMedia||window.oMatchMedia||window.msMatchMedia||window.matchMedia)){var e=document.getElementsByTagName("html")[0];e.className+=" no-matchmedia"}window.matchMedia||(window.matchMedia=function(){var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],r=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),r="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===r.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(){if(window.matchMedia&&window.matchMedia("all").addListener)return!1;var e=window.matchMedia,t=e("only all").matches,n=!1,r=0,i=[],o=function(t){clearTimeout(r),r=setTimeout(function(){for(var t=0,n=i.length;t<n;t++){var r=i[t].mql,o=i[t].listeners||[],a=e(r.media).matches;if(a!==r.matches){r.matches=a;for(var u=0,s=o.length;u<s;u++)o[u].call(window,r)}}},30)};window.matchMedia=function(r){var a=e(r),u=[],s=0;return a.addListener=function(e){t&&(n||(n=!0,window.addEventListener("resize",o,!0)),0===s&&(s=i.push({mql:a,listeners:u})),u.push(e))},a.removeListener=function(e){for(var t=0,n=u.length;t<n;t++)u[t]===e&&u.splice(t,1)},a}}();document.getElementsByTagName("html")[0],document.getElementsByTagName("body")[0]}.call(window),ax5.ui=function(){function e(){this.config={},this.name="root",this.setConfig=function(e,t){return jQuery.extend(!0,this.config,e),"undefined"!=typeof t&&t!==!0||this.init(),this},this.init=function(){console.log(this.config)},this.bindWindowResize=function(e){setTimeout(function(){jQuery(window).resize(function(){this.bindWindowResize__&&clearTimeout(this.bindWindowResize__),this.bindWindowResize__=setTimeout(function(){e.call(this)}.bind(this),10)}.bind(this))}.bind(this),100)},this.stopEvent=function(e){return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,!1},this.toString=function(){return this.name+"@"+this.version},this.main=function(){}.apply(this,arguments)}function t(e,t){if(!e||!e.className)throw"invalid call";var n=e.classStore?e.classStore:ax5.ui;if(!n)throw"invalid classStore";ax5.def[e.className]={version:ax5.info.version};var r=function(e,t){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2])}},i=function(e,t,n){return n.name=e,n.version=t,n.instanceId=ax5.getGuid(),n},o=function(t){var n=e.superClass?e.superClass:ax5.ui.root;if(!ax5.util.isFunction(n))throw"invalid superClass";n.call(this),t.prototype=new n},a=function u(){if(!(this&&this instanceof u))throw"invalid call";var n=r(t,arguments);return i(e.className,e.version||"",n)};o.call(this,t),n[e.className]=a}return{root:e,addClass:t}}(),function(e,t){t(e.mustache={})}(window.ax5,function(e){function t(e){return"function"==typeof e}function n(e){return g(e)?"array":"undefined"==typeof e?"undefined":_typeof(e)}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"===("undefined"==typeof e?"undefined":_typeof(e))&&t in e}function o(e,t){return m.call(e,t)}function a(e){return!o(v,e)}function u(e){return String(e).replace(/[&<>"'\/]/g,function(e){return y[e]})}function s(t,n){function i(){if(v&&!y)for(;m.length;)delete p[m.pop()];else m=[];v=!1,y=!1}function o(e){if("string"==typeof e&&(e=e.split(w,2)),!g(e)||2!==e.length)throw new Error("Invalid tags: "+e);u=new RegExp(r(e[0])+"\\s*"),s=new RegExp("\\s*"+r(e[1])),d=new RegExp("\\s*"+r("}"+e[1]))}if(!t)return[];var u,s,d,h=[],p=[],m=[],v=!1,y=!1;o(n||e.tags);for(var T,S,A,D,C,N,k=new l(t);!k.eos();){if(T=k.pos,A=k.scanUntil(u))for(var j=0,F=A.length;j<F;++j)D=A.charAt(j),a(D)?m.push(p.length):y=!0,p.push(["text",D,T,T+1]),T+=1,"\n"===D&&i();if(!k.scan(u))break;if(v=!0,S=k.scan(E)||"name",k.scan(b),"="===S?(A=k.scanUntil(x),k.scan(x),k.scanUntil(s)):"{"===S?(A=k.scanUntil(d),k.scan(M),k.scanUntil(s),S="&"):A=k.scanUntil(s),!k.scan(s))throw new Error("Unclosed tag at "+k.pos);if(C=[S,A,T,k.pos],p.push(C),"#"===S||"^"===S)h.push(C);else if("/"===S){if(N=h.pop(),!N)throw new Error('Unopened section "'+A+'" at '+T);if(N[1]!==A)throw new Error('Unclosed section "'+N[1]+'" at '+T)}else"name"===S||"{"===S||"&"===S?y=!0:"="===S&&o(A)}if(N=h.pop())throw new Error('Unclosed section "'+N[1]+'" at '+k.pos);return c(f(p))}function f(e){for(var t,n,r=[],i=0,o=e.length;i<o;++i)t=e[i],t&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(r.push(t),n=t));return r}function c(e){for(var t,n,r=[],i=r,o=[],a=0,u=e.length;a<u;++a)switch(t=e[a],t[0]){case"#":case"^":i.push(t),o.push(t),i=t[4]=[];break;case"/":n=o.pop(),n[5]=t[2],i=o.length>0?o[o.length-1][4]:r;break;default:i.push(t)}return r}function l(e){this.string=e,this.tail=e,this.pos=0}function d(e,t){this.view=e,this.cache={".":this.view,"@each":function(){var e=[];for(var t in this)e.push({"@key":t,"@value":this[t]});return e}},this.parent=t}function h(){this.cache={}}var p=Object.prototype.toString,g=Array.isArray||function(e){return"[object Array]"===p.call(e)},m=RegExp.prototype.test,v=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b=/\s*/,w=/\s+/,x=/\s*=/,M=/\s*\}/,E=/#|\^|\/|>|\{|&|=|!/;l.prototype.eos=function(){return""===this.tail},l.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},l.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},d.prototype.push=function(e){return new d(e,this)},d.prototype.lookup=function(e){var n,r=this.cache;if(r.hasOwnProperty(e))n=r[e];else{for(var o,a,u=this,s=!1;u;){if(e.indexOf(".")>0)for(n=u.view,o=e.split("."),a=0;null!=n&&a<o.length;)a===o.length-1&&(s=i(n,o[a])),n=n[o[a++]];else n=u.view[e],s=i(u.view,e);if(s)break;u=u.parent}r[e]=n}return t(n)&&(n=n.call(this.view)),n},h.prototype.clearCache=function(){this.cache={}},h.prototype.parse=function(e,t){var n=this.cache,r=n[e];return null==r&&(r=n[e]=s(e,t)),r},h.prototype.render=function(e,t,n){var r=this.parse(e),i=t instanceof d?t:new d(t);return this.renderTokens(r,i,n,e)},h.prototype.renderTokens=function(e,t,n,r){for(var i,o,a,u="",s=0,f=e.length;s<f;++s)a=void 0,i=e[s],o=i[0],"#"===o?a=this.renderSection(i,t,n,r):"^"===o?a=this.renderInverted(i,t,n,r):">"===o?a=this.renderPartial(i,t,n,r):"&"===o?a=this.unescapedValue(i,t):"name"===o?a=this.escapedValue(i,t):"text"===o&&(a=this.rawValue(i)),void 0!==a&&(u+=a);return u},h.prototype.renderSection=function(e,n,r,i){function o(e){return a.render(e,n,r)}var a=this,u="",s=n.lookup(e[1]);if(s){if(g(s))for(var f=0,c=s.length;f<c;++f)s[f]&&("object"===_typeof(s[f])&&(s[f]["@i"]=f,s[f]["@first"]=0===f),u+=this.renderTokens(e[4],n.push(s[f]),r,i));else if("object"===("undefined"==typeof s?"undefined":_typeof(s))||"string"==typeof s||"number"==typeof s)u+=this.renderTokens(e[4],n.push(s),r,i);else if(t(s)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");s=s.call(n.view,i.slice(e[3],e[5]),o),null!=s&&(u+=s)}else u+=this.renderTokens(e[4],n,r,i);return u}},h.prototype.renderInverted=function(e,t,n,r){var i=t.lookup(e[1]);if(!i||g(i)&&0===i.length)return this.renderTokens(e[4],t,n,r)},h.prototype.renderPartial=function(e,n,r){if(r){var i=t(r)?r(e[1]):r[e[1]];return null!=i?this.renderTokens(this.parse(i),n,r,i):void 0}},h.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},h.prototype.escapedValue=function(t,n){var r=n.lookup(t[1]);if(null!=r)return e.escape(r)},h.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.1.3",e.tags=["{{","}}"];var T=new h;e.clearCache=function(){return T.clearCache()},e.parse=function(e,t){return T.parse(e,t)},e.render=function(e,t,r){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+n(e)+'" was given as the first argument for mustache#render(template, view, partials)');return T.render(e,t,r)},e.to_html=function(n,r,i,o){var a=e.render(n,r,i);return t(o)?void o(a):a},e.escape=u,e.Scanner=l,e.Context=d,e.Writer=h});"use strict";!function(){var e=ax5.ui,t=ax5.util,a=void 0;e.addClass({className:"calendar"},function(){return function(){var n=this,l=void 0,i=1;this.instanceId=ax5.getGuid(),this.target=null,this.selection=[],this.selectionMap={},this.selectableMap={},this.markerMap={},this.printedDay={start:"",end:""},this.config={clickEventName:"click",theme:"default",startOfWeek:0,mode:"day",dateFormat:"yyyy-MM-dd",displayDate:new Date,animateTime:100,dimensions:{controlHeight:"40",controlButtonWidth:"40",colHeadHeight:"30",itemPadding:2},lang:{yearHeading:"Choose the year",monthHeading:"Choose the month",yearTmpl:"%s",months:ax5.info.months||["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],dayTmpl:"%s"},multipleSelect:!1,selectMode:"day",defaultMarkerTheme:"holiday",defaultPeriodTheme:"period"},l=this.config;var r=function(e,t){e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),t=null},s=function(){var e=jQuery.extend(!0,{},l,{controlCSS:{},controlButtonCSS:{}});e.controlButtonCSS.height=e.controlCSS.height=t.cssNumber(l.dimensions.controlHeight),e.controlButtonCSS["line-height"]=e.controlCSS["line-height"]=t.cssNumber(l.dimensions.controlHeight),e.controlButtonCSS.width=t.cssNumber(l.dimensions.controlHeight),e.controlCSS=t.css(e.controlCSS),e.controlButtonCSS=t.css(e.controlButtonCSS);try{return a.tmpl.get.call(this,"frameTmpl",e)}finally{e=null}},d=function(){var e,a,n=t.date(l.displayDate),i="",r="";return l.control&&("day"==l.mode||"d"==l.mode?(i=l.control.yearTmpl?l.control.yearTmpl.replace("%s",n.getFullYear()):n.getFullYear(),r=l.control.monthTmpl?l.control.monthTmpl.replace("%s",l.lang.months[n.getMonth()]):l.lang.months[n.getMonth()],this.$["control-display"].html(function(){return l.control.yearFirst?'<span data-calendar-display="year">'+i+'</span><span data-calendar-display="month">'+r+"</span>":'<span data-calendar-display="month">'+r+'</span><span data-calendar-display="year">'+i+"</span>"}())):"month"==l.mode||"m"==l.mode?(i=l.control.yearTmpl?l.control.yearTmpl.replace("%s",n.getFullYear()):n.getFullYear(),this.$["control-display"].html('<span data-calendar-display="year">'+i+"</span>")):"year"!=l.mode&&"y"!=l.mode||(e=l.control.yearTmpl?l.control.yearTmpl.replace("%s",n.getFullYear()-10):n.getFullYear()-10,a=l.control.yearTmpl?l.control.yearTmpl.replace("%s",Number(n.getFullYear())+9):Number(n.getFullYear())+9,this.$["control-display"].html(e+" ~ "+a)),this.$["control-display"].find("[data-calendar-display]").on(l.clickEventName,function(e){var a,n=t.findParentNode(e.target,function(e){if(e.getAttribute("data-calendar-display"))return!0});n&&(a=n.getAttribute("data-calendar-display"),this.changeMode(a)),n=null,a=null}.bind(this))),n=null,i=null,r=null,e=null,a=null,this},o=function(e){var i,s,o,c,h,u,f=t.date(e),y=new Date(f.getFullYear(),f.getMonth(),1,12),p=l.displayDate,g=function(){var e=y.getDay();0==e&&(e=7),e-=l.startOfWeek;try{return t.date(y,{add:{d:-e}})}finally{e=null}}(),b=f.getMonth(),v={},M=this.$.body.width(),D=Math.floor(M*(6/7));for(l.dimensions.height&&(D=t.number(l.dimensions.height)-t.number(l.dimensions.colHeadHeight)),v.height=Math.floor(D/6)-2*t.number(l.dimensions.itemPadding)+"px",v["line-height"]=v.height,v.padding=t.cssNumber(l.dimensions.itemPadding),h={weekNames:[].concat(ax5.info.weekNames),list:[]},l.startOfWeek&&(h.weekNames=h.weekNames.concat(h.weekNames.slice(0,l.startOfWeek)).splice(l.startOfWeek)),h.weekNames.forEach(function(e){e.colHeadHeight=t.cssNumber(l.dimensions.colHeadHeight)}),i=g,s=0;s<6;){for(o=0;o<7;){c=(7+(o-l.startOfWeek))%7;var S=""+t.date(i,{"return":l.dateFormat}),C={row:s,col:o,isStartOfWeek:0==o,thisDate:""+S,thisDataLabel:l.lang.dayTmpl.replace("%s",i.getDate()),itemStyles:t.css(v),addClass:function(){var e="";return l.selectable?e+=n.selectableMap[S]?i.getMonth()==b?" live":"":" disable":i.getMonth()==b&&(e+=S==t.date(p,{"return":"yyyyMMdd"})?" focus":" live",0==i.getDay()&&(e+=" sunday"),6==i.getDay()&&(e+=" saturday")),e}()+" "+function(){return n.markerMap[S]?n.markerMap[S].theme||l.defaultMarkerTheme:""}()+" "+function(){return n.selectionMap[S]?"selected-day":""}()};h.list.push(C),o++,i=t.date(i,{add:{d:1}}),S=null,C=null}s++}u=a.tmpl.get.call(this,"dayTmpl",h),this.$.body.html(u),this.$.body.find("[data-calendar-item-date]").on(l.clickEventName,function(e){e=e||window.event,m.call(n,e,"date"),t.stopEvent(e)}),this.printedDay={start:g,end:i},r.call(this,null,{self:this,action:"printDay",printedDay:this.printedDay}),d.call(this),f=null,y=null,p=null,g=null,i=null,b=null,v=null,s=null,o=null,M=null,D=null,h=null,u=null},c=function(e){var i,s,o,c,h,u,f=t.date(e),y=f.getMonth(),p={},g=this.$.body.width(),b=Math.floor(g*(6/7));for(l.dimensions.height&&(b=t.number(l.dimensions.height)-t.number(l.dimensions.colHeadHeight)),p.height=Math.floor(b/4)-2*t.number(l.dimensions.itemPadding)+"px",p["line-height"]=p.height,p.padding=t.cssNumber(l.dimensions.itemPadding),h={colHeadHeight:t.cssNumber(l.dimensions.colHeadHeight),colHeadLabel:l.lang.monthHeading,list:[]},c=0,o=0,i=0;i<4;){for(s=0;s<3;){var v={row:i,col:s,isStartOfRow:0==s,thisMonth:f.getFullYear()+"-"+t.setDigit(o+1,2)+"-01",thisMonthLabel:l.lang.months[o],itemStyles:t.css(p),addClass:function(){return l.selectable?n.selectableMap[o]?"live":"disable":"live"}()+" "+function(){return o==y?"focus":""}()+" "+function(){return n.markerMap[o]?n.markerMap[o].theme||l.defaultMarkerTheme:""}()};h.list.push(v),o++,s++,v=null}i++}u=a.tmpl.get.call(this,"monthTmpl",h),this.$.body.html(u),this.$.body.find("[data-calendar-item-month]").on(l.clickEventName,function(e){e=e||window.event,m.call(n,e,"month"),t.stopEvent(e)}),this.printedDay={start:f.getFullYear()+"-"+t.setDigit(c+1,2),end:f.getFullYear()+"-"+t.setDigit(o,2)},r.call(this,null,{self:this,action:"printMonth",printedDay:this.printedDay}),d.call(this),f=null,y=null,p=null,i=null,s=null,o=null,c=null,g=null,b=null,h=null,u=null},h=function(e){var i,s,o,c,h,u,f=t.date(e),y=f.getFullYear(),p={},g=this.$.body.width(),b=Math.floor(g*(6/7));for(l.dimensions.height&&(b=t.number(l.dimensions.height)-t.number(l.dimensions.colHeadHeight)),p.height=Math.floor(b/5)-2*t.number(l.dimensions.itemPadding)+"px",p["line-height"]=p.height,p.padding=t.cssNumber(l.dimensions.itemPadding),h={colHeadHeight:t.cssNumber(l.dimensions.colHeadHeight),colHeadLabel:l.lang.yearHeading,list:[]},c=y-10,o=y-10,i=0;i<5;){for(s=0;s<4;){var v={row:i,col:s,isStartOfRow:0==s,thisYear:o+"-"+t.setDigit(f.getMonth()+1,2)+"-01",thisYearLabel:l.lang.yearTmpl.replace("%s",o),itemStyles:t.css(p),addClass:function(){return l.selectable?n.selectableMap[o]?"live":"disable":"live"}()+" "+function(){return o==y?"focus":""}()+" "+function(){return n.selectableMap[o]?n.selectableMap[o].theme||l.defaultMarkerTheme:""}()};h.list.push(v),o++,s++,v=null}i++}u=a.tmpl.get.call(this,"yearTmpl",h),this.$.body.html(u),this.$.body.find("[data-calendar-item-year]").on(l.clickEventName,function(e){e=e||window.event,m.call(this,e,"year"),t.stopEvent(e)}),this.printedDay={start:c,end:o-1},r.call(this,null,{self:this,action:"printYear",printedDay:this.printedDay}),d.call(this),f=null,y=null,p=null,i=null,s=null,o=null,c=null,g=null,b=null,h=null,u=null},m=function(e,a,r,s){var d,o,c;a=a||"date",r=t.findParentNode(e.target,function(e){if(e.getAttribute("data-calendar-item-"+a))return!0}),r&&(s=r.getAttribute("data-calendar-item-"+a),o=t.date(s,{"return":l.dateFormat}),c=!0,i=l.multipleSelect?t.isNumber(l.multipleSelect)?l.multipleSelect:2:1,l.selectable&&(n.selectableMap[o]||(c=!1)),"date"==a?c&&(n.selection.length>=i&&(d=n.selection.splice(0,n.selection.length-(i-1)),d.forEach(function(e){n.$.body.find('[data-calendar-item-date="'+t.date(e,{"return":l.dateFormat})+'"]').removeClass("selected-day")})),jQuery(r).addClass("selected-day"),n.selection.push(s),n.onClick&&n.onClick.call({self:this,date:s,target:this.target,dateElement:r})):"month"==a?"month"==l.selectMode?c&&(n.selection.length>=i&&(d=n.selection.splice(0,n.selection.length-(i-1)),d.forEach(function(e){n.$.body.find('[data-calendar-item-month="'+t.date(e,{"return":"yyyy-MM-dd"})+'"]').removeClass("selected-month")})),jQuery(r).addClass("selected-month"),n.selection.push(s),n.onClick&&n.onClick.call({self:this,date:s,target:this.target,dateElement:r})):n.changeMode("day",s):"year"==a&&("year"==l.selectMode?c&&(n.selection.length>=i&&(d=n.selection.splice(0,n.selection.length-(i-1)),d.forEach(function(e){n.$.body.find('[data-calendar-item-year="'+t.date(e,{"return":"yyyy-MM-dd"})+'"]').removeClass("selected-year")})),jQuery(r).addClass("selected-year"),n.selection.push(s),n.onClick&&n.onClick.call({self:this,date:s,target:this.target,dateElement:r})):n.changeMode("month",s))),a=null,r=null,s=null,d=null,o=null,c=null},u=function(e,a,n){a=t.findParentNode(e.target,function(e){if(e.getAttribute("data-calendar-move"))return!0}),a&&(n=a.getAttribute("data-calendar-move"),"day"==l.mode||"d"==l.mode?("left"==n?l.displayDate=t.date(l.displayDate,{add:{m:-1}}):l.displayDate=t.date(l.displayDate,{add:{m:1}}),o.call(this,l.displayDate)):"month"==l.mode||"m"==l.mode?("left"==n?l.displayDate=t.date(l.displayDate,{add:{y:-1}}):l.displayDate=t.date(l.displayDate,{add:{y:1}}),c.call(this,l.displayDate)):"year"!=l.mode&&"y"!=l.mode||("left"==n?l.displayDate=t.date(l.displayDate,{add:{y:-10}}):l.displayDate=t.date(l.displayDate,{add:{y:10}}),h.call(this,l.displayDate))),a=null,n=null},f=function(){setTimeout(function(){if("day"===l.mode||"d"===l.mode)for(var e in this.markerMap)this.$.body.find('[data-calendar-item-date="'+e+'"]').addClass(this.markerMap[e].theme||l.defaultMarkerTheme)}.bind(this))},y=function(){setTimeout(function(){for(var e in this.selectionMap)this.$.body.find('[data-calendar-item-date="'+e+'"]').addClass("selected-day")}.bind(this))},p=function(){setTimeout(function(){if("day"===l.mode||"d"===l.mode)for(var e in this.periodMap)this.periodMap[e].label&&this.$.body.find('[data-calendar-item-date="'+e+'"]').find(".addon-footer").html(this.periodMap[e].label),this.$.body.find('[data-calendar-item-date="'+e+'"]').addClass(this.periodMap[e].theme)}.bind(this))},g=function(){if("day"===l.mode||"d"===l.mode)for(var e in this.periodMap)this.$.body.find('[data-calendar-item-date="'+e+'"]').find(".addon-footer").empty(),this.$.body.find('[data-calendar-item-date="'+e+'"]').removeClass(this.periodMap[e].theme)};this.init=function(){this.onStateChanged=l.onStateChanged,this.onClick=l.onClick,l.target||console.log(ax5.info.getError("ax5calendar","401","setConfig")),this.target=jQuery(l.target),l.displayDate=t.date(l.displayDate),this.target.html(s.call(this)),this.$={root:this.target.find('[data-calendar-els="root"]'),control:this.target.find('[data-calendar-els="control"]'),"control-display":this.target.find('[data-calendar-els="control-display"]'),body:this.target.find('[data-calendar-els="body"]')},l.control&&this.$.root.on(l.clickEventName,"[data-calendar-move]",function(e){u.call(this,e||window.event)}.bind(this)),l.selection&&this.setSelection(l.selection,!1),l.selectable&&this.setSelectable(l.selectable,!1),l.marker&&this.setMarker(l.marker,!1),setTimeout(function(){"day"===l.mode||"d"===l.mode?o.call(this,l.displayDate):"month"===l.mode||"m"===l.mode?c.call(this,l.displayDate):"year"!==l.mode&&"y"!==l.mode||h.call(this,l.displayDate)}.bind(this))},this.changeMode=function(e,t){return"undefined"!=typeof t&&(l.displayDate=t),e&&(l.mode=e),this.$.body.removeClass("fadein").addClass("fadeout"),setTimeout(function(){"day"==l.mode||"d"==l.mode?o.call(this,l.displayDate):"month"==l.mode||"m"==l.mode?c.call(this,l.displayDate):"year"!=l.mode&&"y"!=l.mode||h.call(this,l.displayDate),this.$.body.removeClass("fadeout").addClass("fadein")}.bind(this),l.animateTime),this},this.setSelection=function(){n.selectionMap={};var e={arr:function(e,a,i){return a={},t.isArray(e)?(n.selection=e=e.splice(0,i),e.forEach(function(e){t.isDate(e)&&(e=t.date(e,{"return":l.dateFormat})),a[e]=!0}),a):a}};return function(a,n){var r={};if(i=l.multipleSelect?t.isNumber(l.multipleSelect)?l.multipleSelect:2:1,l.selection=a){if(!t.isArray(a))return this;r=e.arr(a,{},i)}return this.selectionMap=jQuery.extend({},r),n!==!1&&y.call(this),r=null,this}}(),this.getSelection=function(){return this.selection},this.setSelectable=function(){n.selectableMap={};var e={arr:function(e,a){return a={},t.isArray(e)?(e.forEach(function(e){t.isDate(e)&&(e=t.date(e,{"return":l.dateFormat})),a[e]=!0}),a):a},obj:function(e,a){if(a={},t.isArray(e))return a;if(e.range)return a;for(var n in e)a[n]=e[n];return a},range:function(e,a){return a={},t.isArray(e)?a:e.range?(e.range.forEach(function(e){if(t.isDateFormat(e.from)&&t.isDateFormat(e.to))for(var n=t.date(e.from);n<=t.date(e.to);n.setDate(n.getDate()+1))a[t.date(n,{"return":l.dateFormat})]=!0;else for(var i=e.from;i<=e.to;i++)a[i]=!0}),a):a}};return function(a,n){var i,r={};if(l.selectable=a)if(t.isArray(a))r=e.arr(a);else{for(i in e)if(a[i]){r=e[i](a);break}0===Object.keys(r).length&&(r=e.obj(a))}return this.selectableMap=r,n!==!1&&this.changeMode(),this}}(),this.setMarker=function(){n.markerMap={};var e={obj:function(e,a){if(a={},t.isArray(e))return a;if(e.range)return a;for(var n in e)a[n]=e[n];return e=null,a},range:function(e,a){return a={},t.isArray(e)?a:e.range?(e.range.forEach(function(e){if(t.isDateFormat(e.from)&&t.isDateFormat(e.to))for(var n=t.date(e.from);n<=t.date(e.to);n.setDate(n.getDate()+1))a[t.date(n,{"return":l.dateFormat})]={theme:e.theme,label:e.label};else for(var i=e.from;i<=e.to;i++)a[i]={theme:e.theme,label:e.label}}),e=null,a):a}};return function(t,a){var n,i={};if(l.marker=t){for(n in e)if(t[n]){i=e[n](t);break}0===Object.keys(i).length&&(i=e.obj(t))}return this.markerMap=i,a!==!1&&f.call(this),this}}(),this.setPeriod=function(){n.periodMap={};var e={range:function(e,a){return a={},t.isArray(e)?a:e.range?(e.range.forEach(function(e){if(t.isDateFormat(e.from)&&t.isDateFormat(e.to))for(var n=new Date(t.date(e.from));n<=t.date(e.to);n.setDate(n.getDate()+1))n.getTime()==t.date(e.from).getTime()?a[t.date(n,{"return":l.dateFormat})]={theme:e.theme||l.defaultPeriodTheme,label:e.fromLabel}:n.getTime()==t.date(e.to).getTime()?a[t.date(n,{"return":l.dateFormat})]={theme:e.theme||l.defaultPeriodTheme,label:e.toLabel}:a[t.date(n,{"return":l.dateFormat})]={theme:e.theme||l.defaultPeriodTheme}}),e=null,a):a}};return function(t,a){var n={};return a!==!1&&g.call(this),(l.period=t)&&(n=e.range(t)),this.periodMap=n,a!==!1&&p.call(this),this}}(),this.main=function(){e.calendar_instance=e.calendar_instance||[],e.calendar_instance.push(this),arguments&&t.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}()),a=ax5.ui.calendar}(),function(){var e=ax5.ui.calendar,t=function(e){return'\n                <div class="ax5-ui-calendar {{theme}}" data-calendar-els="root" onselectstart="return false;">\n                    {{#control}}\n                    <div class="calendar-control" data-calendar-els="control" style="{{controlCSS}}">\n                        <a class="date-move-left" data-calendar-move="left" style="{{controlButtonCSS}}">{{{left}}}</a>\n                        <div class="date-display" data-calendar-els="control-display" style="{{controlCSS}}"></div>\n                        <a class="date-move-right" data-calendar-move="right" style="{{controlButtonCSS}}">{{{right}}}</a>\n                    </div>\n                    {{/control}}\n                    <div class="calendar-body" data-calendar-els="body"></div>\n                </div>\n                '},a=function(e){return'\n                <table data-calendar-table="day" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                        {{#weekNames}}\n                            <td class="calendar-col-{{col}}" style="height: {{colHeadHeight}}">\n                            {{label}}\n                            </td>\n                        {{/weekNames}}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfWeek}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfWeek}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-day {{addClass}}" data-calendar-item-date="{{thisDate}}">\n                                    <span class="addon addon-header"></span>\n                                    {{thisDataLabel}}\n                                    <span class="addon addon-footer"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},n=function(e){return'\n                <table data-calendar-table="month" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="3" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-month {{addClass}}" data-calendar-item-month="{{thisMonth}}">\n                                    <span class="addon"></span>\n                                    {{thisMonthLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '},l=function(e){return'\n                <table data-calendar-table="year" cellpadding="0" cellspacing="0" style="width:100%;">\n                    <thead>\n                        <tr>\n                            <td class="calendar-col-0" colspan="4" style="height: {{colHeadHeight}}">\n                            {{colHeadLabel}}\n                            </td>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            {{#list}}    \n                            {{#isStartOfRow}}\n                            {{^@first}}\n                        </tr>\n                        <tr>\n                            {{/@first}}\n                            {{/isStartOfRow}}\n                            <td class="calendar-col-{{col}}" style="{{itemStyles}}">\n                                <a class="calendar-item-year {{addClass}}" data-calendar-item-year="{{thisYear}}">\n                                    <span class="addon"></span>\n                                    {{thisYearLabel}}\n                                    <span class="lunar"></span>\n                                </a>\n                            </td>\n                            {{/list}}\n                        </tr>\n                    </tbody>\n                </table>\n                '};e.tmpl={frameTmpl:t,dayTmpl:a,monthTmpl:n,yearTmpl:l,get:function(t,a,n){return ax5.mustache.render(e.tmpl[t].call(this,n),a)}}}();"use strict";!function(){var t=ax5.ui,e=ax5.util,i=void 0;t.addClass({className:"picker"},function(){return function(){var t=this,n=void 0;this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",title:"",lang:{ok:"ok",cancel:"cancel"},animateTime:100,calendar:{multipleSelect:!1,control:{left:ax5.def.picker.date_leftArrow||"&#x02190",yearTmpl:ax5.def.picker.date_yearTmpl||"%s",monthTmpl:ax5.def.picker.date_monthTmpl||"%s",right:ax5.def.picker.date_rightArrow||"&#x02192",yearFirst:!0}},palette:{}},this.queue=[],this.activePicker=null,this.activePickerQueueIndex=-1,this.openTimer=null,this.closeTimer=null,n=this.config;var a=function(t,e){return t&&t.onStateChanged?t.onStateChanged.call(e,e):this.onStateChanged&&this.onStateChanged.call(e,e),!0},l=function(){var t={focus:function(t,e){this.open(t)},click:function(t,e){this.open(t)}},i={"@fn":function(t,e){var i=this.queue[t],a=e.length,l={inputLength:a||1};a>1&&(l.btns={ok:{label:n.lang.ok,theme:n.theme}}),this.queue[t]=jQuery.extend(!0,l,i),l=null,a=null},date:function(t,e){var i=this.queue[t],a=i.content?i.content.width||270:270,l=i.content?i.content.margin||5:5,u=e.length,c={contentWidth:a*u+(u-1)*l,content:{width:a,margin:l},inputLength:u||1};u>1&&!i.btns&&(c.btns={ok:{label:n.lang.ok,theme:n.theme}}),this.queue[t]=jQuery.extend(!0,c,i),a=null,l=null,c=null,u=null},"secure-num":function(t,e){var i=this.queue[t],n=e.length,a={inputLength:n||1};this.queue[t]=jQuery.extend(!0,a,i),a=null,n=null},keyboard:function(t,e){var i=this.queue[t],n=e.length,a={inputLength:n||1};this.queue[t]=jQuery.extend(!0,a,i),a=null,n=null},numpad:function(t,e){var i=this.queue[t],n=e.length,a={inputLength:n||1};this.queue[t]=jQuery.extend(!0,a,i),a=null,n=null},color:function(t,i){var a=this.queue[t],l=a.content?a.content.width||270:270,u=a.content?a.content.margin||5:5,c=i.length,r={contentWidth:l*c+(c-1)*u,content:{width:l,margin:u},inputLength:c||1},s=a.$target.find('[data-ax5picker-color="preview"]');s.get(0)&&(s.css({"background-color":"#"+e.color(i.val()||"#000000").getHexValue()}),i.on("change",function(){s.css({"background-color":"#"+e.color(this.value||"#000000").getHexValue()})})),c>1&&!a.btns&&(r.btns={ok:{label:n.lang.ok,theme:n.theme}}),this.queue[t]=jQuery.extend(!0,r,a),l=null,u=null,r=null,c=null}};return function(n){var a=this.queue[n],l=void 0;if(!a.content)return console.log(ax5.info.getError("ax5picker","501","bind")),this;if(l="INPUT"==a.$target.get(0).tagName.toUpperCase()?a.$target:a.$target.find("input[type]"),e.isFunction(a.content))i["@fn"].call(this,n,l);else for(var u in i)if(a.content.type==u){i[u].call(this,n,l);break}return l.unbind("focus.ax5picker").unbind("click.ax5picker").bind("focus.ax5picker",t.focus.bind(this,n)).bind("click.ax5picker",t.click.bind(this,n)),a.$target.find(".input-group-addon").unbind("click.ax5picker").bind("click.ax5picker",t.click.bind(this,n)),a.content.formatter&&ax5.ui.formatter&&l.ax5formatter(a.content.formatter),l=null,a=null,n=null,this}}(),u=function(t){if(!this.activePicker)return this;var e=function(e){var i,n=jQuery(window),a=jQuery(document.body),l={},u=12,c={},r={};l=e.$target.offset(),c={width:e.$target.outerWidth(),height:e.$target.outerHeight()},r={winWidth:Math.max(n.width(),a.width()),winHeight:Math.max(n.height(),a.height()),width:this.activePicker.outerWidth(),height:this.activePicker.outerHeight()},e.direction&&""!==e.direction&&"auto"!==e.direction?i=e.direction:(i="top",l.top-r.height-u<0?i="top":l.top+c.height+r.height+u>r.winHeight&&(i="bottom")),t&&this.activePicker.addClass("direction-"+i);var s=function(){var t={left:0,top:0};switch(i){case"top":t.left=l.left+c.width/2-r.width/2,t.top=l.top+c.height+u;break;case"bottom":t.left=l.left+c.width/2-r.width/2,t.top=l.top-r.height-u;break;case"left":t.left=l.left+c.width+u,t.top=l.top-r.height/2+c.height/2;break;case"right":t.left=l.left-r.width-u,t.top=l.top-r.height/2+c.height/2}return t}();(function(){"top"!=i&&"bottom"!=i||(s.left<0?(s.left=u,this.activePickerArrow.css({left:l.left+c.width/2-s.left})):s.left+r.width>r.winWidth&&(s.left=r.winWidth-r.width-u,this.activePickerArrow.css({left:l.left+c.width/2-s.left})))}).call(this),this.activePicker.css(s)},i=this.queue[this.activePickerQueueIndex];t&&(this.activePicker.css({top:-999}),jQuery(document.body).append(this.activePicker)),setTimeout(function(){e.call(this,i)}.bind(this))},c=function(t,i){if(!this.activePicker)return this;var n=this.queue[this.activePickerQueueIndex];return i=e.findParentNode(t.target,function(t){return!!t.getAttribute("data-picker-els")||(n.$target.get(0)==t||void 0)}),i?this:(this.close(),this)},r=function(t,i){if(t.srcElement&&(t.target=t.srcElement),i=e.findParentNode(t.target,function(t){if(t.getAttribute("data-picker-btn"))return!0})){var n=this.queue[this.activePickerQueueIndex],a=i.getAttribute("data-picker-btn");if(n.btns&&n.btns[a].onClick){var l={key:a,value:n.btns[a],self:this,item:n};n.btns[a].onClick.call(l,a)}else this.close()}},s=function(t){t.keyCode==ax5.info.eventKeys.ESC&&this.close()},o=function(t){return e.isString(t)||(t=jQuery(t).data("data-axpicker-id")),e.isString(t)?e.search(this.queue,function(){return this.id==t}):void console.log(ax5.info.getError("ax5picker","402","getQueIdx"))};this.init=function(){this.onStateChanged=n.onStateChanged},this.bind=function(t){var i={},a=void 0;return t=jQuery.extend(!0,i,n,t),t.target?(t.$target=jQuery(t.target),t.$target.get(0)?(t.id||(t.id=t.$target.data("data-axpicker-id")),t.id||(t.id="ax5-picker-"+ax5.getGuid(),t.$target.data("data-axpicker-id",t.id)),a=e.search(this.queue,function(){return this.id==t.id}),a===-1?(this.queue.push(t),l.call(this,this.queue.length-1)):(this.queue[a]=jQuery.extend(!0,{},this.queue[a],t),l.call(this,a)),i=null,a=null,this):(console.log(ax5.info.getError("ax5picker","401","bind")),this)):(console.log(ax5.info.getError("ax5picker","401","bind")),this)},this.setContentValue=function(){var i={date:function(t,e,i){var n,a,l,u=[];return"INPUT"!==t.$target.get(0).tagName.toUpperCase()&&t.$target.find("input[type]").each(function(){u.push(this.value)}),0==e?(u.length>1&&""!==u[1]?(n=ax5.util.dday(u[1],{today:u[0]}),n<0&&(l=i)):l=i,l&&(t.pickerCalendar[1].ax5uiInstance.setSelection([l],!1).changeMode("d",l),this.setContentValue(t.id,1,l)),i):1==e?(u.length>1&&(n=ax5.util.dday(u[1],{today:u[0]}),n<0&&(a=u[1])),a&&(t.pickerCalendar[0].ax5uiInstance.setSelection([a],!1).changeMode("d",a),this.setContentValue(t.id,0,a)),i):void 0}};return function(n,l,u,c){var r=e.isNumber(n)?n:o.call(this,n),s=this.queue[r],h=void 0;if(c||(c={}),s){if(h="INPUT"==s.$target.get(0).tagName.toUpperCase()?s.$target:jQuery(s.$target.find("input[type]").get(l)),h.val(u),s.disableChangeTrigger){var d=s.$target.find('[data-ax5picker-color="preview"]');d.get(0)&&d.css({"background-color":u})}else h.trigger("change");s.inputLength>1&&i[s.content.type]&&(u=i[s.content.type].call(this,s,l,u));var f={self:t,state:"changeValue",item:s,inputIndex:l,value:u,values:[u]};"INPUT"!==s.$target.get(0).tagName.toUpperCase()&&(f.values=[],s.$target.find("input[type]").each(function(){f.values.push(this.value)})),a.call(this,s,f),1!=s.inputLength||c.doNotClose||this.close()}return s=null,n=null,l=null,u=null,this}}(),this.getContentValue=function(){return function(t,i){var n=e.isNumber(t)?t:o.call(this,t),a=this.queue[n],l=void 0;return a?(l="INPUT"==a.$target.get(0).tagName.toUpperCase()?a.$target:jQuery(a.$target.find("input[type]").get(i)),l.val()):(a=null,t=null,i=null,this)}}(),this.open=function(){var l={"@fn":function(t,e){var i=this.queue[t];return i.content.call(i,function(t){e(t)}),!0},date:function(i){for(var a=this.queue[i],l=[],u=jQuery.extend({},n.calendar,{displayDate:new Date}),c="INPUT"==a.$target.get(0).tagName.toUpperCase()?a.$target:a.$target.find("input[type]"),r=0;r<a.inputLength;r++)l.push('<div style="width:'+e.cssNumber(a.content.width)+';float:left;" class="ax-picker-content-box" data-calendar-target="'+r+'"></div>'),r<a.inputLength-1&&l.push('<div style="width:'+a.content.margin+'px;float:left;height: 5px;"></div>');l.push('<div style="clear:both;"></div>'),a.pickerContent.html(l.join("")),a.pickerCalendar=[],a.pickerContent.find("[data-calendar-target]").each(function(){var e=this.getAttribute("data-calendar-target"),i=c.get(e).value,n=ax5.util.date(i),l={year:function(t){return ax5.util.date(t,{return:"yyyy"})},month:function(t){return ax5.util.date(t,{return:"yyyy-MM"})},day:function(t){return t}};u.displayDate=n,i&&(u.selection=[n]),u=jQuery.extend(!0,u,a.content.config||{}),u.target=this,u.onClick=function(){t.setContentValue(a.id,e,l[u.selectMode||"day"](this.date))},a.pickerCalendar.push({itemId:a.id,inputIndex:e,ax5uiInstance:new ax5.ui.calendar(u)})})},"secure-num":function(i){for(var n=this.queue[i],l=[],u=0;u<n.inputLength;u++)l.push('<div style="width:'+e.cssNumber(n.content.width)+';float:left;" class="ax-picker-content-box" data-secure-num-target="'+u+'"></div>'),u<n.inputLength-1&&l.push('<div style="width:'+n.content.margin+'px;float:left;height: 5px;"></div>');l.push('<div style="clear:both;"></div>'),n.pickerContent.html(l.join("")),n.pickerContent.find("[data-secure-num-target]").each(function(){var e=this.getAttribute("data-secure-num-target"),i=[],l=function(t){var e,i,n;for(n=t.length;n;n-=1)e=Math.floor(Math.random()*n),i=t[n-1],t[n-1]=t[e],t[e]=i;return t}([0,1,2,3,4,5,6,7,8,9]),u=[{label:"&#x02190",fn:"back"},{label:"C",fn:"clear"}];l.forEach(function(t){i.push('<div style="float:left;'+n.content.config.btnWrapStyle+'">'),i.push('<button class="btn btn-default btn-'+n.content.config.btnTheme+'" style="'+n.content.config.btnStyle+'" data-secure-num-value="'+t+'">'+t+"</button>"),i.push("</div>")}),u.forEach(function(t){i.push('<div style="float:left;'+n.content.config.btnWrapStyle+'">'),i.push('<button class="btn btn-default btn-'+n.content.config.specialBtnTheme+'" style="'+n.content.config.btnStyle+'" data-secure-num-value="'+t.fn+'">'+t.label+"</button>"),i.push("</div>")}),i.push('<div style="clear:both;"></div>'),$(this).html(i.join("")).on("click","[data-secure-num-value]",function(){var i=this.getAttribute("data-secure-num-value"),l="INPUT"==n.$target.get(0).tagName.toUpperCase()?n.$target:jQuery(n.$target.find("input[type]").get(e)),u=l.val();"back"==i?l.val(u.substring(0,u.length-1)):"clear"==i?l.val(""):l.val(u+i),a.call(this,n,{self:t,state:"changeValue",item:n,value:l.val()})})})},keyboard:function(i){for(var n=this.queue[i],l=[],u=0;u<n.inputLength;u++)l.push('<div style="width:'+e.cssNumber(n.content.width)+';float:left;" class="ax-picker-content-box" data-keyboard-target="'+u+'"></div>'),u<n.inputLength-1&&l.push('<div style="width:'+n.content.margin+'px;float:left;height: 5px;"></div>');l.push('<div style="clear:both;"></div>'),n.pickerContent.html(l.join(""));var c=[[{value:"`",shiftValue:"~"},{value:"1",shiftValue:"!"},{value:"2",shiftValue:"@"},{value:"3",shiftValue:"#"},{value:"4",shiftValue:"$"},{value:"5",shiftValue:"%"},{value:"6",shiftValue:"^"},{value:"7",shiftValue:"&"},{value:"8",shiftValue:"*"},{value:"9",shiftValue:"("},{value:"0",shiftValue:")"},{value:"-",shiftValue:"_"},{value:"=",shiftValue:"+"},{label:"&#x02190",fn:"back"}],[{value:"q",shiftValue:"Q"},{value:"w",shiftValue:"W"},{value:"e",shiftValue:"E"},{value:"r",shiftValue:"R"},{value:"t",shiftValue:"T"},{value:"y",shiftValue:"Y"},{value:"u",shiftValue:"U"},{value:"i",shiftValue:"I"},{value:"o",shiftValue:"O"},{value:"p",shiftValue:"P"},{value:"[",shiftValue:"{"},{value:"]",shiftValue:"}"},{value:"\\",shiftValue:"|"}],[{label:"Clear",fn:"clear"},{value:"a",shiftValue:"A"},{value:"s",shiftValue:"S"},{value:"d",shiftValue:"D"},{value:"f",shiftValue:"F"},{value:"g",shiftValue:"G"},{value:"h",shiftValue:"H"},{value:"j",shiftValue:"J"},{value:"k",shiftValue:"K"},{value:"l",shiftValue:"L"},{value:";",shiftValue:":"},{value:"'",shiftValue:'"'}],[{label:"Shift",fn:"shift"},{value:"z",shiftValue:"Z"},{value:"x",shiftValue:"X"},{value:"c",shiftValue:"C"},{value:"v",shiftValue:"V"},{value:"b",shiftValue:"B"},{value:"n",shiftValue:"N"},{value:"m",shiftValue:"M"},{value:",",shiftValue:"<"},{value:".",shiftValue:">"},{value:"/",shiftValue:"?"},{label:"Close",fn:"close"}]],r=function(t){var e=[];return c.forEach(function(i){e.push('<div style="display: table;margin:0 auto;">'),i.forEach(function(i){var a,l,u,c,r;i.fn?(a=i.fn,l=i.label,u=n.content.config.specialBtnWrapStyle,c=n.content.config.specialBtnTheme,r=n.content.config.specialBtnStyle):(l=a=t?i.shiftValue:i.value,u=n.content.config.btnWrapStyle,c=n.content.config.btnTheme,r=n.content.config.btnStyle),e.push('<div style="display: table-cell;'+u+'">'),e.push('<button class="btn btn-default btn-'+c+'" style="'+r+'" data-keyboard-value="'+a+'">'+l+"</button>"),e.push("</div>")}),e.push("</div>")}),e.join("")};n.pickerContent.find("[data-keyboard-target]").each(function(){var e=this.getAttribute("data-keyboard-target"),i=$(this),l=!1,u=function(){l=!l,i.html(r(l))};i.html(r(l)).on("mousedown","[data-keyboard-value]",function(){var i=this.getAttribute("data-keyboard-value"),l="INPUT"==n.$target.get(0).tagName.toUpperCase()?n.$target:jQuery(n.$target.find("input[type]").get(e)),c=l.val();switch(i){case"back":l.val(c.substring(0,c.length-1));break;case"clear":l.val("");break;case"shift":return u(),!1;case"close":return t.close(),!1;default:l.val(c+i)}a.call(this,n,{self:t,state:"changeValue",item:n,value:l.val()})})})},numpad:function(i){for(var n=this.queue[i],l=[],u=0;u<n.inputLength;u++)l.push('<div style="width:'+e.cssNumber(n.content.width)+';float:left;" class="ax-picker-content-box" data-numpad-target="'+u+'"></div>'),u<n.inputLength-1&&l.push('<div style="width:'+n.content.margin+'px;float:left;height: 5px;"></div>');l.push('<div style="clear:both;"></div>'),n.pickerContent.html(l.join("")),n.pickerContent.find("[data-numpad-target]").each(function(){var e=this.getAttribute("data-numpad-target"),i=[],l=n.content.config.keyArray||[{value:"7"},{value:"8"},{value:"9"},{label:"BS",fn:"back"},{value:"4"},{value:"5"},{value:"6"},{label:"CLS",fn:"clear"},{value:"1"},{value:"2"},{value:"3"},{value:""},{value:"."},{value:"0"},{value:""},{label:"OK",fn:"enter"}];l.forEach(function(t){var e=void 0,a=void 0,l=void 0,u=void 0,c=void 0;t.fn?(e=t.fn,a=t.label,u=n.content.config.specialBtnTheme,l=n.content.config.specialBtnWrapStyle,c=n.content.config.specialBtnStyle):(a=e=t.value,u=e?n.content.config.btnTheme:"",l=n.content.config.btnWrapStyle,c=n.content.config.btnStyle),i.push('<div style="float:left;'+l+'">'),i.push('<button class="btn btn-default btn-'+u+'" style="'+c+'" data-numpad-value="'+e+'">'+(a||"&nbsp;")+"</button>"),i.push("</div>")}),i.push('<div style="clear:both;"></div>'),$(this).html(i.join("")).on("mousedown","[data-numpad-value]",function(){var i=this.getAttribute("data-numpad-value"),l="INPUT"==n.$target.get(0).tagName.toUpperCase()?n.$target:jQuery(n.$target.find("input[type]").get(e)),u=l.val(),c="";switch(i){case"back":c="changeValue",l.val(u.substring(0,u.length-1));break;case"clear":c="changeValue",l.val("");break;case"enter":return t.close(n,"enter"),!1;case"close":return t.close(),!1;default:c="changeValue",l.val(u+i)}a.call(this,n,{self:t,state:c,item:n,value:l.val()})})})},color:function(i){for(var a=this.queue[i],l=[],u=jQuery.extend({},n.palette),c="INPUT"==a.$target.get(0).tagName.toUpperCase()?a.$target:a.$target.find("input[type]"),r=0;r<a.inputLength;r++)l.push('<div style="padding: 5px;width:'+e.cssNumber(a.content.width)+';float:left;" class="ax-picker-content-box" data-palette-target="'+r+'" data-ax5palette="ax5picker-'+a.id+'"></div>'),r<a.inputLength-1&&l.push('<div style="width:'+a.content.margin+'px;float:left;height: 5px;"></div>');l.push('<div style="clear:both;"></div>'),a.pickerContent.html(l.join("")),a.pickerPalette=[],a.pickerContent.find("[data-palette-target]").each(function(){var e=this.getAttribute("data-palette-target"),i=c.get(e).value;u.selectedColor=i,u=jQuery.extend(!0,u,a.content.config||{}),u.target=this,u.onClick=function(i){t.setContentValue(a.id,e,i)},u.onUpdateColor=function(i){t.setContentValue(a.id,e,i,{doNotClose:!0})},a.pickerPalette.push({itemId:a.id,inputIndex:e,ax5uiInstance:new ax5.ui.palette(u)})})}};return function(t,h){var d=e.isNumber(t)?t:o.call(this,t),f=this.queue[d];return this.openTimer&&clearTimeout(this.openTimer),this.activePicker?this.activePickerQueueIndex==d?this:h>2?this:(this.close(),this.openTimer=setTimeout(function(){this.open(d,(h||0)+1)}.bind(this),n.animateTime),this):(this.activePicker=jQuery(i.tmpl.get.call(this,"pickerTmpl",f)),this.activePickerArrow=this.activePicker.find(".ax-picker-arrow"),this.activePickerQueueIndex=d,f.pickerContent=this.activePicker.find('[data-picker-els="content"]'),e.isFunction(f.content)?(f.pickerContent.html("Loading.."),l["@fn"].call(this,d,function(t){f.pickerContent.html(t)})):f.content.type in l&&l[f.content.type].call(this,d),this.activePicker.find("[data-picker-btn]").on(n.clickEventName,function(t){r.call(this,t||window.event,d)}.bind(this)),u.call(this,"append"),jQuery(window).bind("resize.ax5picker",function(){u.call(this)}.bind(this)),jQuery(window).bind("keyup.ax5picker",function(t){t=t||window.event,s.call(this,t),e.stopEvent(t)}.bind(this)),jQuery(window).bind("click.ax5picker",function(t){t=t||window.event,c.call(this,t),e.stopEvent(t)}.bind(this)),a.call(this,f,{self:this,state:"open",item:f}),this)}}(),this.close=function(t,e){return this.closeTimer&&clearTimeout(this.closeTimer),this.activePicker?(t=this.queue[this.activePickerQueueIndex],this.activePicker.addClass("destroy"),jQuery(window).unbind("resize.ax5picker"),jQuery(window).unbind("click.ax5picker"),jQuery(window).unbind("keyup.ax5picker"),this.closeTimer=setTimeout(function(){this.activePicker&&this.activePicker.remove(),this.activePicker=null,this.activePickerQueueIndex=-1,a.call(this,t,{self:this,state:e||"close"})}.bind(this),n.animateTime),this):this},this.main=function(){arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}()),i=ax5.ui.picker}(),function(){var t=ax5.ui.picker,e=(ax5.util,function(){return'\n<div class="ax5-ui-picker {{theme}}" id="{{id}}" data-picker-els="root" {{#zIndex}}style="z-index:{{zIndex}};"{{/zIndex}}>\n    {{#title}}\n        <div class="ax-picker-heading">{{title}}</div>\n    {{/title}}\n    <div class="ax-picker-body">\n        <div class="ax-picker-content" data-picker-els="content" style="width:{{contentWidth}}px;"></div>\n        {{#btns}}\n            <div class="ax-picker-buttons">\n            {{#btns}}\n                {{#@each}}\n                <button data-picker-btn="{{@key}}" class="btn btn-default {{@value.theme}}">{{@value.label}}</button>\n                {{/@each}}\n            {{/btns}}\n            </div>\n        {{/btns}}\n    </div>\n    <div class="ax-picker-arrow"></div>\n</div>\n'});t.tmpl={pickerTmpl:e,get:function(e,i,n){return ax5.mustache.render(t.tmpl[e].call(this,n),i)}}}(),ax5&&ax5.ui&&ax5.ui.picker&&(ax5.ui.picker_instance=new ax5.ui.picker,jQuery.fn.ax5picker=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"open":return ax5.ui.picker_instance.open(this);case"close":return ax5.ui.picker_instance.close(this);case"setValue":return ax5.ui.picker_instance.setContentValue(this,arguments[1],arguments[2]);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend(!0,t,e),ax5.ui.picker_instance.bind(t)});return this}}());"use strict";!function(){var t=ax5.ui,e=ax5.util,n=void 0;t.addClass({className:"formatter"},function(){var t=(new Date,function(t,e){if("undefined"==typeof e&&(e=t.value.length),t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()}else t.selectionStart&&(t.focus(),t.selectionStart=e,t.selectionEnd=e)});return function(){var r,a=this;this.instanceId=ax5.getGuid(),this.config={animateTime:250},this.queue=[],this.openTimer=null,this.closeTimer=null,r=this.config;var u={focus:function(t,e,n){t.$input.data("__originValue__")||t.$input.data("__originValue__",t.$input.val())},keydown:function(t,e,n){var r=!1;t.enterableKeyCodes&&(n.which&&t.enterableKeyCodes[n.which]||n.metaKey||n.ctrlKey||n.shiftKey||(r=!0)),r&&ax5.util.stopEvent(n)},keyup:function(e,r,a){var u,i,s,o,l,c=e.$input.get(0);"selectionStart"in c?u=c.selectionStart:document.selection&&(o=document.selection.createRange(),l=document.selection.createRange().text.length,o.moveStart("character",-c.value.length),u=o.text.length-l),i=c.value,s=e.pattern in n.formatter?n.formatter[e.pattern].getPatternValue.call(this,e,r,a,c.value):i,s!=i&&(e.$input.val(s).trigger("change"),t(c,u+s.length-i.length))},blur:function(t,e,r,a){var u,i,s=t.$input.get(0);t.$input.removeData("__originValue__"),u=s.value,i=t.pattern in n.formatter?n.formatter[t.pattern].getPatternValue.call(this,t,e,r,s.value,"blur"):u,a?t.$input.val(i):i!=u&&t.$input.val(i).trigger("change")}},i=function(t,e){if(!t.pattern&&("INPUT"==t.$target.get(0).tagName?t.pattern=t.$target.attr("data-ax5formatter"):t.pattern=t.$target.find('input[type="text"]').attr("data-ax5formatter"),!t.pattern))return console.log(ax5.info.getError("ax5formatter","501","bind")),console.log(t.target),this;var r=/[^\(^\))]+/gi,a=t.pattern.match(r);return t.pattern=a[0],t.patternArgument=a[1]||"",t.pattern in n.formatter&&(t.enterableKeyCodes=n.formatter[t.pattern].getEnterableKeyCodes.call(this,t,e)),t.$input.unbind("focus.ax5formatter").bind("focus.ax5formatter",u.focus.bind(this,this.queue[e],e)),t.$input.unbind("keydown.ax5formatter").bind("keydown.ax5formatter",u.keydown.bind(this,this.queue[e],e)),t.$input.unbind("keyup.ax5formatter").bind("keyup.ax5formatter",u.keyup.bind(this,this.queue[e],e)),t.$input.unbind("blur.ax5formatter").bind("blur.ax5formatter",u.blur.bind(this,this.queue[e],e)),u.blur.call(this,this.queue[e],e),this},s=function(t){return e.isString(t)||(t=jQuery(t).data("data-formatter")),e.search(this.queue,function(){return this.id==t})};this.init=function(){},this.bind=function(t){var n={},u=void 0;if(jQuery.extend(!0,n,r),t&&jQuery.extend(!0,n,t),t=n,!t.target)return console.log(ax5.info.getError("ax5formatter","401","bind")),this;if(t.$target=jQuery(t.target),"INPUT"==t.$target.get(0).tagName)t.$input=t.$target;else if(t.$input=t.$target.find('input[type="text"]'),t.$input.length>1)return t.$input.each(function(){t.target=this,a.bind(t)}),this;return t.$input="INPUT"==t.$target.get(0).tagName?t.$target:t.$target.find('input[type="text"]'),t.id||(t.id=t.$input.data("ax5-formatter")),t.id||(t.id="ax5-formatter-"+ax5.getGuid(),t.$input.data("ax5-formatter",t.id)),u=e.search(this.queue,function(){return this.id==t.id}),u===-1?(this.queue.push(t),i.call(this,this.queue[this.queue.length-1],this.queue.length-1)):(this.queue[u]=t,i.call(this,this.queue[u],u)),this},this.formatting=function(t){var n=e.isNumber(t)?t:s.call(this,t);if(n===-1)for(var r=this.queue.length;r--;)u.blur.call(this,this.queue[r],r,null,!0);else u.blur.call(this,this.queue[n],n,null,!0);return this},this.unbind=function(){},this.main=function(){arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}()),n=ax5.ui.formatter}(),function(){var t=ax5.ui.formatter,e=ax5.util,n=new Date,r={18:"KEY_ALT",8:"KEY_BACKSPACE",17:"KEY_CONTROL",46:"KEY_DELETE",40:"KEY_DOWN",35:"KEY_END",187:"KEY_EQUAL",27:"KEY_ESC",36:"KEY_HOME",45:"KEY_INSERT",37:"KEY_LEFT",189:"KEY_MINUS",34:"KEY_PAGEDOWN",33:"KEY_PAGEUP",13:"KEY_RETURN",39:"KEY_RIGHT",16:"KEY_SHIFT",9:"KEY_TAB",38:"KEY_UP",91:"KEY_WINDOW"},a={48:1,49:1,50:1,51:1,52:1,53:1,54:1,55:1,56:1,57:1,96:1,97:1,98:1,99:1,100:1,101:1,102:1,103:1,104:1,105:1},u={getEnterableKeyCodes:function(e){var n={188:","};return"int"==e.patternArgument||(n[190]="."),jQuery.extend(n,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,n,r,a,u){a=a.replace(/[^0-9^\.^\-]/g,"");var i,s=new RegExp("([0-9])([0-9][0-9][0-9][,.])"),o=a.split(".");o[0]+=".";do o[0]=o[0].replace(s,"$1,$2");while(s.test(o[0]));return i=o.length>1?e.isNumber(t.maxRound)?o[0]+e.left(o[1],t.maxRound):o.join(""):o[0].split(".")[0]}},i={getEnterableKeyCodes:function(e){var n={190:".",110:"."};return jQuery.extend(n,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,n,r,a,u){a=a.replace(/[^0-9^\.^\-]/g,"");var i,s=a.split(".");return s[0]+=".",i=s.length>1?e.isNumber(t.maxRound)?s[0]+e.left(s[1],t.maxRound):s.join(""):s[0].split(".")[0]}},s={getEnterableKeyCodes:function(e){var n={189:"-",191:"/"};return jQuery.extend(n,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,r,a,u,i){if(u=u.replace(/\D/g,""),""==u)return u;var s=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})?.*$/;"time"==t.patternArgument?s=/^([0-9]{4})\-?([0-9]{1,2})?\-?([0-9]{1,2})? ?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/:"year"==t.patternArgument?s=/^([0-9]{0,4})?.*$/:"month"==t.patternArgument&&(s=/^([0-9]{4})\-?([0-9]{1,2})?.*$/);var o=u.match(s),l="",c=function(t,r,a,u){var i={Y:function(t){return"undefined"==typeof t&&(t=n.getFullYear()),""!=t&&"0000"!=t||(t=n.getFullYear()),t.length<4?e.setDigit(t,4):t},M:function(t){return"undefined"==typeof t&&(t=n.getMonth()+1),t>12?12:0==t?"01":e.setDigit(t,2)},D:function(t){"undefined"==typeof t&&(t=n.getDate()+1);var r=e.daysOfMonth(u[1],u[2]-1);return t>r?r:0==t?"01":e.setDigit(t,2)},h:function(t){return t||(t=0),t>23?23:e.setDigit(t,2)},m:function(t){return t||(t=0),t>59?59:e.setDigit(t,2)},s:function(t){return t||(t=0),t>59?59:e.setDigit(t,2)}};return a?i[r](t):t};return l=u.replace(s,function(e,n){var r=[];return"year"==t.patternArgument?r.push(c(arguments[1],"Y",i)):"month"==t.patternArgument?(r.push(c(arguments[1],"Y",i)),(arguments[2]||i)&&r.push("/"+c(arguments[2],"M",i))):"time"==t.patternArgument?(r.push(c(arguments[1],"Y",i)),(arguments[2]||i)&&r.push("/"+c(arguments[2],"M",i)),(arguments[3]||i)&&r.push("/"+c(arguments[3],"D",i,arguments)),(arguments[4]||i)&&r.push(" "+c(arguments[4],"h",i)),(arguments[5]||i)&&r.push(":"+c(arguments[5],"m",i)),(arguments[6]||i)&&r.push(":"+c(arguments[6],"s",i))):(r.push(c(arguments[1],"Y",i)),(arguments[2]||i)&&r.push("/"+c(arguments[2],"M",i)),(arguments[3]||i)&&r.push("/"+c(arguments[3],"D",i,arguments))),r.join("")}),"blur"!=i||o?o||(l=l.length>4?e.left(l,4):l):l=function(){var e=[];return"year"==t.patternArgument?e.push(c(0,"Y",i)):"month"==t.patternArgument?(e.push(c(0,"Y",i)),e.push("/"+c(0,"M",i))):"time"==t.patternArgument?(e.push(c(0,"Y",i)),e.push("/"+c(0,"M",i)),e.push("/"+c(0,"D",i,arguments)),e.push(" "+c(0,"h",i)),e.push(":"+c(0,"m",i)),e.push(":"+c(0,"s",i))):(e.push(c(0,"Y",i)),e.push("/"+c(0,"M",i)),e.push("/"+c(0,"D",i,arguments))),e.join("")}(),l}},o={getEnterableKeyCodes:function(e){var n={186:":"};return jQuery.extend(n,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,n,r,a,u){a=a.replace(/\D/g,"");var i=/^([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?.*$/,s=a.match(i),o=a.replace(i,function(t,e){var n=[arguments[1]];return arguments[2]&&n.push(":"+arguments[2]),arguments[3]&&n.push(":"+arguments[3]),n.join("")});return s||(o=o.length>2?e.left(o,2):o),o}},l={getEnterableKeyCodes:function(e){var n={189:"-"};return jQuery.extend(n,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,e,n,r,a){r=r.replace(/\D/g,"");var u=/^([0-9]{3})\-?([0-9]{1,2})?\-?([0-9]{1,5})?.*$/,i=r.replace(u,function(t,e){var n=[arguments[1]];return arguments[2]&&n.push(arguments[2]),arguments[3]&&n.push(arguments[3]),n.join("-")});return i}},c={getEnterableKeyCodes:function(e){var n={189:"-",188:",",107:"+",187:"+"};return jQuery.extend(n,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,e,n,r,a){var u=r.replace(/\D/g,""),i=/^([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/;"+"==r.substr(0,1)&&(u="+"+r.replace(/\D/g,""),i=/^\+?([0-9]{2}) ?([0-9]{3})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/),"02"==u.substr(0,2)&&(i=/^([0-9]{2})\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?\-?([0-9]{1,4})?/);var s=u.replace(i,function(t,e){console.log(t,e);var n=[arguments[1]];return arguments[2]&&n.push(arguments[2]),arguments[3]&&n.push(arguments[3]),arguments[4]&&n.push(arguments[4]),arguments[5]&&n.push(arguments[5]),n.join("-")});return s}},f={getEnterableKeyCodes:function(e){var n={189:"-"};return jQuery.extend(n,t.formatter.ctrlKeys,t.formatter.numKeys)},getPatternValue:function(t,e,n,r,a){r=r.replace(/\D/g,"").substring(0,16);var u=/^([0-9]{4})\-?([0-9]{4})?\-?([0-9]{4})?\-?([0-9]{4})?/,i=r.replace(u,function(t,e){var n=[arguments[1]];return arguments[2]&&n.push(arguments[2]),arguments[3]&&n.push(arguments[3]),arguments[4]&&n.push(arguments[4]),n.join("-")});return i}},h={getEnterableKeyCodes:function(t){return t.getEnterableKeyCodes?t.getEnterableKeyCodes.call(t,{$input:t.$input}):null},getPatternValue:function(t,e,n,r,a){if(t.getPatternValue)return t.getPatternValue.call(t,{event:n,$input:t.$input,value:r})}};t.formatter={ctrlKeys:r,numKeys:a,money:u,number:i,date:s,time:o,bizno:l,phone:c,credit:f,custom:h}}(),ax5.ui.formatter_instance=new ax5.ui.formatter,jQuery.fn.ax5formatter=function(){return function(t){if(ax5.util.isString(arguments[0])){var e=arguments[0];switch(e){case"formatting":return ax5.ui.formatter_instance.formatting(this);case"unbind":return ax5.ui.formatter_instance.unbind(this);default:return this}}else"undefined"==typeof t&&(t={}),jQuery.each(this,function(){var e={target:this};t=jQuery.extend({},t,e),ax5.ui.formatter_instance.bind(t)});return this}}();"use strict";!function(){var e,t=ax5.ui,n=ax5.util;t.addClass({className:"menu"},function(){return function(){var i=this,l=void 0;this.instanceId=ax5.getGuid(),this.config={theme:"default",iconWidth:22,acceleratorWidth:100,menuBodyPadding:5,offset:{left:0,top:0},position:"fixed",animateTime:250,items:[],itemClickAndClose:!0,columnKeys:{label:"label",items:"items"}},this.openTimer=null,this.closeTimer=null,this.queue=[],this.menuBar={},this.state=void 0,l=this.config;var a=function(e,t){e?(jQuery(document.body).off("click.ax5menu-"+this.instanceId).on("click.ax5menu-"+this.instanceId,o.bind(this,t)),jQuery(window).off("keydown.ax5menu-"+this.instanceId).on("keydown.ax5menu-"+this.instanceId,function(e){e.which==ax5.info.eventKeys.ESC&&i.close()}),jQuery(window).on("resize.ax5menu-"+this.instanceId).on("resize.ax5menu-"+this.instanceId,function(e){i.close()})):(jQuery(document.body).off("click.ax5menu-"+this.instanceId),jQuery(window).off("keydown.ax5menu-"+this.instanceId),jQuery(window).off("resize.ax5menu-"+this.instanceId))},u=function(e,t){return e&&e.onStateChanged?e.onStateChanged.call(t,t):this.onStateChanged&&this.onStateChanged.call(t,t),i.state=t.state,e=null,t=null,!0},s=function(e){return this.onLoad&&this.onLoad.call(e,e),e=null,!0},c=function t(n,a,c,o){var d=n,r=void 0,h=void 0;return d.theme=n.theme||l.theme,d.cfg={icons:jQuery.extend({},l.icons),iconWidth:n.iconWidth||l.iconWidth,acceleratorWidth:n.acceleratorWidth||l.acceleratorWidth},a.forEach(function(e){e.html||e.divide?(e["@isMenu"]=!1,e.html&&(e["@html"]=e.html.call({item:e,config:l,opt:n}))):e["@isMenu"]=!0}),d[l.columnKeys.items]=a,d["@depth"]=c,d["@path"]=o||"root",d["@hasChild"]=function(){return this[l.columnKeys.items]&&this[l.columnKeys.items].length>0},r=jQuery(e.tmpl.get.call(this,"tmpl",d,l.columnKeys)),jQuery(document.body).append(r),h=this.queue.splice(c),h.forEach(function(e){e.$target.remove()}),this.queue.push({$target:r,data:jQuery.extend({},d)}),r.find("[data-menu-item-index]").bind("mouseover",function(){var e=this.getAttribute("data-menu-item-depth"),a=this.getAttribute("data-menu-item-index"),u=this.getAttribute("data-menu-item-path"),s=void 0,c=void 0,o=void 0,m=void 0,d=void 0,r=void 0;null!=e&&"undefined"!=typeof e&&(d=i.queue[e].data[l.columnKeys.items][a][l.columnKeys.items],r=i.queue[e].$target,r.find("[data-menu-item-index]").removeClass("hover"),jQuery(this).addClass("hover"),r.attr("data-selected-menu-item-index")!=a&&(r.attr("data-selected-menu-item-index",a),d&&d.length>0?(s=jQuery(this),c=s.offset(),o="fixed"==l.position?jQuery(document).scrollTop():0,m={"@parent":{left:c.left,top:c.top,width:s.outerWidth(),height:s.outerHeight()},left:c.left+s.outerWidth()-l.menuBodyPadding,top:c.top-l.menuBodyPadding-1-o},m=jQuery.extend(!0,n,m),t.call(i,m,d,Number(e)+1,u)):i.queue.splice(Number(e)+1).forEach(function(e){e.$target.remove()}))),e=null,a=null,u=null,s=null,c=null,o=null,m=null,d=null,r=null}),r.find("[data-menu-item-index]").bind("mouseout",function(){var e=this.getAttribute("data-menu-item-depth"),t=this.getAttribute("data-menu-item-index"),n=this.getAttribute("data-menu-item-path"),a=void 0;n&&(a=i.queue[e].data[l.columnKeys.items][t][l.columnKeys.items]),a&&a.length>0||jQuery(this).removeClass("hover")}),0==c&&(d.direction&&r.addClass("direction-"+d.direction),u.call(this,null,{self:this,items:a,parent:function(e){if(!e)return!1;var t=null;try{t=Function("","return this.config.items["+e.substring(5).replace(/\./g,"].items[")+"];").call(i)}catch(e){}return t}(d["@path"]),state:"popup"})),m.call(this,r,d),s.call(this,{self:this,items:a,element:r.get(0)}),d=null,r=null,h=null,n=null,a=null,c=null,o=null,this},o=function(e,t){var a=void 0,u=void 0;if(a=n.findParentNode(t.target,function(e){if(e.getAttribute("data-menu-item-index"))return!0})){if("undefined"==typeof e&&(e={}),u=function(t){if(!t)return!1;var n=void 0;try{n=Function("","return this["+t.substring(5).replace(/\./g,"]."+l.columnKeys.items+"[")+"];").call(e.items||l.items)}catch(e){console.log(ax5.info.getError("ax5menu","501","menuItemClick"))}try{return n}finally{n=null}}(a.getAttribute("data-menu-item-path")),!u)return this;u.check&&(function(e){var t={checkbox:function(e){this.checked=!e},radio:function(t){var n=this.name;e.forEach(function(e){e.check&&"radio"===e.check.type&&e.check.name==n&&(e.check.checked=!1)}),this.checked=!t}};t[this.type]&&t[this.type].call(this,this.checked),t=null}.call(u.check,l.items),l.itemClickAndClose||i.queue.forEach(function(e){e.$target.find("[data-menu-item-index]").each(function(){var t=e.data[l.columnKeys.items][this.getAttribute("data-menu-item-index")];t.check&&jQuery(this).find(".item-checkbox-wrap").attr("data-item-checked",t.check.checked)})})),i.onClick&&i.onClick.call(u,u,e.param)&&i.close(),u[l.columnKeys.items]&&0!=u[l.columnKeys.items].length||!l.itemClickAndClose||i.close()}else i.close();return a=null,u=null,this},m=function(e,t){var n=jQuery(window),i=jQuery(document),a="fixed"==l.position?n.height():i.height(),u=n.width(),s=e.outerHeight(),c=e.outerWidth(),o=t.left,m=t.top,d=l.position||"fixed";return o+c>u&&(o=t["@parent"]?t["@parent"].left-c+l.menuBodyPadding:u-c),m+s>a&&(m=a-s),e.css({left:o,top:m,position:d}),e=null,t=null,n=null,i=null,a=null,u=null,s=null,c=null,o=null,m=null,d=null,this};this.init=function(){this.onStateChanged=l.onStateChanged,this.onClick=l.onClick,this.onLoad=l.onLoad,u.call(this,null,{self:this,state:"init"})},this.popup=function(){var e={event:function(e,t){e={left:e.clientX,top:"fixed"==l.position?e.clientY:e.pageY,width:l.width,theme:l.theme},e.left-=5,e.top-=5,l.offset&&(l.offset.left&&(e.left+=l.offset.left),l.offset.top&&(e.top+=l.offset.top)),t=jQuery.extend(!0,e,t);try{return t}finally{e=null}},object:function(e,t){e={left:e.left,top:e.top,width:e.width||l.width,theme:e.theme||l.theme},l.offset&&(l.offset.left&&(e.left+=l.offset.left),l.offset.top&&(e.top+=l.offset.top)),t=jQuery.extend(!0,e,t);try{return t}finally{e=null}}},t=function(e){e&&(l.theme=e)};return function(n,i){if(!n)return this;i=e["undefined"==typeof n.clientX?"object":"event"].call(this,n,i),t(i.theme);var u=[].concat(l.items),s=void 0;return i.items=u,i.filter&&(s=function(e){var t=[];return e.forEach(function(e){e.items&&e.items.length>0&&(e.items=s(e.items)),i.filter.call(e)&&t.push(e)}),t},i.items=u=s(u)),u.length&&(a.call(this,!1),c.call(this,i,u,0),this.popupEventAttachTimer&&clearTimeout(this.popupEventAttachTimer),this.popupEventAttachTimer=setTimeout(function(){a.call(this,!0,i)}.bind(this),500)),n=null,this}}(),this.attach=function(){var t={object:function(e,t){e={left:e.left,top:e.top,width:e.width||l.width,theme:e.theme||l.theme,direction:e.direction||l.direction},t=jQuery.extend(!0,t,e);try{return t}finally{e=null,t=null}}},u=function(e,n,u){var s=jQuery(e),o=s.offset(),m=s.outerHeight(),d=Number(e.getAttribute("data-menu-item-index")),r="fixed"==l.position?jQuery(document).scrollTop():0;if(l.items&&l.items[d][l.columnKeys.items]&&l.items[d][l.columnKeys.items].length){if(i.menuBar.openedIndex==d)return"click"==u&&i.close(),!1;i.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),i.menuBar.opened=!0,i.menuBar.openedIndex=d,s.attr("data-menu-item-opened","true"),s.addClass("hover"),l.offset&&(l.offset.left&&(o.left+=l.offset.left),l.offset.top&&(o.top+=l.offset.top)),n=t.object.call(this,{left:o.left,top:o.top+m-r},n),c.call(i,n,l.items[d][l.columnKeys.items],0,"root."+e.getAttribute("data-menu-item-index")),a.call(i,!0,{})}e=null,n=null,s=null,o=null,m=null,d=null,r=null},s=function(e,t,n){var a=jQuery(e),u=(a.offset(),a.outerHeight(),Number(e.getAttribute("data-menu-item-index")));"fixed"==l.position?jQuery(document).scrollTop():0;!l.items||l.items[u][l.columnKeys.items]&&0!=l.items[u][l.columnKeys.items].length||i.onClick&&i.onClick.call(l.items[u],l.items[u])};return function(t,a){var c,o={},m=l.items;return"undefined"==typeof a&&(a={}),o.theme=a.theme||l.theme,o.cfg={icons:jQuery.extend({},l.icons),iconWidth:a.iconWidth||l.iconWidth,acceleratorWidth:a.acceleratorWidth||l.acceleratorWidth},m.forEach(function(e){e.html||e.divide?(e["@isMenu"]=!1,e.html&&(e["@html"]=e.html.call({item:e,config:l,opt:a}))):e["@isMenu"]=!0}),o[l.columnKeys.items]=m,c=jQuery(e.tmpl.get.call(this,"tmplMenubar",o,l.columnKeys)),i.menuBar={target:jQuery(t),opened:!1},i.menuBar.target.html(c),i.menuBar.target.bind("click",function(e){if(!e)return this;var t=n.findParentNode(e.target,function(e){if(e.getAttribute("data-menu-item-index"))return!0});t&&(s(t,a,"click"),u(t,a,"click")),t=null}),i.menuBar.target.bind("mouseover",function(e){if(!i.menuBar.opened)return!1;var t=n.findParentNode(e.target,function(e){if(e.getAttribute("data-menu-item-index"))return!0});t&&u(t,a,"mouseover"),t=null}),t=null,a=null,o=null,m=null,c=null,this}}(),this.close=function(){return i.menuBar&&i.menuBar.target&&(i.menuBar.target.find("[data-menu-item-index]").removeClass("hover"),i.menuBar.opened=!1,i.menuBar.openedIndex=null),a.call(this,!1),this.queue.forEach(function(e){e.$target.remove()}),this.queue=[],u.call(this,null,{self:this,state:"close"}),this},this.getCheckValue=function(){var e={},t=function(i){for(var l=i.length;l--;)i[l].check&&i[l].check.checked&&(e[i[l].check.name]?(n.isString(e[i[l].check.name])&&(e[i[l].check.name]=[e[i[l].check.name]]),e[i[l].check.name].push(i[l].check.value)):e[i[l].check.name]=i[l].check.value),i[l].items&&i[l].items.length>0&&t(i[l].items)};t(l.items);try{return e}finally{e=null,t=null}},this.main=function(){t.menu_instance=t.menu_instance||[],t.menu_instance.push(this),arguments&&n.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}()),e=ax5.ui.menu}(),function(){var e=ax5.ui.menu,t=function(e){return'\n        <div class="ax5-ui-menu {{theme}}" {{#width}}style="width:{{width}}px;"{{/width}}>\n            <div class="ax-menu-body">\n                {{#'+e.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-depth="{{@depth}}" data-menu-item-index="{{@i}}" data-menu-item-path="{{@path}}.{{@i}}">\n                        <span class="ax-menu-item-cell ax-menu-item-checkbox">\n                            {{#check}}\n                            <span class="item-checkbox-wrap useCheckBox" {{#checked}}data-item-checked="true"{{/checked}}></span>\n                            {{/check}}\n                            {{^check}}\n                            <span class="item-checkbox-wrap"></span>\n                            {{/check}}\n                        </span>\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+e.label+'}}}</span>\n                        {{#accelerator}}\n                        <span class="ax-menu-item-cell ax-menu-item-accelerator" style="width:{{cfg.acceleratorWidth}}px;"><span class="item-wrap">{{.}}</span></span>\n                        {{/accelerator}}\n                        {{#@hasChild}}\n                        <span class="ax-menu-item-cell ax-menu-item-handle">{{{cfg.icons.arrow}}}</span>\n                        {{/@hasChild}}\n                    </div>\n                    {{/@isMenu}}\n\n                {{/'+e.items+'}}\n            </div>\n            <div class="ax-menu-arrow"></div>\n        </div>\n        '},n=function(e){return'\n        <div class="ax5-ui-menubar {{theme}}">\n            <div class="ax-menu-body">\n                {{#'+e.items+'}}\n                    {{^@isMenu}}\n                        {{#divide}}\n                        <div class="ax-menu-item-divide" data-menu-item-index="{{@i}}"></div>\n                        {{/divide}}\n                        {{#html}}\n                        <div class="ax-menu-item-html" data-menu-item-index="{{@i}}">{{{@html}}}</div>\n                        {{/html}}\n                    {{/@isMenu}}\n                    {{#@isMenu}}\n                    <div class="ax-menu-item" data-menu-item-index="{{@i}}">\n                        {{#icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-icon" style="width:{{cfg.iconWidth}}px;">{{{.}}}</span>\n                        {{/icon}}\n                        <span class="ax-menu-item-cell ax-menu-item-label">{{{'+e.label+"}}}</span>\n                    </div>\n                    {{/@isMenu}}\n                {{/"+e.items+"}}\n            </div>\n        </div>\n        "};e.tmpl={tmpl:t,tmplMenubar:n,get:function(t,n,i){return ax5.mustache.render(e.tmpl[t].call(this,i),n)}}}();eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('"3F cX";12 9E=1N 7P==="16"&&1N 7P.cY==="bm"?16(a){1a 1N a}:16(a){1a a&&1N 7P==="16"&&a.cZ===7P&&a!==7P.d0?"bm":1N a};12 2x=1r;12 9F=6U.9G.d1();11((6U.d2==\'d3\'&&9F.8D(\'d4\')!=-1)||(9F.8D("d5")!=-1)){2x=1m}1d{2x=1r}(16(){12 x=22.47;12 U=22.1S;12 y=1g 0;x.9H({d6:"4j"},16(){1a 16(){12 n=7,1x=1g 0,8E={"33":"bn","34":"bo","35":"7Q","36":"9I","37":"9J","38":"9K","39":"9L","40":"9M"};7.2u=22.d7();7.1e={d8:\'3f\',5P:1m,d9:bp,9N:bp,8F:1v,7R:0,bq:\'...\',8G:1r,2v:0,1O:0,6V:1r,6W:1r,9O:1m,5Q:1m,6i:1m,da:1m,8H:0,br:1m,bs:10,1s:0,bt:5l,5m:30,5n:26,6j:1A,8I:1r,1J:{6k:1m,2w:1r,29:26,4N:3,2c:1,9P:1m},19:{2w:1r,29:26,4N:3,2c:1,2W:1r,6X:1r},7S:1r,3G:1r,1z:{1s:25,6k:1m,bu:1m,bv:5,6Y:\'<i 3b="fa fa-bw-db" 8J-3k="1m"></i>\',8K:\'<i 3b="fa fa-bx-1t" 8J-3k="1m"></i>\',8L:\'<i 3b="fa fa-bx-2t" 8J-3k="1m"></i>\',6Z:\'<i 3b="fa fa-bw-dc" 8J-3k="1m"></i>\',9Q:16(){7.4A.54(7.1z.2Y)}},1C:{4O:15,7T:15,bz:4},1U:{1L:\'dd\',70:\'de\',4B:\'df\',6l:\'dg\'},27:{3F:1r,bA:8,9R:10,9S:15,bB:18,71:{bC:\'\',bD:\'\',bE:\'\',bF:\'\',bG:\'\'},1U:{6m:"dh",9T:"43",6n:"6n",3k:"3k",5R:"dj",2L:"dk",4P:"dm",72:"dn"}}};7.1b={2o:0,5S:0,5o:0,dp:1v};7.2p=[];7.1E=[];7.8M=[];7.6o={};7.1c=[];7.3g=1v;7.1z=1v;7.3l=[];7.6p=[];7.2d={};7.1k={};7.3H={};7.4C=1r;7.2n={};7.bH={};7.5T=1v;7.5U={};7.7U={};7.6q={};7.dq={};7.55={};7.4r={};7.3T={};7.dr={};7.44={};7.73={};7.4k={};7.3t={};7.ds={};7.8N={};7.7V={};7.4D={};7.3I={};7.3J=1m;1x=7.1e;12 o=16 o(){12 a={2u:7.43};7.$1T.5V(y.7W.3y("9U",a));7.$={"2k":{"3k":7.$1T.1F(\'[14-17-2k="3k"]\'),"4E":7.$1T.1F(\'[14-17-2k="4E"]\'),"1J":7.$1T.1F(\'[14-17-2k="1J"]\'),"19":7.$1T.1F(\'[14-17-2k="19"]\'),"1z":7.$1T.1F(\'[14-17-2k="1z"]\'),"1C":7.$1T.1F(\'[14-17-2k="1C"]\')},"1p":{"2y-1J":7.$1T.1F(\'[14-17-1p="2y-1J"]\'),"1t-1J":7.$1T.1F(\'[14-17-1p="1t-1J"]\'),"1J":7.$1T.1F(\'[14-17-1p="1J"]\'),"1J-1P":7.$1T.1F(\'[14-17-1p-1P="1J"]\'),"2t-1J":7.$1T.1F(\'[14-17-1p="2t-1J"]\'),"1y-2y-19":7.$1T.1F(\'[14-17-1p="1y-2y-19"]\'),"1y-1t-19":7.$1T.1F(\'[14-17-1p="1y-1t-19"]\'),"1y-19":7.$1T.1F(\'[14-17-1p="1y-19"]\'),"1y-19-1P":7.$1T.1F(\'[14-17-1p-1P="1y-19"]\'),"1y-2t-19":7.$1T.1F(\'[14-17-1p="1y-2t-19"]\'),"2y-19":7.$1T.1F(\'[14-17-1p="2y-19"]\'),"2y-19-1P":7.$1T.1F(\'[14-17-1p-1P="2y-19"]\'),"1t-19":7.$1T.1F(\'[14-17-1p="1t-19"]\'),"1t-19-1P":7.$1T.1F(\'[14-17-1p-1P="1t-19"]\'),"19":7.$1T.1F(\'[14-17-1p="19"]\'),"19-1P":7.$1T.1F(\'[14-17-1p-1P="19"]\'),"2t-19":7.$1T.1F(\'[14-17-1p="2t-19"]\'),"2t-19-1P":7.$1T.1F(\'[14-17-1p-1P="2t-19"]\'),"2i-2y-19":7.$1T.1F(\'[14-17-1p="2i-2y-19"]\'),"2i-1t-19":7.$1T.1F(\'[14-17-1p="2i-1t-19"]\'),"2i-19":7.$1T.1F(\'[14-17-1p="2i-19"]\'),"2i-19-1P":7.$1T.1F(\'[14-17-1p-1P="2i-19"]\'),"2i-2t-19":7.$1T.1F(\'[14-17-1p="2i-2t-19"]\')},"4F":[],"1C":{"2g":7.$1T.1F(\'[14-17-1C="2g"]\'),"2g-3h":7.$1T.1F(\'[14-17-1C="2g-3h"]\'),"2a":7.$1T.1F(\'[14-17-1C="2a"]\'),"2a-3h":7.$1T.1F(\'[14-17-1C="2a-3h"]\'),"74":7.$1T.1F(\'[14-17-1C="74"]\')},"1z":{"56":7.$1T.1F(\'[14-17-1z="56"]\'),"8O":7.$1T.1F(\'[14-17-1z="8O"]\')},"7X":{"8P":7.$1T.1F(\'[14-17-7X="8P"]\')},"4Q":{"2g":7.$1T.1F(\'[14-17-4Q="2g"]\'),"2a":7.$1T.1F(\'[14-17-4Q="2a"]\')},"2Y":"0","2r":0,"3i":[]};7.$["2k"]["4E"].2h({1s:7.1e.1s||7.1e.9V});1a 7};12 p=16 p(a){11(!U.6r(a))a=[];7.2p=U.dt(a);7.5U=y.1S.bI.13(7,7.2p);7.1b.2v=1x.2v||0;7.55=y.1S.bJ.13(7,7.2p);7.44=y.1S.9W.13(7,7.55);7.1b.2o=7.55.1u.1j*7.1e.19.29;12 b={};1q(12 r=0,3K=7.5U.1u.1j;r<3K;r++){12 d=7.5U.1u[r];1q(12 c=0,cl=d.1D.1j;c<cl;c++){b[d.1D[c].1f]=1V.2q({},d.1D[c])}}7.1E=[];1q(12 k 1H b){7.1E.1l(b[k])}1a 7};12 q=16 q(){p.13(7,7.1e.2p);s.13(7);11(7.1e.3G){t.13(7,7.1e.3G);7.3J=1m}11(7.1e.19.2W)u.13(7,7.1e.19.2W);v.13(7,1m);y.1J.2Z.13(7,1m);y.19.2Z.13(7,1m);y.1C.3c.13(7)};12 s=16 s(){12 b=7.$["2k"]["4E"].1I()-16(){12 a=0;11(1x.6V)a+=1x.5m;11(1x.6W)a+=1x.5n;a+=1x.1C.4O;1a a}(),8Q=0,9X=1g 0,75=[],1E=7.1E,i=1g 0,l=1g 0;1q(i=0,l=1E.1j;i<l;i++){11(U.5p(1E[i].1I)){8Q+=1E[i].3d=1E[i].1I}1d 11(1E[i].1I==="*"){75.1l(i)}1d 11(U.2t(1E[i].1I,1)==="%"){8Q+=1E[i].3d=b*U.1t(1E[i].1I,"%")/5l}}11(75.1j>0){9X=(b-8Q)/75.1j;1q(i=0,l=75.1j;i<l;i++){1E[75[i]].3d=9X}}};12 t=16 t(a){11(U.6r(a)){7.7V=y.1S.bK.13(7,7.8M=a)}1d{7.8M=[];7.7V={}}};12 u=16 u(b){12 d=1V.2q({},b);11("by"1H d&&"2p"1H d){7.6o={by:d.by,2p:d.2p};7.73=y.1S.bL.13(7,7.6o.2p);7.2d=16(){12 a={};1q(12 k=0,bM=7.6o.by.1j;k<bM;k++){a[7.6o.by[k]]={5q:"6s",3m:k,9Y:1m};1q(12 c=0,cl=7.1E.1j;c<cl;c++){11(7.1E[c].1B===7.6o.by[k]){7.1E[c].3u="6s";7.1E[c].bN=1m}}}1a a}.13(7)}1d{1x.19.2W=1r}};12 v=16 v(f){12 g=7.3g?7.3g:7.1c;11(2P.2Q(7.$1T.7Y(),7.$1T.76())<5){1a 1r}11(!7.1e.1s){7.$["2k"]["4E"].2h({1s:7.1e.9V=7.$1T.1s()})}12 h=7.$["2k"]["4E"].1I(),7Z=7.$["2k"]["4E"].1s(),8R=h,8S=7Z,4G=1x.4G=16(){12 a=0;11(1x.6V)a+=1x.5m;11(1x.6W)a+=1x.5n;1a a}(),80=1x.80=16(a,b){12 c=0;1q(12 i=0,l=b;i<l;i++){c+=a[i].3d}1a c}(7.1E,1x.2v),5W=1g 0,5X=1g 0,4s=1g 0;12 j=0,8T=16(a){1a 1x.1O*a}(7.1b.2o),77=16(a){1a 7.8M.1j*a}.13(7,7.1b.2o),78=1x.1J.6k?7.5U.1u.1j*1x.1J.29:0,5r=1x.1z.6k?1x.1z.1s:0;(16(){5W=7Z-78-5r-77<g.1j*7.1b.2o?7.1e.1C.4O:0;5X=16(){12 a=0;12 b=h-4G-5W;1q(12 i=0,l=7.1E.1j;i<l;i++){a+=7.1E[i].3d}1a a>b?7.1e.1C.4O:0}.13(7);11(5X>0){5W=7Z-78-5r-77-5X<g.1j*7.1b.2o?7.1e.1C.4O:0}}).13(7);8R=h-5W;8S=7Z-5r-5X;4s=8S-78;12 k=16 k(a,b,c,d){12 e={},4l=1r;8U(c){4R"2y":11(4G===0){4l=1m}1d{e["1t"]=0;e["1I"]=4G}2C;4R"1t":11(1x.2v===0){4l=1m}1d{e["1t"]=4G;e["1I"]=80}2C;4R"2t":11(!1x.7S){4l=1m}1d{}2C;3f:11(d!=="1z"){11(1x.2v===0){e["1t"]=4G}1d{e["1t"]=80+4G}e["1I"]=8R-4G-80-j}2C}11(4l){a.9Z();1a 7}11(d==="19"){8U(b){4R"1y":11(1x.1O==0){4l=1m}1d{e["1y"]=0;e["1s"]=8T}2C;4R"2i":11(!1x.3G){4l=1m}1d{e["1y"]=4s-77;e["1s"]=77}2C;3f:e["1y"]=8T;e["1s"]=4s-8T-77;2C}}1d 11(d==="1J"){e["1s"]=78}1d 11(d==="1z"){11(5r==0){4l=1m}1d{e["1s"]=5r}}11(4l){a.9Z();1a 7}a.bO().2h(e);1a 7};12 m=16 m(a,b,c,d){12 e={},4l=1r;8U(d){4R"2g":11(b>0){e["1I"]=b;e["1s"]=8S;e["2i"]=c+5r}1d{4l=1m}2C;4R"2a":11(c>0){e["1I"]=8R;e["1s"]=c;e["2t"]=b;e["2i"]=5r}1d{4l=1m}2C;4R"74":11(b>0&&c>0){e["1I"]=b;e["1s"]=c;e["2i"]=5r}1d{4l=1m}2C}11(4l){a.9Z();1a 7}a.bO().2h(e)};7.$["2k"]["1J"].2h({1s:78});7.$["2k"]["19"].2h({1s:4s});k.13(7,7.$["1p"]["2y-1J"],"","2y","1J");k.13(7,7.$["1p"]["1t-1J"],"","1t","1J");k.13(7,7.$["1p"]["1J"],"","","1J");k.13(7,7.$["1p"]["2t-1J"],"","2t","1J");k.13(7,7.$["1p"]["1y-2y-19"],"1y","2y","19");k.13(7,7.$["1p"]["1y-1t-19"],"1y","1t","19");k.13(7,7.$["1p"]["1y-19"],"1y","","19");k.13(7,7.$["1p"]["1y-2t-19"],"1y","2t","19");k.13(7,7.$["1p"]["2y-19"],"","2y","19");k.13(7,7.$["1p"]["1t-19"],"","1t","19");k.13(7,7.$["1p"]["19"],"","","19");k.13(7,7.$["1p"]["2t-19"],"","2t","19");k.13(7,7.$["1p"]["2i-2y-19"],"2i","2y","19");k.13(7,7.$["1p"]["2i-1t-19"],"2i","1t","19");k.13(7,7.$["1p"]["2i-19"],"2i","","19");k.13(7,7.$["1p"]["2i-2t-19"],"2i","2t","19");m.13(7,7.$["1C"]["2g"],5W,5X,"2g");m.13(7,7.$["1C"]["2a"],5W,5X,"2a");m.13(7,7.$["1C"]["74"],5W,5X,"74");k.13(7,7.$["2k"]["1z"],"","","1z");7.1b.4s=7.$.1p["19"].1s();7.1b.81=7.$.1p["19"].1I();1a 1m};12 w=16 w(c){y.1J.2Z.13(7);11(U.3L(7.1e.8I)){12 d={2d:[]};1q(12 k 1H c){d.2d.1l({1B:k,5q:c[k].5q,3m:c[k].3m})}d.2d.3u(16(a,b){1a a.3m>b.3m});7.1e.8I.13(d,d)}1d{11(7.1e.19.2W){11(2x){7.54.13(7,y.14.a0.13(7,y.14.3u.13(7,c,y.14.79.13(7,7.$.3i))))}1d{7.1c=y.14.a0.13(7,y.14.3u.13(7,c,y.14.79.13(7,7.1c)));y.19.2Z.13(7,1m);y.1C.3c.13(7)}}1d{11(2x){7.54.13(7,y.14.3u.13(7,c,y.14.79.13(7,7.$.3i),{8V:1m}))}1d{7.1c=y.14.3u.13(7,c,y.14.79.13(7,7.1c),{8V:1m});y.19.2Z.13(7,1m);y.1C.3c.13(7)}}}};7.2X=16(c){1x=1V.2q(1m,{},1x,c);11(!1x.1T){du.dv(22.3z.dw("17","dx","2X"));1a 7}7.7a=1x.7a;7.7b=1x.7b;7.8W=1x.8W;7.5Y=1x.19.5Y;7.$1T=1V(1x.1T);(16(a){11(U.a1(a)&&!a.dy){1x=1V.2q(1m,1x,a)}}).13(7,U.dz(7.$1T.1Q("14-17-1e"),1m));12 d=7.1e=1x;11(!7.1e.1s){7.1e.9V=7.$1T.1s()}11(!7.43)7.43=7.$1T.14("14-17-43");11(!7.43){7.43=\'17-\'+7.2u;7.$1T.14("14-17-43",d.43)}y.14.2X.13(7);11(7.1e.27.3F){7.2d={};7.2d[7.1e.27.1U.2L]={5q:"6s",3m:0,9Y:1m}}o.13(7);p.13(7,d.2p);s.13(7);11(d.3G)t.13(7,d.3G);11(d.19.2W)u.13(7,d.19.2W);v.13(7,1m);y.1J.2X.13(7);y.1J.2Z.13(7);y.19.2X.13(7);y.19.2Z.13(7);y.1C.2X.13(7);y.1C.3c.13(7);1V(6t).48("3c.17-"+7.43,16(){v.13(n);y.1C.3c.13(n);y.19.2Z.13(n)});1V(2M.19).23("4t.17-"+7.43,16(e){12 b=1r,1T=U.bP(e.1T,16(a){11(b=a.2b("14-17-7c-a2-a3")){1a 1m}1a a.2b("14-17-2k")==="4E"});11(1T&&1T.2b("14-17-bQ")===7.43){n.3U=1m}1d{n.3U=1r;y.19.5Z.13(7)}}.48(7));1V(6t).23("57.17-"+7.2u,16(e){11(n.3U){11(n.4C){11(e.3M==22.3z.4m.4u){n.5s("4u",e.3v)}1d 11(e.3M==22.3z.4m.2N){n.5s("2N",e.3v)}1d 11(e.3M==22.3z.4m.7d){n.5s("7d",e.3v);U.3n(e)}1d 11(e.3M==22.3z.4m.6u){n.5s("2N",{a4:1m})}1d 11(e.3M==22.3z.4m.6v){n.5s("2N",{})}}1d{11(e.bR||e.bS){11(e.3M==67){n.bT()}}1d{11(8E[e.3M]){n.5s(8E[e.3M],e.3v);U.3n(e)}1d 11(e.3M==22.3z.4m.4u){11(n.3U){y.19.5Z.13(n)}}1d 11(e.3M==22.3z.4m.2N||e.3M==22.3z.4m.bU){n.5s("2N",e.3v)}1d 11(e.3M==22.3z.4m.7d){U.3n(e)}1d 11(7e.3N(n.1k).1j){}}}}});1V(6t).23("dA.17-"+7.2u,16(e){11(n.3U){11(n.4C){}1d{11(e.bR||e.bS){}1d{11(8E[e.3M]){}1d 11(e.3M==22.3z.4m.4u){}1d 11(e.3M==22.3z.4m.2N||e.3M==22.3z.4m.bU){}1d 11(e.3M==22.3z.4m.7d){}1d 11(7e.3N(n.1k).1j){n.5s("a5",e.3v)}}}}});a6(16(){11(7.8W){7.8W.13({4A:7})}}.48(7));1a 7};7.2w=16(){11(v.13(7)){y.19.2Z.13(7);y.1C.3c.13(7)}1a 7};7.2Z=16(){y.1J.2Z.13(7);y.19.2Z.13(7,1m);y.1C.3c.13(7);1a 7};7.5s=16(){12 d={"9K":16 9K(){y.19.3A.13(7,"6u")},"9M":16 9M(){y.19.3A.13(7,"6v")},"9J":16 9J(){y.19.3A.13(7,"8X")},"9L":16 9L(){y.19.3A.13(7,"8Y")},"9I":16 9I(){y.19.3A.13(7,"82")},"7Q":16 7Q(){y.19.3A.13(7,"7f")},"bo":16 7Q(){11(2x){12 a=2P.58(7.$.3i.1j/7.$.2r);11(7.$.2Y!=0){7.54.13(7,7.$.2Y-1)}}},"bn":16 7Q(){11(2x){12 a=2P.58(7.$.3i.1j/7.$.2r);11(a-1!=7.$.2Y){7.54.13(7,2s(7.$.2Y)+1)}}},"a5":16 a5(a){y.19.3w.83.13(7,7.1k,a);11(!/[0-9a-dB-Z]/.7g(a.1B)){U.3n(a)}},"4u":16 4u(a){y.19.3w.57.13(7,"4u")},"2N":16 2N(a){12 b=0;1q(12 c 1H 7.2n){b++;11(!y.19.3w.57.13(7,"2N",c)){1a 1r;U.3n(a)}11(b==1){11(y.19.3A.13(7,a.a4?"6u":"6v")){y.19.3w.57.13(7,"2N")}}}11(b==0){y.19.3w.57.13(7,"2N");U.3n(a)}1d{}},"7d":16 7d(a){12 b=0;1q(12 c 1H 7.2n){b++;y.19.3w.57.13(7,"2N",c,{3A:1m});11(b==1){11(y.19.3A.13(7,a.a4?"8X":"8Y")){y.19.3w.57.13(7,"2N",1A,{3A:1m})}}}}};1a 16(a,b){11(a 1H d)d[a].13(7,b);1a 7}}();7.bT=16(){12 a=1g 0,$a7=7.$["7X"]["8P"],6w=[],a8="",8Z=1g 0,bV=1g 0,5t=1g 0,6x=0;1q(12 c 1H 7.3H){12 b=7.3H[c];11(b){11(1N 5t==="1A"){5t=b.1o;8Z=b.1n;bV=b.1n}11(5t!=b.1o||8Z!=b.1n){6x++}11(!6w[6x]){6w[6x]=[]}12 d=7.44[b.1n+"1W"+b.1f];11(d){11(7.1c[b.1o].3V){6w[6x].1l(7.1c[b.1o][b.1f])}1d{6w[6x].1l(7.1c[b.1o][d.1B])}}1d{6w[6x].1l("")}5t=b.1o;8Z=b.1n}}6w.4H(16(r){a8+=r.3o(\'\\t\')+"\\n"});$a7.3y(0).dC=a8;$a7.2O();90{a=2M.bW("dD")}91(e){a=1r}1a a};7.54=16(a){11(2x){11(7.$.2r==0||7.$.2r=="bX"||84(7.$.2r)||7.$.2r<2P.58(7.1b.4s/7.1b.2o)){11(7.1e.5P&&7.1e.1z.6k&&!7.1e.27.3F){7.$.2r=2P.58(7.1b.4s/7.1b.2o)}1d{7.$.2r=85;2x=1r}}}1d{11(a.1j>85){dE("  . \\n    : "+7.$.2r);1a}7.$.2r=85}11(!U.6r(a)){7.$.2Y=a;a=7.$.3i}1d{7.$.2Y=0;7.$.3i=dF(a);11(a.1j>7.$.2r&&7.$.2r!=0){a.3W(7.$.2r*2,a.1j)}11(2x){12 b=7;11(1N b.1b.4s==="1A"){12 c=dG(16(){11(1N b.1b.4s==="1A"){1a}1d{b.54(b.$.2Y);dH(c)}},dI);1a}}}12 d=1N 7.1b.2l==="1A";y.14.bY.13(7,a);y.19.2Z.13(7);11(!d)y.19.3B.13(7,{1y:0});v.13(7);y.1C.3c.13(7);y.1z.5u.13(7);d=1v;1a 7};7.a9=16(a){1a y.14.a9.13(7,a)};7.dJ=16(a){11(a=="5l%"){a=7.$1T.dK().76()}7.$1T.2h({1s:a});7.$["2k"]["4E"].2h({1s:a});v.13(7);y.19.2Z.13(7,"92");y.1C.3c.13(7);1a 7};7.dL=16(a,b,c){12 d=7;y.14.bZ.13(7,a,b,c);v.13(7);y.19.2Z.13(7,"92");11(c&&c.59){a6(16(){y.19.3A.13(d,c.59)},1)}1d{y.1C.3c.13(7)}11(2x){11(b>(7.$.2Y+1)*7.$.2r){7.54(7.$.2Y+1)}1d 11(b<7.$.2Y*7.$.2r){7.54(7.$.2Y-1)}}1a 7};7.dM=16(a){y.14.4S.13(7,a,16(){v.13(7);y.19.2Z.13(7);y.1C.3c.13(7)}.48(7));1a 7};7.dN=16(a){y.14.6y.13(7,a);v.13(7);y.19.2Z.13(7,"92");y.19.3A.13(7,7.1e.19.2W?"dO":"7f");y.1C.3c.13(7);1a 7};7.dP=16(a,b){y.14.86.13(7,a,b);y.19.c0.13(7,b);1a 7};7.dQ=16(a,b,c){y.14.c1.13(7,a,b,c);7.1b.2l=1A;7.1b.4T=1A;y.19.2Z.13(7);1a 7};7.aa=16(a){y.14.aa.13(7,a);v.13(7);y.19.2Z.13(7,"92");y.1C.3c.13(7);1a 7};7.60=16(h,i,j){12 k=1g 0;11(y.14.60.13(7,h,k,i,j)){12 l=16 l(a,b,d,e,f,g){1q(12 r=0,3K=b.1j;r<3K;r++){1q(12 c=0,cl=b[r].1D.1j;c<cl;c++){11(b[r].1D[c].1B==f){11(7.1b.1O>d){y.19.93.13(7,"1y-"+a,d,e,r,c,g)}1d{y.19.93.13(7,a+"-1P",d,e,r,c,g)}}}}};l.13(7,"1t-19",7.4r.1u,h,k,i,j);l.13(7,"19",7.3T.1u,h,k,i,j)}1a 7};7.dR=16(){12 d={"4v":16 4v(a){7.1e.2p=[].3p(a).3p(7.1e.2p)},"3O":16 3O(a){7.1e.2p=7.1e.2p.3p([].3p(a))}};1a 16(a,b){11(1N a==="1A")5a\'49 dS dT be 1v\';11(1N b==="1A")b="3O";11(b 1H d){d[b].13(7,a)}1d{11(!U.5p(b)){5a\'6z 6A ab\';}11(U.6r(a)){1q(12 c=0,94=a.1j;c<94;c++){7.1e.2p.3W(b+c,0,a[c])}}1d{7.1e.2p.3W(b,0,a)}}q.13(7);1a 7}}();7.dU=16(){12 b={"4v":16 4v(a){7.1e.2p.3W(a,1)},"3O":16 3O(){7.1e.2p.3W(7.1e.2p.1j-1,1)}};1a 16(a){11(1N a==="1A")a="3O";11(a 1H b){b[a].13(7,a)}1d{11(!U.5p(a)){5a\'6z 6A ab\';}7.1e.2p.3W(a,1)}q.13(7);1a 7}}();7.dV=16(a,b){11(!U.5p(b)){5a\'6z 6A ab\';}7.1e.2p.3W(b,1,a);q.13(7);1a 7};7.c2=16(a,b){7.1E[7.1b.95].3d=a;7.3J=1m;y.1J.2Z.13(7);y.19.2Z.13(7,1m);y.1C.3c.13(7);v.13(7);1a 7};7.dW=16(){12 c={2d:[]};1q(12 k 1H 7.2d){c.2d.1l({1B:k,5q:7.2d[k].5q,3m:7.2d[k].3m})}c.2d.3u(16(a,b){1a a.3m>b.3m});1a c.2d};7.c3=16(a){11(1N a!=="1A"){7.2d=a;y.1J.c4.13(7,a)}w.13(7,a||7.2d);1a 7};7.2O=16(a,b){11(U.5p(a)){12 c=a;11(!7.1e.9O){7.7h()}1d{11(b&&b.5b){7.7h()}}y.14.2O.13(7,c,1A,b&&b.1L);y.19.96.13(7,["1L"],c,1A)}1a 7};7.dX=16(a){y.19.4t.13(7,a);1a 7};7.dY=16(a){y.19.c5.13(7,a);1a 7};7.7h=16(){y.19.96.13(7,["5b"]);y.14.7h.13(7);1a 7};7.97=16(a){y.14.97.13(7,a&&a.1L,a);y.19.c6.13(7,["1L"]);1a 7};7.dZ=16(a){12 b=[];b.1l(\'<2z 7i="1">\');b.1l(y.1J.98.13(7));b.1l(y.19.98.13(7));b.1l(\'</2z>\');11(1N a==="1A"){1a b.3o(\'\')}1d{y.7j.87.13(7,[b.3o(\'\')],a)}1a 7};7.59=16(a){11(y.19.3A.13(7,a)){12 b=1g 0;1q(12 c 1H 7.1k){b=1V.2q({},7.1k[c],1m);2C}11(b){7.2O(b.1o,{5b:1m})}}1d{11(1N 7.3l[0]==="1A"){7.2O(0)}1d{12 d=7.3l[0];12 e={"6u":16 6u(){11(d>0){7.2O(d-1,{5b:1m});y.19.3A.13(7,d-1)}},"6v":16 6v(){11(d<7.1c.1j-1){7.2O(d+1,{5b:1m});y.19.3A.13(7,d+1)}},"82":16 82(){7.2O(0,{5b:1m});y.19.3A.13(7,0)},"7f":16 7f(){7.2O(7.1c.1j-1,{5b:1m});y.19.3A.13(7,7.1c.1j-1)}};11(a 1H e){e[a].13(7)}}}1a 7};7.e0=16(){12 a=7.2u;7.$1T.5v();7.1c=[];x.88=22.1S.4a(x.88,16(){1a 7.2u!=a});1a 1v};7.9U=16(){x.88=x.88||[];x.88.1l(7);11(99&&U.a1(99[0])){7.c7(99[0])}}.e1(7,99)}}());y=22.47.4j})();(16(){12 P=22.47.4j;12 U=22.1S;12 Q={6B:16 6B(){12 a=7,49=1g 0;1q(12 c 1H a.1k){49=a.1k[c];11(49){a.$.1p[49.2e].1F(\'[14-17-24-14-1Y="\'+49.1o+\'"]\').1F(\'[14-17-1h-4n="\'+49.1n+\'"][14-17-1h-4b="\'+49.1f+\'"]\').7k(\'14-17-1h-3U\')}}a.1k={}},61:16 61(){12 a=7,49=1g 0;1q(12 c 1H a.3H){49=a.3H[c];11(49){a.$.1p[49.2e].1F(\'[14-17-24-14-1Y="\'+49.1o+\'"]\').1F(\'[14-17-1h-4n="\'+49.1n+\'"][14-17-1h-4b="\'+49.1f+\'"]\').7k(\'14-17-1h-1L\')}}a.3H={}},2X:16 V(b){12 c=7;11(7.4C){1q(12 d 1H 7.2n){11(d==b.1o+"1W"+b.1f+"1W"+b.1n){1a 7}}}Q.6B.13(c);c.1k[b.1o+"1W"+b.1f+"1W"+b.1n]={2e:b.2e,1o:b.1o,1X:b.1X,1n:b.1n,1f:b.1f,1K:b.1K};Q.61.13(c);c.1b.4I={7l:[b.1o,b.1n,b.1f,b.1K-1],5w:1v};c.3H[b.1o+"1W"+b.1f+"1W"+b.1n]=16(a){11(a){1a 1r}1d{1a{2e:b.2e,1o:b.1o,1X:b.1X,1n:b.1n,1f:b.1f,1K:b.1K}}}(c.3H[b.1o+"1W"+b.1f+"1W"+b.1n]);7.$.1p[b.2e].1F(\'[14-17-24-14-1Y="\'+b.1o+\'"]\').1F(\'[14-17-1h-4n="\'+b.1n+\'"][14-17-1h-4b="\'+b.1f+\'"]\').1Q(\'14-17-1h-3U\',"1m").1Q(\'14-17-1h-1L\',"1m");11(7.4C){P.19.3w.4c.13(7,"2N")}},86:16 86(a){12 b=7;12 d=1g 0,1X=1g 0,1f=1g 0,1n=1g 0,2j=1g 0;b.1b.4I["5w"]=[a.1o,a.1n,a.1f,a.1K-1];Q.61.13(b);12 e={r:{s:2P.2Q(b.1b.4I["7l"][0],b.1b.4I["5w"][0]),e:2P.6C(b.1b.4I["7l"][0],b.1b.4I["5w"][0])},c:{s:2P.2Q(b.1b.4I["7l"][2],b.1b.4I["5w"][2]),e:2P.6C(b.1b.4I["7l"][2]+b.1b.4I["7l"][3],b.1b.4I["5w"][2]+b.1b.4I["5w"][3])}};d=e.r.s;1q(;d<=e.r.e;d++){2j=7.55.1u.1j;1n=0;1q(;1n<2j;1n++){1f=e.c.s;1q(;1f<=e.c.e;1f++){12 f=[],2e="";11(b.1b.1O>d)f.1l("1y");11(b.1b.2v>1f)f.1l("1t");f.1l("19");11(f[0]!=="1y")f.1l("1P");2e=f.3o("-");b.3H[d+"1W"+1f+"1W"+1n]={2e:2e,1o:d,1n:1n,1f:1f,1K:a.1K};f=1v;2e=1v}}}d=1v;1X=1v;1f=1v;1n=1v;1q(12 c 1H b.3H){12 g=b.3H[c];11(g){b.$.1p[g.2e].1F(\'[14-17-24-14-1Y="\'+g.1o+\'"]\').1F(\'[14-17-1h-4n="\'+g.1n+\'"][14-17-1h-4b="\'+g.1f+\'"]\').1Q(\'14-17-1h-1L\',\'1m\')}}}};12 R={"23":16 23(a){12 b=7;11(7.2n[a.1o+"1W"+a.1f+"1W"+a.1n]){1a}Q.2X.13(b,a);7.$["2k"]["19"].23("62.17-"+7.2u,\'[14-17-1h-1Q="3f"]\',16(e){11(7.2b("14-17-1h-1n")){Q.86.13(b,{2e:7.2b("14-17-1p-4d"),1o:2s(7.2b("14-17-14-1Y")),1X:2s(7.2b("14-17-14-o-1Y")),1n:2s(7.2b("14-17-1h-1n")),1f:2s(7.2b("14-17-1h-1f")),1K:2s(7.2b("1K"))});U.3n(e)}}).23("63.17-"+7.2u,16(){R.31.13(b)}).23("7m.17-"+7.2u,16(){R.31.13(b)});1V(2M.19).1Q(\'64\',\'23\').2h(\'65-2O\',\'89\').23(\'66\',1r)},"31":16 31(){7.$["2k"]["19"].31("62.17-"+7.2u).31("63.17-"+7.2u).31("7m.17-"+7.2u);1V(2M.19).7k(\'64\').2h(\'65-2O\',\'7n\').31(\'66\')}};12 S=16 S(g,h,j,k){12 l=7,1x=7.1e,7o={"1L":16 1L(a,b){11(7.1c[b]){12 i=7.$.4F.1j;2R(i--){7.$.1p[7.$.4F[i]].1F(\'[14-17-24-14-1Y="\'+a+\'"]\').1Q("14-17-1L",7.1c[b][1x.1U.1L])}}},"5b":16 5b(){12 a=7.1c.1j;12 b=1g 0;11(!7.3g){2R(a--){11(7.1c[a][1x.1U.1L]){b=7.$.4F.1j;2R(b--){7.$.1p[7.$.4F[b]].1F(\'[14-17-24-14-1Y="\'+a+\'"]\').1Q("14-17-1L",1r)}}7.1c[a][1x.1U.1L]=1r}}1d{2R(a--){7.1c[a][1x.1U.1L]=1r}a=7.3g.1j;2R(a--){11(7.1c[c][1x.1U.1L]){b=7.$.4F.1j;2R(b--){7.$.1p[7.$.4F[b]].1F(\'[14-17-24-14-1Y="\'+a+\'"]\').1Q("14-17-1L",1r)}}7.3g[a][1x.1U.1L]=1r;12 c=7.3g[a].e2}}},"8a":16 8a(b,c,d){12 e=d.1B,1n=d.1n,1f=d.1f;12 f=16(){12 a=[];11(7.1b.1O>b)a.1l("1y");11(7.1b.2v>1f)a.1l("1t");a.1l("19");11(a[0]!=="1y")a.1l("1P");1a a.3o("-")}.13(7);7.$.1p[f].1F(\'[14-17-24-14-1Y="\'+b+\'"]\').1F(\'[14-17-1h-1n="\'+1n+\'"][14-17-1h-1f="\'+1f+\'"]\').1F(\'[14-17-1Z="7p"]\').1Q("14-17-5c",\'\'+d.5c)}};11(1N j==="1A")j=h;g.4H(16(a){11(!7o[a])5a\'c8 6D 4d\';7o[a].13(l,h,j,k)})};12 T=16 T(b,c){12 d=7,1x=7.1e,7o={"1L":16 1L(a){P.19.2Z.13(7,1m)}};b.4H(16(a){11(!7o[a])5a\'c8 6D 4d\';7o[a].13(d,c)})};12 V=16 V(){12 h=7;7.$["2k"]["19"].23("4t",\'[14-17-1h-1Q]\',16(e){12 d=1g 0,1Q=1g 0,2D=1g 0,1i=1g 0,1o=1g 0,1X=1g 0,1n=1g 0,1f=1g 0,6l=1g 0,ac={"3f":16 ad(a){11(h.1c[a.1o]==1A){1a}12 b=h.44[a.1n+"1W"+a.1f],4J={4A:h,1z:h.1z,1c:h.1c,3e:h.1c[a.1X],1o:a.1o,1X:a.1X,1n:a.1n,1f:a.1f,1h:b,2m:h.1c[a.1o][b.1B]};11(b.1Z&&b.1Z.2A==="7p"){12 c=P.14.5x.13(h,a.1o,a.1X,b.1B),5c=1g 0,3X=1g 0;11(b.1Z.1e&&b.1Z.1e.4U){11(5c=!(c==b.1Z.1e.4U)){3X=b.1Z.1e.4U}1d{3X=b.1Z.1e.ae}}1d{3X=5c=c==1r||c=="1r"||c<"1"?"1m":"1r"}P.14.60.13(h,a.1o,a.1X,b.1B,3X);S.13(h,["8a"],a.1o,a.1X,{1B:b.1B,1n:a.1n,1f:a.1f,af:b.1Z.1e,5c:5c})}11(h.1e.19.7b){h.1e.19.7b.13(4J,4J,e)}},"6E":16 6E(a){12 b=h.1c[a.1X];11(b[h.1e.1U.6l]){1a 1r}11(!h.1e.9O&&h.3l[0]!==a.1X){S.13(h,["5b"]);P.14.7h.13(h)}P.14.2O.13(h,a.1o,a.1X,1A,{ag:1m});S.13(h,["1L"],a.1o,a.1X)},"3x":16 3x(a){},"27-ah":16 8b(a,b){bi.13(h,a.1o,a.1X)}};d=7.2b("14-17-1p-4d");1Q=7.2b("14-17-1h-1Q");2D=2s(7.2b("14-17-1h-2D"));1i=2s(7.2b("14-17-1h-1i"));1n=2s(7.2b("14-17-1h-1n"));1f=2s(7.2b("14-17-1h-1f"));1o=2s(7.2b("14-17-14-1Y"));1X=2s(7.2b("14-17-14-o-1Y"));11(1Q 1H ac){ac[1Q]({2e:d,1Q:1Q,2D:2D,1i:1i,1o:1o,1X:1X,1n:1n,1f:1f},7)}});7.$["2k"]["19"].23("e3",\'[14-17-1h-1Q]\',16(e){12 g=1g 0,1Q=1g 0,2D=1g 0,1i=1g 0,1o=1g 0,1X=1g 0,1n=1g 0,1f=1g 0,ai={"3f":16 ad(a){11(h.1c[a.1o]==1A){1a}11(h.4C){1q(12 b 1H h.2n){11(b==a.1o+"1W"+a.1f+"1W"+a.1n){1a 7}}}12 c=h.44[a.1n+"1W"+a.1f],2m="";11(c){11(!h.1c[1o].3V){2m=P.14.5x.13(h,1o,1X,c.1B)}}12 d=h.1E[a.1f].1Z;11(U.a1(d)){P.19.3w.83.13(h,h.1k,e,2m)}1d{11(h.1e.19.9b){12 f={4A:h,1z:h.1z,1c:h.1c,3e:h.1c[a.1o],1o:a.1o,1X:a.1X,1n:a.1n,1f:a.1f,1h:c,2m:h.1c[a.1o][c.1B]};h.1e.19.9b.13(f)}}},"6E":16 6E(a){},"3x":16 3x(a){}};g=7.2b("14-17-1p-4d");1Q=7.2b("14-17-1h-1Q");2D=2s(7.2b("14-17-1h-2D"));1i=2s(7.2b("14-17-1h-1i"));1n=2s(7.2b("14-17-1h-1n"));1f=2s(7.2b("14-17-1h-1f"));1o=2s(7.2b("14-17-14-1Y"));1X=2s(7.2b("14-17-14-o-1Y"));11(1Q 1H ai){ai[1Q]({2e:g,1Q:1Q,2D:2D,1i:1i,1o:1o,1X:1X,1n:1n,1f:1f})}});11(7.1e.5T){7.$["2k"]["19"].23("e4",16(e){12 a=1g 0,1o=1g 0,1X=1g 0,1n=1g 0,1f=1g 0,3e=1g 0,1h=1g 0,7q={};a=U.bP(e.1T,16(t){11(t.2b("14-17-1h-1Q")){1a 1m}});11(a){1n=2s(a.2b("14-17-1h-1n"));1f=2s(a.2b("14-17-1h-1f"));1o=2s(a.2b("14-17-14-1Y"));1X=2s(a.2b("14-17-14-o-1Y"));1h=h.44[1n+"1W"+1f];3e=h.1c[1o]}11(!h.5T){h.5T=6F 22.47.e5()}h.5T.c7(h.1e.5T);7q={e6:a,1o:1o,1X:1X,1n:1n,1f:1f,3e:3e,1h:1h,e7:h};h.5T.5y(e,{4a:16 4a(){1a h.1e.5T.e8.13(7,7,7q)},7q:7q});U.3n(e.3v);a=1v;1o=1v;1X=1v;1n=1v;1f=1v;3e=1v;1h=1v;7q=1v})}7.$["2k"]["19"].23("7r",\'[14-17-1h-1Q="3f"]\',16(e){11(h.1b.9c)1a 1r;11(7.2b("14-17-1h-1n")){R.23.13(h,{2e:7.2b("14-17-1p-4d"),1o:2s(7.2b("14-17-14-1Y")),1X:2s(7.2b("14-17-14-o-1Y")),1n:2s(7.2b("14-17-1h-1n")),1f:2s(7.2b("14-17-1h-1f")),1K:2s(7.2b("1K"))})}}).23("9d",16(e){U.3n(e);1a 1r});W.13(7);7.1b.c9=7.1e.8H;7.1b.8c=7.1e.8H-2P.8d(7.1e.8H/2);11(7.1e.br){7.9e=U.e9(16(a,b){11(7.1e.5Q&&!b.7s&&"1y"1H a){ba.13(7)}1d 11(7.1e.6i&&!b.7s&&"1t"1H a){ba.13(7)}11(b.7t){b.7t()}},7.1e.bs)}1d{7.9e=1r}};12 W=16 W(){12 d=7.1e,aj=P.1S.8e(7.55,7.1b.2v);7.68=16(a){12 b={1u:[]};1q(12 i=0,l=a.1u.1j;i<l;i++){b.1u[i]={1D:[]};11(i===0){12 c={3j:"",1K:1,21:a.1u.1j,1f:1v},3Y={};11(d.6V){3Y=1V.2q({},c,{1I:d.5m,3d:d.5m,45:"3x",3j:"&46;",1B:"5d-8f"});b.1u[i].1D.1l(3Y)}11(d.6W){3Y=1V.2q({},c,{1I:d.5n,3d:d.5n,45:"6E",3j:"",1B:"5d-8g"});b.1u[i].1D.1l(3Y)}}}1a b}.13(7,7.55);7.4r=aj.8h;7.3T=aj.8i;11(d.19.2W){12 e=P.1S.8e(7.73,7.1b.2v);7.6G=16(a){12 b={1u:[]};1q(12 i=0,l=a.1u.1j;i<l;i++){b.1u[i]={1D:[]};11(i===0){12 c={3j:"",1K:1,21:a.1u.1j,1f:1v},3Y={};11(d.6V){3Y=1V.2q({},c,{1I:d.5m,3d:d.5m,45:"3x",3j:"&46;",1B:"5d-8f"});b.1u[i].1D.1l(3Y)}11(d.6W){3Y=1V.2q({},c,{1I:d.5n,3d:d.5n,45:"6E",3j:"",1B:"5d-8g"});b.1u[i].1D.1l(3Y)}}}1a b}.13(7,7.73);7.4k=e.8h;7.3t=e.8i;7.8N=P.1S.9W.13(7,7.73)}7.4D={};7.3I={};11(7.1e.3G){12 f=P.1S.8e(7.7V,7.1b.2v);7.4D=f.8h;7.3I=f.8i}};12 X=16 X(c,d,e,f,g,h){12 i=f.1B,ca={\'<\':\'&ea;\',\'>\':\'&eb;\'};11(i==="5d-8f"){1a 1N d["7u"]!=="1A"?(d["7u"]+1):""}1d 11(i==="5d-8g"){1a"<1w 3b=\\"cb\\" 28=\\"6C-1s: "+(f.1I-10)+"1R;2Q-1s: "+(f.1I-10)+"1R;\\"></1w>"}1d{11(f.1Z&&16(a){11(a.2A 1H P.3Z){1a P.3Z[a.2A].5e=="7c"}1a 1r}(f.1Z)){g=g||P.14.5x.13(7,e,d.5f,i);11(U.3L(f.1Z.9f)){11(f.1Z.9f.13({1c:c,1o:e,3e:c[e],1B:i,2m:g})){1a g}}1a h?g:P.3Z[f.1Z.2A].3P(7,f.1Z,g)}12 j={"32":16 32(){12 a={1B:i,2m:g||P.14.5x.13(7,e,d.5f,i),1o:e,3e:d,1c:c};11(U.3L(f.32)){1a f.32.13(a)}1d{1a P.32[f.32].13(a)}},"3f":16 ad(){12 b="";11(1N g!=="1A"){b=g}1d{11(/[\\.\\[\\]]/.7g(i)){g=P.14.5x.13(7,e,d.5f,i)}1d{g=d[i]}11(g!==1v&&1N g!=="1A")b=g}1a 1N b!=="ec"?b:b.8j(/[<>]/g,16(a){1a ca[a]||a})},"8b":16 8b(a){12 b=7.1e,3N=7.1e.27.1U,5z=\'\';11(d[3N.4P].1j){5z+=\'<a \'+\'14-17-14-1Y="\'+e+\'" \'+\'14-17-1h-1Q="27-ah" \'+\'14-17-ak-cc="" \'+\'28="1I: \'+b.27.9S+\'1R;5A-1t:\'+d[3N.72]*b.27.9R+\'1R;"\'+\'>\';5z+=d[3N.6n]?b.27.71.bD:b.27.71.bC;5z+=\'</a>\'}1d{5z+=\'<2E \'+\'14-17-ak-cc="" \'+\'28="1I: \'+b.27.9S+\'1R;5A-1t:\'+d[3N.72]*b.27.9R+\'1R;"\'+\'>&46;</2E>\'}5z+=\'<2E \'+\'14-17-ak-3e="\'+(d[3N.4P].1j?\'ed\':\'3e\')+\'" \'+\'28="1I: \'+b.27.bB+\'1R;"\'+\'>\';5z+=d[3N.4P].1j?d[3N.6n]?b.27.71.bF:b.27.71.bE:b.27.71.bG;5z+=\'</2E>\';1a 5z+a}};12 k=f.32?j.32.13(7):j.3f.13(7);11(7.1e.27.3F&&f.8b){k=j.8b.13(7,k)}1a k}};12 Y=16 Y(a,b,c){12 d=1g 0,4J=1g 0,7v=c.1B,7w=c.3j;11(1N 7v==="1A"){4J={1B:7v,1c:a.8k,ee:a.cd};11(U.3L(7w)){d=7w.13(4J)}1d{d=7w}a[c.1f]=d;1a d}1d 11(7v==="5d-8f"){1a\'\'}1d 11(7v==="5d-8g"){1a\'\'}1d{11(c.4e){4J={1B:7v,1c:a.8k};11(U.3L(c.4e)){d=c.4e.13(4J)}1d{d=P.4e[c.4e].13(4J)}a[c.1f]=d;11(c.32){4J.2m=d;11(U.3L(c.32)){1a c.32.13(4J)}1d{1a P.32[c.32].13(4J)}}1d{1a d}}1d{1a"&46;"}}};12 Z=16 Z(a,b){12 c=b.1B,7w=b.3j;11(1N c==="1A"){1a 7w}1d 11(c==="5d-8f"||c==="5d-8g"){1a\'&46;\'}1d{11(b.4e){12 d={1B:c,1c:a},2m=1g 0;11(U.3L(b.4e)){2m=b.4e.13(d)}1d{2m=P.4e[b.4e].13(d)}11(b.32){d.2m=2m;11(U.3L(b.32)){1a b.32.13(d)}1d{1a P.32[b.32].13(d)}}1d{1a 2m}}1d{1a"&46;"}}};12 ba=16 ba(A){11(2x){11(7.$.2r==0||7.$.2r=="bX"||84(7.$.2r)||7.$.2r<2P.58(7.1b.4s/7.1b.2o)){11(7.1e.5P&&7.1e.1z.6k&&!7.1e.27.3F){7.$.2r=2P.58(7.1b.4s/7.1b.2o);11(7.1c.1j>0){P.1z.5u.13(7)}}1d{7.$.2r=85;2x=1r}}12 B=[];12 C=7.$.2Y*7.$.2r;12 D=(7.$.2Y+1)*7.$.2r;1q(12 i=C;i<D;i++){11(i>=7.$.3i.1j){2C}B.1l(7.$.3i[i])}7.1c=B}1d{7.$.2r=85}12 E=7.1e,1c=7.3g?7.3g:7.1c;11(A){W.13(7);7.1b.2l=1A;7.1b.4T=1A}12 F=1g 0,3Q=1g 0;11(7.1e.5Q){3Q=F=2P.8d(-7.$.1p["19-1P"].3C().1y/7.1b.2o)+7.1b.1O;11(7.1b.8c<F){F-=7.1b.8c}}1d{F=7.1b.1O}11(84(F))1a 7;12 G=0,3R=0,4o=1v,4w=1v;12 H=-7.$.1p["19-1P"].3C().1t;11(7.1e.6i){1q(12 I=7.1b.2v;I<7.1E.1j;I++){7.1E[I].7x=I==7.1b.2v?0:7.1E[I-1].6H;7.1E[I].6H=7.1E[I].7x+7.1E[I].3d;11(7.1E[I].7x<=H&&7.1E[I].6H>=H){G=I}11(7.1E[I].7x<=H+7.1b.81&&7.1E[I].6H>=H+7.1b.81){3R=I;11(4o===1v)4o=7.1E[G].7x;11(4w===1v)4w=7.1b.5S-7.1E[I].6H}}11(4o===1v)4o=0;11(4w===1v)4w=0;7.$.1p["1y-19-1P"].2h({"5A-1t":4o,"5A-2t":4w});7.$.1p["19-1P"].2h({"5A-1t":4o,"5A-2t":0});7.$.1p["2i-19-1P"].2h({"5A-1t":4o,"5A-2t":4w})}12 J=1N 7.1b.2l==="1A",2F=7.2F,68=7.68,4r=7.4r,3T=7.3T,4D=7.4D,3I=7.3I,6G=7.6G,4k=7.4k,3t=7.3t,5g=E.19.2w,2S=1g 0,4V=1g 0;11(!7.1e.5Q){4V=2S=1c.1j}1d{4V=2P.58(7.1b.4s/7.1b.2o);2S=4V+(7.1b.c9||1)}11(7.1b.8c<F&&2P.8l(7.1b.2l-F)<=7.1b.8c){F=7.1b.2l}11(7.1b.5B===1c.1j&&7.1b.2l===F&&7.1b.2S===2S&&7.1b.4T===G&&7.1b.3R===3R){11(2x){7.1c=7.$.3i}1a 7}11(4o||4w){2F=[].3p(2F).3W(G-7.1b.2v,3R-G+1+7.1b.2v);3T=P.1S.7y(3T,G,3R);11(E.19.2W){3t=P.1S.7y(3t,G,3R)}11(E.3G){3I=P.1S.7y(3I,G,3R)}11(7.1b.4T!==G||7.1b.3R!==3R){7.3J=1m}}7.1b.5o=7.1b.2o*(1c.1j-7.1b.1O);11(7.1b.5o<0)7.1b.5o=0;7.$.4F=[];12 K=16 K(d,e,f,g,h,i){12 j=7.$.1p[d];11(!J&&!i){7.$.4F.1l(d);1a 1r}12 k=[],3a=1g 0,3q=1g 0,di=1g 0,dl=1g 0,1G=1g 0,2j=1g 0,I=1g 0,cl=1g 0,1i=1g 0,2G=1g 0,2H=1g 0,C=7.$.2Y*7.$.2r,ef=(7.$.2Y+1)*7.$.2r,al=16(){11(1N i==="1A"||1N i[\'2l\']==="1A"){i={2l:0,2S:h.1j};1a 1r}1d{1a 1m}}(),am=\'#ce eg, #ce \'+(E.19.29-E.19.2c)+\'1R, #cf \'+(E.19.29-E.19.2c)+\'1R, #cf \'+E.19.29+\'1R\';11(al){k.1l(\'<1w 28="cg:ch-cj-ck(cm 1y, \'+am+\');\'+\'cn-4O:0;\'+\'4W-1s:0;1s: \'+(i.2l-7.1b.1O)*i.2o+\'1R;"></1w>\')}k.1l(\'<2z 7i="0" 8m="0" 8n="0">\');k.1l(\'<5h>\');1q(3a=0,3q=e.1j;3a<3q;3a++){11(3a==3q-1){k.1l(\'<1i 28="1I:5l%;"  />\')}1d{k.1l(\'<1i 28="1I:\'+e[3a].3d+\'1R;"  />\')}}k.1l(\'<1i  />\');k.1l(\'</5h>\');di=i.2l;1q(dl=16(){12 a=1g 0;a=h.1j;11(i.2S+i.2l<a){a=i.2S+i.2l}11(2x){}1a a}();di<dl;di++){11(h[di]){12 l=1r,3D=1g 0,6I=1N h[di].5f!=="1A"?h[di].5f:di,7z=(2x?di+C:di);11(2x){6I=7z}11(g&&"3V"1H h[di]){3D=g;l=1m}1d{3D=f}12 m=eh(7.$.1p["19"].1s()/(E.19.29*3D.1u[0].1D[0].21-E.19.2c));1q(1G=0,2j=3D.1u.1j;1G<2j;1G++){k.1l(\'<24 3b="24-\'+7z%4+\'\',E.19.9g?U.3L(E.19.9g)?\' \'+E.19.9g.13({3e:h[di],1Y:di},h[di],di):\' \'+E.19.9g:\'\',\'"\',l?\' 14-17-2W-24="1m"\':\'\',\' 14-17-24-14-1Y="\'+7z+\'"\',\' 14-17-24-14-o-1Y="\'+6I+\'"\',\' 14-17-1L="\'+(h[di][E.1U.1L]||"1r")+\'"\',\' 14-17-co-cp="\'+(h[di][E.1U.6l]||"1r")+\'"\',\'>\');1q(I=0,cl=3D.1u[1G].1D.1j;I<cl;I++){1i=3D.1u[1G].1D[I];2G=E.19.29*1i.21-E.19.2c;2H=1i.2w||5g;k.1l(\'<2f \',\'14-17-1p-4d="\'+d+\'" \',\'14-17-14-1Y="\'+7z+\'" \',\'14-17-14-o-1Y="\'+6I+\'" \',\'14-17-1h-2D="\'+1G+\'" \',\'14-17-1h-1i="\'+I+\'" \',\'14-17-1h-1n="\'+1i.1n+\'" \',\'14-17-1h-1f="\'+1i.1f+\'" \',\'14-17-1h-1Q="\'+(1i.45||"3f")+\'" \',16(a,b){12 c="";11(a){c+=\'14-17-1h-3U="1m" \'}11(b){c+=\'14-17-1h-1L="1m" \'}1a c}(7.1k[di+"1W"+1i.1f+"1W"+1i.1n],7.3H[di+"1W"+1i.1f+"1W"+1i.1n]),\'1K="\'+1i.1K+\'" \',\'21="\'+1i.21+\'" \',\'3b="\'+16(a){12 b="";11(a.2I){11(U.3L(a.2I)){b+=a.2I.13({1h:a,1B:a.1B,3e:h[di],1Y:di})+" "}1d{b+=a.2I+" "}}11(E.19.2c)b+="5C ";11(I==cl-1)b+="5D ";1a b}.13(7,1i)+\'" \',\'28="1s: \'+2G+\'1R;2Q-1s: 41;">\');k.1l(16(a){12 b=E.19.29-E.19.4N*2-E.19.2c;11(!1i.2T){a=E.19.29-E.19.2c}1a\'<2E 14-17-5E="\'+(1i.2T?\'2T\':\'\')+\'" \'+(2H?\'14-17-2B-2w="\'+2H+\'"\':\'\')+\'" 28="1s:\'+a+\'1R;\'+(1i.2T?\'\':\'4W-1s: \'+b+\'1R;\')+\'">\'}(2G),l?Y.13(7,h[di],di,1i):X.13(7,h,h[di],di,1i),\'</2E>\');k.1l(\'</2f>\')}k.1l(\'<2f \',\'14-17-1h-2D="1v" \',\'14-17-1h-1i="1v" \',\'14-17-14-1Y="\'+7z+\'" \',\'14-17-14-o-1Y="\'+6I+\'" \',\'14-17-1h-1Q="\'+"3f"+\'" \',\'28="1s: \'+E.19.29+\'1R;2Q-1s: 41;" \',\'></2f>\');k.1l(\'</24>\')}}}11(m>h.1j){12 n;12 o;1q(n=h.1j,o=m;n<=o;n++){k.1l(\'<24 3b="24-\'+n%4+\'" 14-17-24-14-1Y="1v" 14-17-24-14-o-1Y="1v" 14-17-1L="1r" 14-17-co-cp="1r">\');1q(1G=0,2j=e.1j;1G<2j;1G++){k.1l(\'<2f 14-17-1p-4d="19-1P" 14-17-1h-2D="0", 14-17-1h-1i="1v" 14-17-14-1Y="1v" 14-17-14-o-1Y="1v" 14-17-1h-4n="0" 14-17-1h-1Q="3f" 14-17-1h-4b="\'+1G+\'" 3b="5C 5D " 28="1s: \'+E.19.29+\'1R;2Q-1s: 41;">\');k.1l(\'<2E 14-17-5E="" 14-17-2B-2w="" 28="1s:\'+(E.19.29*3D.1u[0].1D[0].21-E.19.2c)+\'1R; 4W-1s: \'+(E.19.29*3D.1u[0].1D[0].21-E.19.2c-6)+\'1R;"></2E>\');k.1l(\'</2f>\')}k.1l(\'</24>\')}}k.1l(\'</2z>\');11(al&&h.1j){k.1l(\'<1w 28="cg:ch-cj-ck(cm 2i, \'+am+\');\'+\'cn-4O:0;\'+\'4W-1s:0;1s: \'+(h.1j-di)*i.2o+\'1R;"></1w>\')}j.5v();k=k.3o(\'\');j.3y(0).6J=k;7.$.4F.1l(d);1a 1m};12 L=16 L(d,e,f,g,h){12 i=7.$.1p[d];11(!J&&!h){7.$.4F.1l(d);1a 1r}12 j=[],3a=1g 0,3q=1g 0,1G=1g 0,2j=1g 0,I=1g 0,cl=1g 0,1i=1g 0,2G=1g 0,2H=1g 0;j.1l(\'<2z 7i="0" 8m="0" 8n="0">\');j.1l(\'<5h>\');1q(3a=0,3q=e.1j;3a<3q;3a++){11(3a==3q-1){j.1l(\'<1i 28="1I:5l%;"  />\')}1d{j.1l(\'<1i 28="1I:\'+e[3a].3d+\'1R;"  />\')}}j.1l(\'<1i  />\');j.1l(\'</5h>\');1q(1G=0,2j=f.1u.1j;1G<2j;1G++){j.1l(\'<24 3b="24-4X">\');1q(I=0,cl=f.1u[1G].1D.1j;I<cl;I++){1i=f.1u[1G].1D[I];2G=E.19.29*1i.21-E.19.2c;2H=1i.2w||5g;j.1l(\'<2f \',\'14-17-1p-4d="\'+d+\'" \',\'14-17-1h-2D="\'+1G+\'" \',\'14-17-1h-1i="\'+I+\'" \',\'14-17-1h-1n="\'+1G+\'" \',\'14-17-1h-1f="\'+1i.1f+\'" \',\'14-17-1h-1Q="\'+(1i.45||"4X")+\'" \',16(a,b){12 c="";11(a){c+=\'14-17-1h-3U="1m" \'}11(b){c+=\'14-17-1h-1L="1m" \'}1a c}(7.1k["7A"+1i.1f+"1W"+1G],7.3H["7A"+1i.1f+"1W"+1G]),\'1K="\'+1i.1K+\'" \',\'21="\'+1i.21+\'" \',\'3b="\'+16(a){12 b="";11(a.2I){11(U.3L(a.2I)){b+=a.2I.13({1h:a,1B:a.1B,an:1m})+" "}1d{b+=a.2I+" "}}11(E.19.2c)b+="5C ";11(I==cl-1)b+="5D ";1a b}.13(7,1i)+\'" \',\'28="1s: \'+2G+\'1R;2Q-1s: 41;">\');j.1l(16(a){12 b=E.19.29-E.19.4N*2-E.19.2c;11(!1i.2T){a=E.19.29-E.19.2c}1a\'<2E 14-17-5E="\'+(1i.2T?\'2T\':\'\')+\'" \'+(2H?\'14-17-2B-2w="\'+2H+\'"\':\'\')+\'" 28="1s:\'+a+\'1R;\'+(1i.2T?\'\':\'4W-1s: \'+b+\'1R;\')+\'">\'}(2G),Z.13(7,g,1i),\'</2E>\');j.1l(\'</2f>\')}j.1l(\'<2f \',\'14-17-1h-2D="1v" \',\'14-17-1h-1i="1v" \',\'14-17-1h-1Q="\'+"4X"+\'" \',\'28="1s: \'+E.19.29+\'1R;2Q-1s: 41;" \',\'></2f>\');j.1l(\'</24>\')}j.1l(\'</2z>\');i.5v();j=j.3o(\'\');i.3y(0).6J=j;7.$.4F.1l(d);1a 1m};12 M=16 M(j,k,l,m,n){12 o=[];12 p=7.$.1p[j];12 q={},9h=1g 0;12 r=p.1F("24");1q(12 s=0,3K=r.1j;s<3K;s++){12 t=1g 0,9i=1g 0;t=r[s].ei;9i=[];1q(12 u=0,cl=t.1j;u<cl;u++){12 v={"$":1V(t[u])};11(v["$"].1Q("14-17-1h-1i")!="1v"){v.1o=v["$"].1Q("14-17-14-1Y");v.1G=v["$"].1Q("14-17-1h-2D");v.ci=v["$"].1Q("14-17-1h-1i");v.1n=v["$"].1Q("14-17-1h-1n");v.1f=v["$"].1Q("14-17-1h-1f");v.21=v["$"].1Q("21");v.2B=v["$"].2B();9i.1l(v)}v=1v}o.1l(9i)}11(o.1j>1){9h=1r;12 w=16 w(e,f){12 g=[];12 h=16 h(c,d){11(!k[c].1Z&&16(){11(U.6r(E.19.6X)){1a 22.1S.ao(E.19.6X,k[c].1B)>-1}1d{1a 1m}}()){11(q[c]&&16(){11(g.1j>0){12 b=1m;g.4H(16(a){11(o[e-1][a].2B!=o[e][a].2B){b=1r}});1a b}1d{1a 1m}}()&&q[c].2B==o[e][c].2B){o[e][c].21=0;o[q[c].cq][c].21++;9h=1m}1d{q[c]={cq:e,ci:c,2B:o[e][c].2B}}g.1l(c)}};1q(12 i=0,ap=o[e].1j;i<ap;i++){h(i,ap)}};1q(12 x=0,aq=o.1j;x<aq;x++){w(x,aq)}11(9h){1q(12 y=0,cr=o.1j;y<cr;y++){1q(12 z=0,cs=o[y].1j;z<cs;z++){11(o[y][z].21==0){o[y][z]["$"].6y()}1d 11(o[y][z].21>1){o[y][z]["$"].1Q("21",o[y][z].21).9H("ej")}}}}}};12 N={2l:F,2S:2S,4T:G,3R:3R,4o:4o,4w:4w,2o:7.1b.2o,6i:7.1e.6i,5Q:7.1e.5Q};12 O=1V.2q({},N,{2l:0,2S:7.1b.1O});11(E.4G>0){11(7.1b.1O>0){K.13(7,"1y-2y-19",7.8o,68,6G,1c.4x(0,7.1b.1O),O)}K.13(7,"2y-19-1P",7.8o,68,6G,1c,N);11(E.3G){L.13(7,"2i-2y-19",7.8o,68,1v,7.1c)}}11(7.1b.2v>0){11(7.1b.1O>0){K.13(7,"1y-1t-19",7.4K,4r,4k,1c.4x(0,7.1b.1O),O)}K.13(7,"1t-19-1P",7.4K,4r,4k,1c,N);11(E.3G&&7.3J){L.13(7,"2i-1t-19",7.4K,4D,7.1c)}}11(7.1b.1O>0){K.13(7,"1y-19-1P",2F,3T,3t,1c.4x(0,7.1b.1O),O)}K.13(7,"19-1P",2F,3T,3t,1c,N);11(E.3G&&7.3J){L.13(7,"2i-19-1P",2F,3I,7.1c,N)}11(E.7S){}11(E.19.6X&&1c.1j){11(7.1b.2v>0){11(7.1b.1O>0){M.13(7,"1y-1t-19",7.4K,4r,1c.4x(0,7.1b.1O))}M.13(7,"1t-19-1P",7.4K,4r,1c,N)}11(7.1b.1O>0){M.13(7,"1y-19-1P",7.2F,3T,1c.4x(0,7.1b.1O))}M.13(7,"19-1P",7.2F,3T,1c,N)}7.1b.3Q=3Q;7.1b.2l=F;7.1b.2S=2S;7.1b.4V=4V;7.1b.4T=G;7.1b.3R=3R;7.1b.4o=4o;7.1b.4w=4w;7.1b.5B=1c.1j;7.3J=1r;11(2x){7.1c=7.$.3i}P.1z.ar.13(7)};12 bb=16 bb(k,l,m,n,o,p){12 q=7,1x=7.1e,1c=7.1c;12 r=7.$["1p"][k].1F(\'[14-17-24-14-1Y="\'+l+\'"]\').1F(\'[14-17-1h-4n="\'+n+\'"][14-17-1h-4b="\'+o+\'"]\').1F(\'[14-17-as]\'),1E=7.1E,1i=1E[o];r.5V(X.13(7,1c,1c[l],l,1i));11(1i.1Z&&1i.1Z.ct){1i.1Z.ct.4H(16(c){1E.4H(16(a){11(a.1B==c){12 b=a.1n,1f=a.1f,2e=P.1S.6K.13(q,l,1f,b).2e,cu=q.$["1p"][2e].1F(\'[14-17-24-14-1Y="\'+l+\'"]\').1F(\'[14-17-1h-4n="\'+b+\'"][14-17-1h-4b="\'+1f+\'"]\').1F(\'[14-17-as]\');cu.5V(X.13(q,1c,1c[l],l,a))}})})}12 s=2P.8d(2P.8l(7.$.1p["19-1P"].3C().1y)/7.1b.2o)+7.1b.1O,2F=7.2F,4D=7.4D,3I=7.3I,4k=7.4k,3t=7.3t,5g=1x.19.2w,2S=2P.58(7.$.1p["19"].1s()/7.1b.2o)+1,69={2l:s,2S:2S,2o:7.1b.2o};11(7.1b.4o||7.1b.4w){2F=[].3p(2F).3W(7.1b.4T,7.1b.3R-7.1b.4T+1);11(1x.19.2W){3t=P.1S.7y(3t,7.1b.4T,7.1b.3R)}11(1x.3G){3I=P.1S.7y(3I,7.1b.4T,7.1b.3R)}}12 t=16 t(d,e,f,g,h){12 i=7.$.1p[d],1M=[],3a=1g 0,3q=1g 0,1G=1g 0,2j=1g 0,ci=1g 0,cl=1g 0,1i=1g 0,2G=1g 0,2H=1g 0;1M.1l(\'<2z 7i="0" 8m="0" 8n="0">\');1M.1l(\'<5h>\');1q(3a=0,3q=e.1j;3a<3q;3a++){11(3a==3q-1){1M.1l(\'<1i 28="1I:5l%;"  />\')}1d{1M.1l(\'<1i 28="1I:\'+e[3a].3d+\'1R;"  />\')}}1M.1l(\'<1i  />\');1M.1l(\'</5h>\');1q(1G=0,2j=f.1u.1j;1G<2j;1G++){1M.1l(\'<24 3b="24-4X">\');1q(ci=0,cl=f.1u[1G].1D.1j;ci<cl;ci++){1i=f.1u[1G].1D[ci];2G=1x.19.29*1i.21-1x.19.2c;2H=1i.2w||5g;1M.1l(\'<2f \',\'14-17-1p-4d="\'+d+\'" \',\'14-17-1h-2D="\'+1G+\'" \',\'14-17-1h-1i="\'+ci+\'" \',\'14-17-1h-1n="\'+1G+\'" \',\'14-17-1h-1f="\'+1i.1f+\'" \',\'14-17-1h-1Q="\'+(1i.45||"4X")+\'" \',16(a,b){12 c="";11(a){c+=\'14-17-1h-3U="1m" \'}11(b){c+=\'14-17-1h-1L="1m" \'}1a c}(7.1k["7A"+1i.1f+"1W"+1G],7.3H["7A"+1i.1f+"1W"+1G]),\'1K="\'+1i.1K+\'" \',\'21="\'+1i.21+\'" \',\'3b="\'+16(a){12 b="";11(a.2I){11(U.3L(a.2I)){b+=a.2I.13({1h:a,1B:a.1B,an:1m})+" "}1d{b+=a.2I+" "}}11(1x.19.2c)b+="5C ";11(ci==cl-1)b+="5D ";1a b}.13(7,1i)+\'" \',\'28="1s: \'+2G+\'1R;2Q-1s: 41;">\');1M.1l(16(a){12 b=1x.19.29-1x.19.4N*2-1x.19.2c;11(!1i.2T){a=1x.19.29-1x.19.2c}1a\'<2E 14-17-5E="\'+(1i.2T?\'2T\':\'\')+\'" \'+(2H?\'14-17-2B-2w="\'+2H+\'"\':\'\')+\'" 28="1s:\'+a+\'1R;\'+(1i.2T?\'\':\'4W-1s: \'+b+\'1R;\')+\'">\'}(2G),Z.13(7,g,1i),\'</2E>\');1M.1l(\'</2f>\')}1M.1l(\'<2f \',\'14-17-1h-2D="1v" \',\'14-17-1h-1i="1v" \',\'14-17-1h-1Q="\'+"4X"+\'" \',\'28="1s: \'+1x.19.29+\'1R;2Q-1s: 41;" \',\'></2f>\');1M.1l(\'</24>\')}1M.1l(\'</2z>\');i.5v().3y(0).6J=1M.3o(\'\');1a 1m};12 u=16 u(d,e,f,g,h){12 i=7.$.1p[d],1M=[],di=1g 0,dl=1g 0,1G=1g 0,2j=1g 0,ci=1g 0,cl=1g 0,1i=1g 0,2G=1g 0,2H=1g 0;1q(di=h.2l,dl=16(){12 a=1g 0;a=g.1j;11(h.2S+h.2l<a){a=h.2S+h.2l}1a a}();di<dl;di++){11(g[di]&&f&&"3V"1H g[di]){12 j=f;1M=[];1q(1G=0,2j=j.1u.1j;1G<2j;1G++){1q(ci=0,cl=j.1u[1G].1D.1j;ci<cl;ci++){1i=j.1u[1G].1D[ci];2G=1x.19.29*1i.21-1x.19.2c;2H=1i.2w||5g;1M.1l(\'<2f \',\'14-17-1p-4d="\'+d+\'" \',\'14-17-14-1Y="\'+di+\'" \',\'14-17-1h-2D="\'+1G+\'" \',\'14-17-1h-1i="\'+ci+\'" \',\'14-17-1h-1n="\'+1i.1n+\'" \',\'14-17-1h-1f="\'+1i.1f+\'" \',\'14-17-1h-1Q="\'+(1i.45||"3f")+\'" \',16(a,b){12 c="";11(a){c+=\'14-17-1h-3U="1m" \'}11(b){c+=\'14-17-1h-1L="1m" \'}1a c}(7.1k[di+"1W"+1i.1f+"1W"+1i.1n],7.3H[di+"1W"+1i.1f+"1W"+1i.1n]),\'1K="\'+1i.1K+\'" \',\'21="\'+1i.21+\'" \',\'3b="\'+16(a){12 b="";11(a.2I){11(U.3L(a.2I)){b+=a.2I.13({1h:a,1B:a.1B,3e:g[di],1Y:di})+" "}1d{b+=a.2I+" "}}11(1x.19.2c)b+="5C ";11(ci==cl-1)b+="5D ";1a b}.13(7,1i)+\'" \',\'28="1s: \'+2G+\'1R;2Q-1s: 41;">\');1M.1l(16(a){12 b=1x.19.29-1x.19.4N*2-1x.19.2c;11(!1i.2T){a=1x.19.29-1x.19.2c}1a\'<2E 14-17-5E="\'+(1i.2T?\'2T\':\'\')+\'" \'+(2H?\'14-17-2B-2w="\'+2H+\'"\':\'\')+\'" 28="1s:\'+a+\'1R;\'+(1i.2T?\'\':\'4W-1s: \'+b+\'1R;\')+\'">\'}(2G),Y.13(7,g[di],di,1i),\'</2E>\');1M.1l(\'</2f>\')}1M.1l(\'<2f \',\'14-17-1h-2D="1v" \',\'14-17-1h-1i="1v" \',\'14-17-14-1Y="\'+di+\'" \',\'14-17-1h-1Q="\'+"3f"+\'" \',\'28="1s: \'+1x.19.29+\'1R;2Q-1s: 41;" \',\'></2f>\')}i.1F(\'24[14-17-24-14-1Y="\'+di+\'"]\').5v().3y(0).6J=1M.3o(\'\')}}};11(1x.19.2W){11(7.1b.2v>0){11(7.1b.1O>0){u.13(7,"1y-1t-19",2F,4k,1c.4x(0,7.1b.1O),{2l:0,2S:7.1b.1O,2o:7.1b.2o})}u.13(7,"1t-19-1P",2F,4k,1c,69)}11(7.1b.1O>0){u.13(7,"1y-19-1P",2F,3t,1c.4x(0,7.1b.1O),{2l:0,2S:7.1b.1O,2o:7.1b.2o})}u.13(7,"19-1P",2F,3t,1c,69)}11(7.1b.2v>0){11(1x.3G&&7.3J){t.13(7,"2i-1t-19",2F,4D,1c)}}11(1x.3G&&7.3J){t.13(7,"2i-19-1P",2F,3I,1c,69)}};12 bc=16 bc(k){12 l=7,1x=7.1e,1c=7.1c;12 m=2P.8d(2P.8l(7.$.1p["19-1P"].3C().1y)/7.1b.2o)+7.1b.1O,68=7.68,4r=7.4r,3T=7.3T,4D=7.4D,3I=7.3I,6G=7.6G,4k=7.4k,3t=7.3t,5g=1x.19.2w,2S=2P.58(7.$.1p["19"].1s()/7.1b.2o)+1,69={2l:m,2S:2S,2o:7.1b.2o};12 n=16 n(d,e,f,g){12 h=7.$.1p[d],1M=[],3a=1g 0,3q=1g 0,1G=1g 0,2j=1g 0,ci=1g 0,cl=1g 0,1i=1g 0,2G=1g 0,2H=1g 0;1M.1l(\'<2z 7i="0" 8m="0" 8n="0">\');1M.1l(\'<5h>\');1q(3a=0,3q=e.1j;3a<3q;3a++){11(3a==3q-1){1M.1l(\'<1i 28="1I:5l%;"  />\')}1d{1M.1l(\'<1i 28="1I:\'+e[3a].3d+\'1R;"  />\')}}1M.1l(\'<1i  />\');1M.1l(\'</5h>\');1q(1G=0,2j=f.1u.1j;1G<2j;1G++){1M.1l(\'<24 3b="24-4X">\');1q(ci=0,cl=f.1u[1G].1D.1j;ci<cl;ci++){1i=f.1u[1G].1D[ci];2G=1x.19.29*1i.21-1x.19.2c;2H=1i.2w||5g;1M.1l(\'<2f \',\'14-17-1p-4d="\'+d+\'" \',\'14-17-1h-2D="\'+1G+\'" \',\'14-17-1h-1i="\'+ci+\'" \',\'14-17-1h-1n="\'+1G+\'" \',\'14-17-1h-1f="\'+1i.1f+\'" \',\'14-17-1h-1Q="\'+(1i.45||"4X")+\'" \',16(a,b){12 c="";11(a){c+=\'14-17-1h-3U="1m" \'}11(b){c+=\'14-17-1h-1L="1m" \'}1a c}(7.1k["7A"+1i.1f+"1W"+1G],7.3H["7A"+1i.1f+"1W"+1G]),\'1K="\'+1i.1K+\'" \',\'21="\'+1i.21+\'" \',\'3b="\'+16(a){12 b="";11(a.2I){11(U.3L(a.2I)){b+=a.2I.13({1h:a,1B:a.1B,an:1m})+" "}1d{b+=a.2I+" "}}11(1x.19.2c)b+="5C ";11(ci==cl-1)b+="5D ";1a b}.13(7,1i)+\'" \',\'28="1s: \'+2G+\'1R;2Q-1s: 41;">\');1M.1l(16(a){12 b=1x.19.29-1x.19.4N*2-1x.19.2c;11(!1i.2T){a=1x.19.29-1x.19.2c}1a\'<2E 14-17-5E="\'+(1i.2T?\'2T\':\'\')+\'" \'+(2H?\'14-17-2B-2w="\'+2H+\'"\':\'\')+\'" 28="1s:\'+a+\'1R;4W-1s: \'+b+\'1R;">\'}(2G),Z.13(7,g,1i),\'</2E>\');1M.1l(\'</2f>\')}1M.1l(\'<2f \',\'14-17-1h-2D="1v" \',\'14-17-1h-1i="1v" \',\'14-17-1h-1Q="\'+"4X"+\'" \',\'28="1s: \'+1x.19.29+\'1R;2Q-1s: 41;" \',\'></2f>\');1M.1l(\'</24>\')}1M.1l(\'</2z>\');h.5v().3y(0).6J=1M.3o(\'\');1a 1m};12 o=16 o(d,e,f,g,h){12 i=7.$.1p[d],1M=[],di=1g 0,dl=1g 0,1G=1g 0,2j=1g 0,ci=1g 0,cl=1g 0,1i=1g 0,2G=1g 0,2H=1g 0;11(1N h==="1A"||1N h[\'2l\']==="1A"){h={2l:0,2S:g.1j}}1q(di=h.2l,dl=16(){12 a=1g 0;a=g.1j;11(h.2S+h.2l<a){a=h.2S+h.2l}1a a}();di<dl;di++){11(g[di]&&f&&"3V"1H g[di]){12 j=f;1M=[];1q(1G=0,2j=j.1u.1j;1G<2j;1G++){1q(ci=0,cl=j.1u[1G].1D.1j;ci<cl;ci++){1i=j.1u[1G].1D[ci];2G=1x.19.29*1i.21-1x.19.2c;2H=1i.2w||5g;1M.1l(\'<2f \',\'14-17-1p-4d="\'+d+\'" \',\'14-17-14-1Y="\'+di+\'" \',\'14-17-1h-2D="\'+1G+\'" \',\'14-17-1h-1i="\'+ci+\'" \',\'14-17-1h-1n="\'+1i.1n+\'" \',\'14-17-1h-1f="\'+1i.1f+\'" \',\'14-17-1h-1Q="\'+(1i.45||"3f")+\'" \',16(a,b){12 c="";11(a){c+=\'14-17-1h-3U="1m" \'}11(b){c+=\'14-17-1h-1L="1m" \'}1a c}(7.1k[di+"1W"+1i.1f+"1W"+1i.1n],7.3H[di+"1W"+1i.1f+"1W"+1i.1n]),\'1K="\'+1i.1K+\'" \',\'21="\'+1i.21+\'" \',\'3b="\'+16(a){12 b="";11(a.2I){11(U.3L(a.2I)){b+=a.2I.13({1h:a,1B:a.1B,3e:g[di],1Y:di})+" "}1d{b+=a.2I+" "}}11(1x.19.2c)b+="5C ";11(ci==cl-1)b+="5D ";1a b}.13(7,1i)+\'" \',\'28="1s: \'+2G+\'1R;2Q-1s: 41;">\');1M.1l(16(a){12 b=1x.19.29-1x.19.4N*2-1x.19.2c;11(!1i.2T){a=1x.19.29-1x.19.2c}1a\'<2E 14-17-5E="\'+(1i.2T?\'2T\':\'\')+\'" \'+(2H?\'14-17-2B-2w="\'+2H+\'"\':\'\')+\'" 28="1s:\'+a+\'1R;4W-1s: \'+b+\'1R;">\'}(2G),Y.13(7,g[di],di,1i),\'</2E>\');1M.1l(\'</2f>\')}1M.1l(\'<2f \',\'14-17-1h-2D="1v" \',\'14-17-1h-1i="1v" \',\'14-17-14-1Y="\'+di+\'" \',\'14-17-1h-1Q="\'+"3f"+\'" \',\'28="1s: \'+1x.19.29+\'1R;2Q-1s: 41;" \',\'></2f>\')}i.1F(\'24[14-17-24-14-1Y="\'+di+\'"]\').5v().3y(0).6J=1M.3o(\'\')}}};12 p=16 p(d,e,f,g,h){12 i=7.$.1p[d],1M=[],1G=1g 0,2j=1g 0,ci=1g 0,cl=1g 0,1i=1g 0,2G=1g 0,2H=1g 0,3D=f,6I=1N g[h].5f!=="1A"?g[h].5f:h;12 j=i.1F(\'24[14-17-24-14-1Y="\'+h+\'"]\').5v().3y(0);11(j){1q(1G=0,2j=3D.1u.1j;1G<2j;1G++){1q(ci=0,cl=3D.1u[1G].1D.1j;ci<cl;ci++){1i=3D.1u[1G].1D[ci];2G=1x.19.29*1i.21-1x.19.2c;2H=1i.2w||5g;1M.1l(\'<2f \',\'14-17-1p-4d="\'+d+\'" \',\'14-17-14-1Y="\'+h+\'" \',\'14-17-14-o-1Y="\'+6I+\'" \',\'14-17-1h-2D="\'+1G+\'" \',\'14-17-1h-1i="\'+ci+\'" \',\'14-17-1h-1n="\'+1i.1n+\'" \',\'14-17-1h-1f="\'+1i.1f+\'" \',\'14-17-1h-1Q="\'+(1i.45||"3f")+\'" \',16(a,b){12 c="";11(a){c+=\'14-17-1h-3U="1m" \'}11(b){c+=\'14-17-1h-1L="1m" \'}1a c}(7.1k[h+"1W"+1i.1f+"1W"+1i.1n],7.3H[h+"1W"+1i.1f+"1W"+1i.1n]),\'1K="\'+1i.1K+\'" \',\'21="\'+1i.21+\'" \',\'3b="\'+16(a){12 b="";11(a.2I){11(U.3L(a.2I)){b+=a.2I.13({1h:a,1B:a.1B,3e:g[h],1Y:h})+" "}1d{b+=a.2I+" "}}11(1x.19.2c)b+="5C ";11(ci==cl-1)b+="5D ";1a b}.13(7,1i)+\'" \',\'28="1s: \'+2G+\'1R;2Q-1s: 41;">\');1M.1l(16(a){12 b=1x.19.29-1x.19.4N*2-1x.19.2c;11(!1i.2T){a=1x.19.29-1x.19.2c}1a\'<2E 14-17-5E="\'+(1i.2T?\'2T\':\'\')+\'" \'+(2H?\'14-17-2B-2w="\'+2H+\'"\':\'\')+\'" 28="1s:\'+a+\'1R;\'+(1i.2T?\'\':\'4W-1s: \'+b+\'1R;\')+\'">\'}(2G),X.13(7,g,g[h],h,1i),\'</2E>\');1M.1l(\'</2f>\')}1M.1l(\'<2f \',\'14-17-1h-2D="1v" \',\'14-17-1h-1i="1v" \',\'14-17-14-1Y="\'+h+\'" \',\'14-17-1h-1Q="\'+"3f"+\'" \',\'28="1s: \'+1x.19.29+\'1R;2Q-1s: 41;" \',\'></2f>\')}j.6J=1M.3o(\'\')}};11(7.1b.2v>0){11(7.1b.1O>k){p.13(7,"1y-1t-19",7.4K,4r,1c.4x(0,7.1b.1O),k)}1d{p.13(7,"1t-19-1P",7.4K,4r,1c,k)}}11(7.1b.1O>k){p.13(7,"1y-19-1P",7.2F,3T,1c.4x(0,7.1b.1O),k)}1d{p.13(7,"19-1P",7.2F,3T,1c,k)}11(1x.19.2W){11(7.1b.2v>0){11(7.1b.1O>k){o.13(7,"1y-1t-19",7.4K,4k,1c.4x(0,7.1b.1O))}1d{o.13(7,"1t-19-1P",7.4K,4k,1c,69)}}11(7.1b.1O>k){o.13(7,"1y-19-1P",7.2F,3t,1c.4x(0,7.1b.1O))}1d{o.13(7,"19-1P",7.2F,3t,1c,69)}}11(7.1b.2v>0){11(1x.3G&&7.3J){n.13(7,"2i-1t-19",7.4K,4D,1c)}}11(1x.3G&&7.3J){n.13(7,"2i-19-1P",7.2F,3I,1c,69)}};12 bd=16 bd(a,b){11(1N b==="1A")b={at:1r};11(7.4C){1q(12 c 1H 7.2n){P.19.3w.4c.13(7,"4u",c)}}11(7.1e.4G>0&&"1y"1H a){7.$.1p["2y-19-1P"].2h({1y:a.1y})}11(7.1b.2v>0&&"1y"1H a){7.$.1p["1t-19-1P"].2h({1y:a.1y})}11(7.1b.1O>0&&"1t"1H a){7.$.1p["1y-19-1P"].2h({1t:a.1t})}7.$.1p["19-1P"].2h(a);11(7.1e.3G&&"1t"1H a){7.$.1p["2i-19-1P"].2h({1t:a.1t})}11(7.9e){7.9e(a,b)}1d{11(7.1e.5Q&&!b.7s&&"1y"1H a){ba.13(7)}1d 11(7.1e.6i&&!b.7s&&"1t"1H a){ba.13(7)}11(b.7t){b.7t()}}};12 be=16 be(){Q.6B.13(7);Q.61.13(7);11(7.4C){bg.4c.13(7)}};12 bf=16 bf(h){12 i={"9j":16 9j(a){12 b=1m,1k=1g 0,6L=1g 0,5F=1g 0,4L=1g 0;1q(12 c 1H 7.1k){1k=1V.2q({},7.1k[c],1m);2C}11(!1k)1a 1r;6L=7.44[1k.1n+"1W"+1k.1f];Q.6B.13(7);Q.61.13(7);11(a>0){11(1k.1n+(6L.21-1)+a>7.55.1u.1j-1){1k.1o=1k.1o+a;1k.1X=1k.1X+a;1k.1n=0;11(1k.1o>7.1c.1j-1){1k.1o=1k.1X=7.1c.1j-1;b=1r}}1d{1k.1n=1k.1n+a}}1d{11(1k.1n+a<0){1k.1o=1k.1o+a;1k.1X=1k.1X+a;1k.1n=7.55.1u.1j-1;11(1k.1o<0){1k.1o=1k.1X=0;b=1r}}1d{1k.1n=1k.1n+a}}5F=0;2R(1N 7.44[1k.1n+"1W"+1k.1f]==="1A"){11(1k.1n==0||5F%2==(a>0?0:1)){1k.1f--}1d{1k.1n--}11(1k.1n<=0&&1k.1f<=0){b=1r;2C}5F++}4L=P.1S.6K.13(7,1k.1o,1k.1f);11(7.1e.19.6X&&7.1c.1j){2R(!7.$.1p[4L.2e].1F(\'[14-17-24-14-1Y="\'+1k.1o+\'"]\').1F(\'[14-17-1h-4n="\'+1k.1n+\'"][14-17-1h-4b="\'+1k.1f+\'"]\').3y(0)){11(a>0){1k.1o++}1d{1k.1o--}11(1k.1o<0||1k.1o>7.1c.1j-1){2C}}4L=P.1S.6K.13(7,1k.1o,1k.1f)}1k.2e=4L.2e;11(1k.1o+1>7.1b.1O){11(1k.1o<=7.1b.3Q){12 d=(1k.1o-7.1b.1O-1)*7.1b.2o;11(d<0)d=0;bd.13(7,{1y:-d,at:1r});P.1C.3c.13(7)}1d 11(1k.1o+1>7.1b.3Q+(7.1b.4V-2)){bd.13(7,{1y:(7.1b.4V-2-1k.1o)*7.1b.2o,at:1r});P.1C.3c.13(7)}}7.1k[1k.1o+"1W"+1k.1f+"1W"+1k.1n]=1k;7.$.1p[1k.2e].1F(\'[14-17-24-14-1Y="\'+1k.1o+\'"]\').1F(\'[14-17-1h-4n="\'+1k.1n+\'"][14-17-1h-4b="\'+1k.1f+\'"]\').1Q(\'14-17-1h-3U\',"1m");1a b},"9k":16 9k(b){12 d=1m,1k=1g 0,6L=1g 0,5F=0,8p=1r,7B="",4L=1g 0;1q(12 c 1H 7.1k){1k=1V.2q({},7.1k[c],1m);2C}11(!1k)1a 1r;6L=7.44[1k.1n+"1W"+1k.1f];Q.6B.13(7);Q.61.13(7);11(b<0){1k.1f=1k.1f+b;11(1k.1f<0){1k.1f=0;d=1r}}1d{1k.1f=1k.1f+b;11(1k.1f>7.1E.1j-1){1k.1f=7.1E.1j-1;d=1r}}11(1N 7.44[1k.1n+"1W"+1k.1f]==="1A"){1k.1n=0}11(7.1c[1k.1o]&&7.1c[1k.1o].3V){11(b<0){2R(1N 7.8N[1k.1n+"1W"+1k.1f]==="1A"){1k.1f--;11(1k.1f<=0){d=1r;2C}}}1d{2R(1N 7.8N[1k.1n+"1W"+1k.1f]==="1A"){1k.1f++;11(1k.1f>=7.1E.1j){d=1r;2C}}}}1d{11(b<0){2R(1N 7.44[1k.1n+"1W"+1k.1f]==="1A"){1k.1f--;11(1k.1f<=0){d=1r;2C}}}1d{2R(1N 7.44[1k.1n+"1W"+1k.1f]==="1A"){1k.1f++;11(1k.1f>=7.1E.1j){d=1r;2C}}}}4L=P.1S.6K.13(7,1k.1o,1k.1f);11(7.1e.19.6X&&7.1c.1j&&1k.1o>1){2R(!7.$.1p[4L.2e].1F(\'[14-17-24-14-1Y="\'+1k.1o+\'"]\').1F(\'[14-17-1h-4n="\'+1k.1n+\'"][14-17-1h-4b="\'+1k.1f+\'"]\').3y(0)){1k.1o--;11(1k.1o<0||1k.1o>7.1c.1j-1){2C}}4L=P.1S.6K.13(7,1k.1o,1k.1f)}1k.2e=4L.2e;12 e=16(){11(!7.1e.6i)1a 1r;12 a=0;11(1k.1f+1>7.1b.2v){11(1k.1f<=7.1b.4T&&7.1E[1k.1f]){a=-7.1E[2s(1k.1f)].7x;bd.13(7,{1t:a});P.1J.3B.13(7,{1t:a});P.1C.3c.13(7);1a 1m}1d 11(1k.1f>=7.1b.3R&&7.1E[2s(1k.1f)]){11(7.1E[2s(1k.1f)].6H>7.1b.81){a=7.1E[2s(1k.1f)].6H-7.1b.81;bd.13(7,{1t:-a});P.1J.3B.13(7,{1t:-a});P.1C.3c.13(7)}1a 1m}}a=1v;1a 1r}.13(7);7B=4L.7B;8p=4L.8p;7.1k[1k.1o+"1W"+1k.1f+"1W"+1k.1n]=1k;12 f=7.$.1p[1k.2e].1F(\'[14-17-24-14-1Y="\'+1k.1o+\'"]\').1F(\'[14-17-1h-4n="\'+1k.1n+\'"][14-17-1h-4b="\'+1k.1f+\'"]\').1Q(\'14-17-1h-3U\',"1m");11(!e&&f&&8p){12 g=16(){11(f.3C().1t+f.7C()>2P.8l(7.$.1p[1k.2e].3C().1t)+7.$.1p[7B].1I()){1a f.3C().1t+f.7C()-7.$.1p[7B].1I()}1d 11(2P.8l(7.$.1p[1k.2e].3C().1t)>f.3C().1t){1a f.3C().1t}1d{1a}}.13(7);11(1N g!=="1A"){P.1J.3B.13(7,{1t:-g});bd.13(7,{1t:-g});P.1C.3c.13(7)}}1a d},"8q":16 8q(a){12 b=1m,1k=1g 0,6L=1g 0,5F=1g 0;1q(12 c 1H 7.1k){1k=1V.2q({},7.1k[c],1m);2C}11(!1k){1k={1n:0,1f:0}}6L=7.44[1k.1n+"1W"+1k.1f];Q.6B.13(7);Q.61.13(7);11(a=="5w"){a=7.1c.1j-1}1k.1o=a;1k.1n=0;5F=0;2R(1N 7.44[1k.1n+"1W"+1k.1f]==="1A"){11(1k.1n==0||5F%2==(ek>0?0:1)){1k.1f--}1d{1k.1n--}11(1k.1n<=0&&1k.1f<=0){2C}5F++}12 d=P.1S.6K.13(7,1k.1o,1k.1f);1k.2e=d.2e;{11(1k.1o+1>7.1b.1O){12 e=7.1b.3Q||0;11(1k.1o<e){bd.13(7,{1y:-(1k.1o-7.1b.1O)*7.1b.2o});P.1C.3c.13(7)}1d 11(1k.1o+1>e+(7.1b.4V-2)){12 f=!7.1e.5Q?1k.1o-7.1b.1O:1k.1o-7.1b.1O-7.1b.4V+3;bd.13(7,{1y:-f*7.1b.2o});P.1C.3c.13(7)}}}7.1k[1k.1o+"1W"+1k.1f+"1W"+1k.1n]=1k;7.$.1p[1k.2e].1F(\'[14-17-24-14-1Y="\'+1k.1o+\'"]\').1F(\'[14-17-1h-4n="\'+1k.1n+\'"][14-17-1h-4b="\'+1k.1f+\'"]\').1Q(\'14-17-1h-3U\',"1m");1a b}};12 j={"6u":16 6u(){1a i["9j"].13(7,-1)},"6v":16 6v(){1a i["9j"].13(7,1)},"8X":16 8X(){1a i["9k"].13(7,-1)},"8Y":16 8Y(){1a i["9k"].13(7,1)},"82":16 82(){1a i["8q"].13(7,0)},"7f":16 7f(){1a i["8q"].13(7,"5w")},"3C":16 3C(a){1a i["8q"].13(7,a)}};11(h 1H j){1a j[h].13(7)}1d{1a j["3C"].13(7,h)}};12 bg={83:16 83(c,d,e){12 f=7,1o=1g 0,1X=1g 0,1f=1g 0,1n=1g 0,2e=1g 0,1K=1g 0,1i=1g 0,1Z=1g 0;1q(12 g 1H c){2e=c[g].2e;1o=c[g].1o;1X=c[g].1X;1f=c[g].1f;1n=c[g].1n;1K=c[g].1K;1i=7.1E[1f];11(!(1Z=1i.1Z))1a 7;11(U.3L(1Z.9f)){11(1Z.9f.13({1c:7.1c,1o:1o,3e:7.1c[1o],1B:1i.1B,2m:e})){1a 7}}11(!16(a,b){11(a.2A 1H P.3Z){1a P.3Z[a.2A].5e=="5y"}}(1Z)){11(1Z.2A=="7p"){12 h=1g 0,3X=1g 0;11(1Z.1e&&1Z.1e.4U){11(h=!(e==1Z.1e.4U)){3X=1Z.1e.4U}1d{3X=1Z.1e.ae}}1d{3X=h=e==1r||e=="1r"||e<"1"?"1m":"1r"}P.14.60.13(f,1o,1X,1i.1B,3X);S.13(f,["8a"],1o,1X,{1B:1i.1B,1n:1n,1f:1f,af:1i.1Z.1e,5c:h})}1a 7}11(7.1c[1o].3V){1a 1r}11(g 1H 7.2n){1a 1r}7.2n[g]={1Z:1Z,2e:2e,el:g,1h:c[g],5G:P.3Z[1Z.2A].5G};7.4C=1m}11(7.4C){12 i=P.14.5x.13(f,1o,1X,1i.1B),cv=16(a,b){11(U.6a(a)){a=U.6a(i)?"":i}11(b.2A=="4p"){1a U.4f(a,{"4p":1m})}1d{1a a}}.13(7,e,1Z);7.2n[g].$au=7.$["1p"][2e].1F(\'[14-17-24-14-1Y="\'+1o+\'"]\').1F(\'[14-17-1h-4n="\'+1n+\'"][14-17-1h-4b="\'+1f+\'"]\').1F(\'[14-17-as]\');7.2n[g].$3Z=P.3Z[1Z.2A].2X(7,g,1Z,7.2n[g].$au,cv);1a 1m}},4c:16 4c(e,f,g){11(!7.2n[f])1a 7;12 h=7.2n[f].2e,1o=7.2n[f].1h.1o,1X=7.2n[f].1h.1X,1n=7.2n[f].1h.1n,1f=7.2n[f].1h.1f,1h=7.44[7.2n[f].1h.1n+"1W"+7.2n[f].1h.1f],cw=16(a){11(1N g==="1A"){11(a.3y(0).av=="em"||a.3y(0).av=="en"||a.3y(0).av=="eo"){1a a.8r()}1d{e="9l";1a 1r}}1d{1a g}}(7.2n[f].$3Z),3X=16(a,b){11(b.2A=="4p"){1a U.4f(a)}1d{1a a}}.13(7,cw,1h.1Z);12 i={"9l":16 9l(a,b,c){i["7D"].13(7)},"2N":16 2N(a,b,c,d){11(P.14.60.13(7,a,b,c.1B,d)){i["7D"].13(7);P.19.93.13(7,h,a,b,1n,1f,d)}1d{i["7D"].13(7)}},"7D":16 7D(){7.4C=1r;11(7.2n[f]&&7.2n[f].$3Z){12 a=7.2n[f].$3Z.14("8s-8t");11(a=="9m"){7.2n[f].$3Z.9m("8u")}1d 11(a=="6b"){7.2n[f].$3Z.6b("8u")}7.2n[f].$3Z.6y();7.2n[f].$3Z=1v;7.2n[f].$au=1v}7.2n[f]=1A;aw 7.2n[f]}};11(e 1H i){i[e||"2N"].13(7,1o,1X,1h,3X)}1d{i["7D"].13(7)}},57:16 57(c,d,e){12 f={"4u":16 4u(){1q(12 a 1H 7.2n){bg.4c.13(7,"9l",a)}},"2N":16 2N(){11(7.4C){11(7.2n[d]&&7.2n[d].5G){bg.4c.13(7,"2N",d)}1d{1a 1r}}1d{1q(12 k 1H 7.1k){12 a=7.1k[k],1h=7.44[a.1n+"1W"+a.1f],7E=a.1o,1X=a.1X,2m="",1i=7.1E[a.1f];11(1h){11(!7.1c[7E].3V){2m=P.14.5x.13(7,7E,1X,1h.1B)}}11(1i.1Z&&P.3Z[1i.1Z.2A].5e==="7c"){11(e&&e.3A){}1d{11(1h.1Z&&1h.1Z.2A=="7p"){2m=P.14.5x.13(7,7E,1X,1h.1B);12 b=1g 0,3X=1g 0;11(1h.1Z.1e&&1h.1Z.1e.4U){11(2m!=1h.1Z.1e.4U){3X=1h.1Z.1e.4U;b=1m}1d{3X=1h.1Z.1e.ae;b=1r}}1d{3X=b=2m==1r||2m=="1r"||2m<"1"?"1m":"1r"}P.14.60.13(7,7E,1X,1h.1B,3X);S.13(7,["8a"],7E,1X,{1B:1h.1B,1n:a.1n,1f:a.1f,af:1h.1Z.1e,5c:b})}}}1d{P.19.3w.83.13(7,7.1k,1v,2m)}}}1a 1m}};11(c 1H f){f[c].13(7,c,d,e)}}};12 bh=16 bh(){12 g=7.1e,1c=7.1c,3T=7.55,3I=7.7V,3t=7.73;11(2x){1c=7.$.3i}12 h=16 h(a,b,c,d){12 e=[],di=1g 0,dl=1g 0,1G=1g 0,2j=1g 0,ci=1g 0,cl=1g 0,1i=1g 0,8r=1g 0;11(2x){d=7.$.3i}1q(di=0,dl=d.1j;di<dl;di++){12 f=1r,3D=1g 0;11(c&&"3V"1H d[di]){3D=c;f=1m}1d{3D=b}1q(1G=0,2j=3D.1u.1j;1G<2j;1G++){e.1l(\'\\n<24>\');1q(ci=0,cl=3D.1u[1G].1D.1j;ci<cl;ci++){1i=3D.1u[1G].1D[ci];e.1l(\'<2f \',\'1K="\'+1i.1K+\'" \',\'21="\'+1i.21+\'" \',\'>\',(f?Y.13(7,d[di],di,1i):X.13(7,d,d[di],di,1i,8r,"2B"))||\'&46;\',\'</2f>\')}e.1l(\'\\n</24>\')}}1a e.3o(\'\')};12 i=16 i(a,b,c){12 d=[],1G=1g 0,2j=1g 0,ci=1g 0,cl=1g 0,1i=1g 0;1q(1G=0,2j=b.1u.1j;1G<2j;1G++){d.1l(\'\\n<24>\');1q(ci=0,cl=b.1u[1G].1D.1j;ci<cl;ci++){1i=b.1u[1G].1D[ci];d.1l(\'<2f \',\'1K="\'+1i.1K+\'" \',\'21="\'+1i.21+\'" \',\'>\',Z.13(7,c,1i),\'</2f>\')}d.1l(\'\\n</24>\')}1a d.3o(\'\')};12 j=[];j.1l(h.13(7,7.2F,3T,3t,1c));11(g.3G){j.1l(i.13(7,7.2F,3I,1c))}11(g.7S){}1a j.3o(\'\')};12 bi=16 bi(a,b,c){11(P.14.ax.13(7,a,b,c)){7.3g=P.14.cx.13(7,7.1c);7.2w()}};12 bj=16 bj(a,b){12 c={4A:7,1z:7.1z,1c:7.1c,3e:7.1c[a],1o:a};bf.13(7,a);11(7.1e.19.7b){7.1e.19.7b.13(c,c)}c=1v};12 bk=16 bk(a,b){12 c={4A:7,1z:7.1z,1c:7.1c,3e:7.1c[a],1o:a};bf.13(7,a);11(7.1e.19.9b){7.1e.19.9b.13(c)}c=1v};P.19={2X:V,2Z:ba,93:bb,c0:bc,96:S,c6:T,3B:bd,5Z:be,3A:bf,3w:bg,98:bh,ax:bi,4t:bj,c5:bk}})();(16(){12 b=22.47.4j;12 U=22.1S;12 c=16 c(){12 a=0,i=7.1c.1j;2R(i--){11(!("8k"1H 7.1c[i])){a+=U.4f(7.1c[i][7.1B])}}1a a};12 d=16 d(){12 a=0,i=7.1c.1j,ay=0;2R(i--){11(!("8k"1H 7.1c[i])){a+=U.4f(7.1c[i][7.1B]);ay++}}1a U.4f(a/(ay||1),{"ep":2})};b.4e={4X:c,eq:d}})();(16(){12 m=22.47.4j,U=22.1S;12 n=16 n(){};12 o=16 o(a){12 i=0,l=a.1j,4Y=[];1q(;i<l;i++){11(a[i]&&!a[i]["3V"]){11(a[i][7.1e.1U.1L]){7.3l.1l(i)}4Y.1l(1V.2q({},a[i]))}}1a 4Y};12 p=16 p(a){7.3l=[];12 i=0,l=a.1j,4Y=[],9n=0,4M=0,3x=0;11(7.1e.19.2W){12 b=U.er(7.6o.by,16(){1a{1B:7,6c:"",2W:1r,1c:[]}});12 c=0,cy=b.1j,6c=1g 0,6M=[],7F=1g 0;1q(;i<l+1;i++){c=0;11(a[i]&&a[i][7.1e.1U.4B]){7.6p.1l(a[i])}1d{6c="";6M=[];1q(;c<cy;c++){11(a[i]){6c+="$|$"+a[i][b[c].1B]}11(9n>0&&6c!=b[c].6c){12 d={3N:[],9o:[],1c:b[c].1c};1q(12 e=0;e<c+1;e++){d.3N.1l(b[e].1B);d.9o.1l(a[i-1][b[e].1B])}6M.1l(d);b[c].1c=[]}b[c].1c.1l(a[i]);b[c].6c=6c}7F=6M.1j;2R(7F--){4Y.1l({3V:1m,8k:6M[7F].1c,cd:{3N:6M[7F].3N,9o:6M[7F].9o}})}11(a[i]){11(a[i][7.1e.1U.1L]){7.3l.1l(i)}a[i]["9p"]=a[i]["7u"]=3x;4Y.1l(a[i]);4M++;9n++;3x++}}}}1d{1q(;i<l;i++){11(a[i]){11(a[i][7.1e.1U.4B]){7.6p.1l(a[i])}1d{11(a[i][7.1e.1U.1L]){7.3l.1l(i)}11(1N a[i]["9p"]==="1A"){a[i]["9p"]=3x}a[i]["7u"]=3x;4M++;3x++;4Y.1l(a[i])}}}}7.1b.4M=4M;1a 4Y};12 q=16 q(a){7.3l=[];7.6p=[];12 i=0,3m=0,9n=0,4M=0,3x=0;12 b=a.1j;12 c=7.1e.27.1U;12 d=7.1e.27.bA;12 e={};2R(b--){aw a[b][c.5R];aw a[b][c.2L]}i=0;3m=0;b=a.1j;1q(;i<b;i++){11(a[i]){e[a[i][c.9T]]=i;11(U.6a(a[i][c.6m])||a[i][c.6m]==="1y"){a[i][c.6m]="1y";a[i][c.4P]=[];a[i][c.5R]=U.6N("0",d);a[i][c.2L]=U.6N("0",d)+"."+U.6N(3m,d);a[i][c.72]=0;a[i][c.3k]=1r;3m++}}}i=0;3x=0;1q(;i<b;i++){12 f=1g 0,9q=1g 0;11(a[i]&&a[i][c.6m]!=="1y"&&1N a[i][c.5R]==="1A"){11(f=a[e[a[i][c.6m]]]){9q=f[c.2L];a[i][c.4P]=[];a[i][c.5R]=9q;a[i][c.2L]=9q+"."+U.6N(f[c.4P].1j,d);a[i][c.72]=f[c.72]+1;11(f[c.6n]||f[c.3k])a[i][c.3k]=1m;f[c.4P].1l(a[i][c.9T])}1d{a[i][c.6m]="1y";a[i][c.4P]=[];a[i][c.5R]=U.6N("0",d);a[i][c.2L]=U.6N("0",d)+"."+U.6N(3m,d);a[i][c.3k]=1r;3m++}}11(a[i]){11(a[i][7.1e.1U.4B]){7.6p.1l(a[i]);a[i][c.3k]=1m}1d 11(a[i][7.1e.1U.1L]){7.3l.1l(i)}a[i]["7u"]=3x;4M++;3x++}}7.bH=e;7.1b.4M=4M;1a a};12 r=16 r(a){12 i=0,l=a.1j,4Y=[];1q(;i<l;i++){11(a[i]&&!a[i][7.1e.27.1U.3k]){a[i].5f=i;4Y.1l(a[i])}}1a 4Y};12 s=16 s(a){12 b=1g 0;11(U.6r(a)){7.1z=1v;b=a}1d 11("1z"1H a){7.1z=1V.2q({},a.1z);b=a.1c}11(7.1e.27.3F){7.1c=q.13(7,b);7.3g=r.13(7,F.13(7,7.2d,7.1c))}1d{7.3g=1v;7.1c=p.13(7,!7.1e.8I&&7e.3N(7.2d).1j?F.13(7,7.2d,b):b)}7.3l=[];7.6p=[];7.3J=1m;7.1b.1O=7.1e.1O>7.1c.1j?7.1c.1j:7.1e.1O;7.1b.2l=1A;7.1b.3Q=1A;m.1z.5u.13(7);11(7.1e.19.2W){}1a 7};12 t=16 t(a){1a{1c:7.1c,1z:7.1z}};12 u=16 u(a){12 b=[];12 c=7.1c;12 i=0,l=c.1j;8U(a){4R"70":1q(;i<l;i++){11(c[i]&&!c[i]["3V"]&&c[i][7.1e.1U.70]){b.1l(1V.2q({},c[i]))}}2C;4R"1L":1q(;i<l;i++){11(c[i]&&!c[i]["3V"]&&c[i][7.1e.1U.1L]){b.1l(1V.2q({},c[i]))}}2C;4R"4B":b=[].3p(7.6p);2C;3f:b=m.14.79.13(7,c)}1a b};12 v=16 v(a,b,c){11(2x){7.1c=7.$.3i}12 d=7.1e.19.2W?o.13(7,7.1c):7.1c;12 e={"4v":16 4v(){d=[].3p(a).3p(d)},"3O":16 3O(){d=d.3p([].3p(a))}};11(7.1e.27.3F){12 f=7.1c.3p([].3p(a));7.1c=q.13(7,f);7.3g=r.13(7,F.13(7,7.2d,7.1c))}1d{11(1N b==="1A")b="3O";11(b 1H e){a[7.1e.1U.70]=1m;e[b].13(7,a)}1d{11(!U.5p(b)){5a\'6z 6A 5t\';}11(U.6r(a)){1q(12 g=0,94=a.1j;g<94;g++){d.3W(b+g,0,a[g])}}1d{d.3W(b,0,a)}}11(7.1e.19.2W){d=p.13(7,F.13(7,7.2d,d))}1d 11(c&&c.3u&&7e.3N(7.2d).1j){d=p.13(7,F.13(7,7.2d,d))}1d{d=p.13(7,d)}7.1c=d;11(2x){7.$.3i=7.1c}}7.3J=1m;7.1b.1O=7.1e.1O>7.1c.1j?7.1c.1j:7.1e.1O;7.1b.2l=1A;7.1b.3Q=1A;m.1z.5u.13(7);1a 7};12 w=16 w(c){11(2x){7.1c=7.$.3i}12 d=7.1e.19.2W?o.13(7,7.1c):7.1c;12 e={"4v":16 4v(){11(7.1e.27.3F){e.27.13(7,0)}1d{d.3W(0,1)}},"3O":16 3O(){11(7.1e.27.3F){e.27.13(7,d.1j-1)}1d{d.3W(d.1j-1,1)}},"1Y":16 1Y(a){11(7.1e.27.3F){e.27.13(7,a)}1d{d.3W(a,1)}},"1L":16 1L(){11(7.1e.27.3F){e.27.13(7,"1L")}1d{12 a=[],i=1g 0,l=1g 0;1q(i=0,l=d.1j;i<l;i++){11(!d[i][7.1e.1U.1L]){a.1l(d[i])}}d=a;a=1v;i=1v}},"27":16 27(a){12 b=7.1e.27.1U,2L=d[a][7.1e.27.1U.2L];d=U.4a(d,16(){1a 7[b.2L].8v(0,2L.1j)!=2L});b=1v;2L=1v}};11(1N c==="1A")c="3O";11(c 1H e){e[c].13(7,c)}1d{11(!U.5p(c)){5a\'6z 6A 5t\';}e["1Y"].13(7,c)}11(7.1e.27.3F){7.1c=q.13(7,d);7.3g=r.13(7,F.13(7,7.2d,7.1c))}1d{11(7.1e.19.2W){d=p.13(7,F.13(7,7.2d,d))}1d 11(7e.3N(7.2d).1j){d=p.13(7,F.13(7,7.2d,d))}1d{d=p.13(7,d)}7.1c=d;11(2x){7.$.3i=7.1c}}7.3J=1m;7.1b.1O=7.1e.1O>7.1c.1j?7.1c.1j:7.1e.1O;7.1b.2l=1A;7.1b.3Q=1A;m.1z.5u.13(7);1a 7};12 x=16 x(g){11(2x){7.1c=7.$.3i}12 h=7.1e.19.2W?o.13(7,7.1c):7.1c;12 j={"4v":16 4v(){11(7.1e.27.3F){j.27.13(7,0)}1d{h[0][7.1e.1U.4B]=1m}},"3O":16 3O(){11(7.1e.27.3F){j.27.13(7,h.1j-1)}1d{h[h.1j-1][7.1e.1U.4B]=1m}},"1L":16 1L(){11(7.1e.27.3F){j.27.13(7,"1L")}1d{12 i=h.1j;2R(i--){11(h[i][7.1e.1U.1L]){h[i][7.1e.1U.4B]=1m}}i=1v}},"27":16 27(a){12 b=7.1e.1U,7G=7.1e.27.1U;11(a==="1L"){12 i=h.1j;2R(i--){11(h[i][7.1e.1U.1L]){h[i][7.1e.1U.4B]=1m;12 c=h[i][7G.2L];12 d=h.1j;2R(d--){11(h[d][7G.2L].8v(0,c.1j)===c){h[d][b.4B]=1m}}c=1v;d=1v}}i=1v}1d{12 e=h[a][7G.2L];12 f=h.1j;2R(f--){11(h[f][7G.2L].8v(0,e.1j)!==e){h[f][b.4B]=1m}}e=1v;f=1v}b=1v;7G=1v}};11(1N g==="1A")g="3O";11(g 1H j){j[g].13(7,g)}1d{11(!U.5p(g)){5a\'6z 6A 5t\';}h[g][7.1e.1U.4B]=1m}11(7.1e.27.3F){7.1c=q.13(7,h);7.3g=r.13(7,F.13(7,7.2d,7.1c))}1d{11(7.1e.19.2W){h=p.13(7,F.13(7,7.2d,h))}1d 11(7e.3N(7.2d).1j){h=p.13(7,F.13(7,7.2d,h))}1d{h=p.13(7,h)}7.1c=h;11(2x){7.$.3i=7.1c}}7.3J=1m;7.1b.1O=7.1e.1O>7.1c.1j?7.1c.1j:7.1e.1O;7.1b.2l=1A;7.1b.3Q=1A;m.1z.5u.13(7);1a 7};12 y=16 y(a,b){11(!U.5p(b)){5a\'6z 6A 5t\';}7.3J=1m;7.1c.3W(b,1,a);11(7.1e.19.2W){7.1c=p.13(7,o.13(7,7.1c))}};12 z=16 z(a,b,c){12 d=7.1e.27.1U,2L=1g 0,4g=1g 0;11(1N a==="1A")1a 1r;4g=7.3g[a].5f;11(7.1c[4g][d.4P]){7.3g=[];11(c&&c.4a){11(c.4a.13({3e:7.1c[4g],1o:4g},7.1c[4g])){1q(12 e 1H b){7.1c[4g][e]=b[e]}}}1d{1q(12 f 1H b){7.1c[4g][f]=b[f]}}2L=7.1c[4g][d.2L];12 i=0,l=7.1c.1j;1q(;i<l;i++){11(7.1c[i]){11(7.1c[i][d.5R].8v(0,2L.1j)===2L){11(c&&c.4a){11(c.4a.13({3e:7.1c[i],1o:i},7.1c[i])){1q(12 g 1H b){7.1c[i][g]=b[g]}}}1d{1q(12 h 1H b){7.1c[i][h]=b[h]}}}11(!7.1c[i][d.3k]){7.3g.1l(7.1c[i])}}}1a 1m}1d{1a 1r}};12 A=16 A(a,b,c,d){12 f=B.13(7,a,b,c);12 g=7.1c;12 h=1N b==="1A"?a:b;7.3J=1m;11(f!==d){11(/[\\.\\[\\]]/.7g(c)){90{g[h][7.1e.1U.70]=1m;az("8r","7"+m.1S.9r(c)+" = 8r;").13(g[h],d)}91(e){}}1d{g[h][7.1e.1U.70]=1m;g[h][c]=d}11(7.5Y){7.5Y.13({4A:7,1c:7.1c,1o:a,1X:b,3e:7.1c[a],1B:c,2m:d})}}1a 1m};12 B=16 B(a,b,c,d){12 f=7.1c;12 g=1N b==="1A"?a:b;11(/[\\.\\[\\]]/.7g(c)){90{d=az("","1a 7"+m.1S.9r(c)+";").13(f[g])}91(e){}}1d{d=f[g][c]}1a d};12 C=16 C(){7.3l=[]};12 D=16 D(a,b,c,d){12 e=7.1e;11(1N b==="1A")b=a;11(!7.1c[b])1a 1r;11(7.1c[b].3V)1a 1r;11(7.1c[b][e.1U.6l])1a 1r;11(1N c==="1A"){11(7.1c[b][e.1U.1L]=!7.1c[b][e.1U.1L]){7.3l.1l(b)}1d{7.3l.3W(U.ao(7.3l,16(){1a 7==b}),1)}}1d{11(7.1c[b][e.1U.1L]=c){7.3l.1l(b)}1d{7.3l.3W(U.ao(7.3l,16(){1a 7==b}),1)}}11(7.5Y&&d&&d.ag){7.5Y.13({4A:7,1c:7.1c,1o:a,1X:b,3e:7.1c[b],1B:e.1U.1L,2m:7.1c[b][e.1U.1L]})}1a 7.1c[b][e.1U.1L]};12 E=16 E(a,b){12 c=7.1e,1o=7.1c.1j;7.3l=[];11(1N a==="1A"){2R(1o--){11(7.1c[1o].3V)7H;11(b&&b.4a){11(b.4a.13(7.1c[1o])!==1m){7H}}11(7.1c[1o][c.1U.6l])7H;11(7.1c[1o][c.1U.1L]=!7.1c[1o][c.1U.1L]){7.3l.1l(1o)}}}1d{2R(1o--){11(7.1c[1o].3V)7H;11(b&&b.4a){11(b.4a.13(7.1c[1o])!==1m){7H}}11(7.1c[1o][c.1U.6l])7H;11(7.1c[1o][c.1U.1L]=a){7.3l.1l(1o)}}}11(7.5Y&&b&&b.ag){7.5Y.13({4A:7,1c:7.1c})}1a 7.1c};12 F=16 F(d,f,g){12 h=7,1c=f||7.1c,4Z=[],3x=0;12 j=16 j(a,b,c){11(/[\\.\\[\\]]/.7g(b)){90{c=az("","1a 7"+m.1S.9r(b)+";").13(a)}91(e){}}1d{c=a[b]}1a c};1q(12 k 1H d){4Z[d[k].3m]={1B:k,8w:d[k].5q}}4Z=U.4a(4Z,16(){1a 1N 7!=="1A"});11(g&&g.8V&&4Z.1j===0){4Z[0]={1B:\'9p\',8w:"6s"}}12 i=0,l=4Z.1j,6d=1g 0,6e=1g 0;1c.3u(16(a,b){1q(i=0;i<l;i++){6d=j(a,4Z[i].1B);6e=j(b,4Z[i].1B);11((1N 6d==="1A"?"1A":9E(6d))!==(1N 6e==="1A"?"1A":9E(6e))){6d=\'\'+6d;6e=\'\'+6e}11(6d<6e){1a 4Z[i].8w==="6s"?-1:1}1d 11(6d>6e){1a 4Z[i].8w==="6s"?1:-1}}});11(g&&g.8V){i=0,l=1c.1j,3x=0;1q(;i<l;i++){11(f[i]&&!f[i]["3V"]){f[i]["7u"]=3x++}}}11(f){1a 1c}1d{7.1b.1O=7.1e.1O>7.1c.1j?7.1c.1j:7.1e.1O;7.1b.2l=1A;7.1b.3Q=1A;m.1z.5u.13(7);1a 7}};12 G=16 G(a,b){12 c=7;11(7.1e.27.3F){12 d=7.1c.3p([].3p(a));7.1c=q.13(7,d);7.3g=r.13(7,F.13(7,7.2d,7.1c));d=1v}1d{7.1c=7.1c.3p([].3p(a))}7.8G=1m;m.1z.ar.13(7);11(7.8F){11(c.7R<7.1e.9N/10){es(7.8F);c.7R++}1d{c.7R=0;H.13(c);b();1a 1r}}7.8F=a6(16(){c.7R=0;H.13(c);b()},7.1e.9N)};12 H=16 H(){7.8G=1r;11(7.1e.19.2W){7.1c=p.13(7,F.13(7,7.2d,7.1c))}1d{7.1c=p.13(7,7.1c)}7.3J=1m;7.1b.1O=7.1e.1O>7.1c.1j?7.1c.1j:7.1e.1O;7.1b.2l=1A;7.1b.3Q=1A;m.1z.5u.13(7)};12 I=16 I(a,b,c){12 d=7.1e.27.1U,2L=1g 0,4g=1g 0;11(1N a==="1A")1a 1r;4g=7.3g[a].5f;11(7.1c[4g][d.4P]){7.3g=[];11(1N c=="1A"){c=!(7.1c[4g][d.6n]||1r)}7.1c[4g][d.6n]=c;2L=7.1c[4g][d.2L];12 i=7.1c.1j;2R(i--){11(7.1c[i]){11(7.1c[i][d.5R].8v(0,2L.1j)===2L){7.1c[i][d.3k]=c}11(!7.1c[i][d.3k]){7.3g.1l(7.1c[i])}}}1a 1m}1d{1a 1r}};m.14={2X:n,bY:s,3y:t,a9:u,cx:r,60:A,5x:B,7h:C,2O:D,97:E,bZ:v,6y:w,aa:x,86:y,c1:z,3u:F,a0:p,79:o,4S:G,ax:I}})();(16(){12 h=22.47.4j;12 U=22.1S;12 i=16 i(s){1a 6t.et(eu(ev(s)))};12 j="14:ew/ex.ey-7j;ez,";12 k=16 k(){1a"\\eA\\n{{#7I}}{{{19}}}{{/7I}}\\n"};12 l=16 l(c,d){12 e=1g 0,a=1g 0,7J=1g 0,7I=[].3p(c);7J=22.aA.cz(k(),{eB:16(){12 b=[];7I.4H(16(t,a){b.1l({4d:"eC"+(a+1)})});1a b}(),7I:16(){12 b=[];7I.4H(16(t,a){b.1l({19:t})});1a b}()});12 f=6U.9G.8D("eD")>-1,cA=!f&&6U.9G.8D("eE")>-1,2x=/*@eF!@*/1r||!!2M.eG;12 g=1g 0,9s=1g 0,$4y=1g 0,4y=1g 0,6O=1g 0;11(6U.cB){g=6F aB([7J],{2A:"2B/5V"});6t.6U.cB(g,d)}1d 11(cA){9s=6t.8x(\'eH:eI\',7.43+\'-7j-87\',\'1I=eJ,1s=eK\');9s.2M.cC(7J);9s=1v}1d{11(2x&&1N aB==="1A"){$4y=1V(\'<4y 43="\'+7.43+\'-7j-87" 28="6k:89"></4y>\');1V(2M.19).4S($4y);4y=6t[7.43+\'-7j-87\'];4y.2M.8x("2B/5V","8j");4y.2M.cC(7J);4y.2M.8u();4y.59();4y.2M.bW("eL",1m,d);$4y.6y()}1d{6O=2M.19.eM(2M.eN("a"));11("cD"1H 6O){6O.cD=d;6O.eO=eP.eQ(6F aB([7J],{2A:\'2B/eR\'}));6O.4t();2M.19.eS(6O)}}}1a 1m};h.7j={87:l}})();(16(){12 b=22.47.4j;12 U=22.1S;12 c=16 c(){11(1N 7.2m!=="1A"){12 a=(\'\'+7.2m).8j(/[^0-9^\\.^\\-]/g,""),aC=6F eT(\'([0-9])([0-9][0-9][0-9][,.])\'),5H=a.aD(\'.\'),eU=1g 0;5H[0]+=\'.\';do{5H[0]=5H[0].8j(aC,\'$1,$2\')}2R(aC.7g(5H[0]));1a 5H.1j>1?5H[0]+U.1t(5H[1],2):5H[0].aD(\'.\')[0]}1d{1a""}};b.32={4p:c}})();(16(){12 s=22.47.4j;12 U=22.1S;12 t={"23":16 23(b,c){12 d=7;12 f=$(b);12 g=f.9t().1t;12 h=d.$["2k"]["4E"].9t().1t;d.1b.95=c;12 i={2Q:-d.1E[c].3d+2,6C:d.$["2k"]["4E"].1I()-d.1E[c].3d};1V(2M.19).48(s.1S.50["62"]+".17-"+7.2u,16(e){12 a=s.1S.51(e);d.1b.4z=a.6f-d.1b.5I.6f;11(i.2Q>d.1b.4z){d.1b.4z=i.2Q}1d 11(i.6C<d.1b.4z){d.1b.4z=i.6C}11(!d.1b.aE){d.$["4Q"]["2a"].9H("cE")}d.1b.aE=1m;d.$["4Q"]["2a"].2h({1t:g+d.1b.4z-h})}).48(s.1S.50["63"]+".17-"+7.2u,16(e){t.31.13(d);U.3n(e)}).48("7m.17-"+7.2u,16(e){t.31.13(d);U.3n(e)});1V(2M.19).1Q(\'64\',\'23\').2h(\'65-2O\',\'89\').23(\'66\',1r)},"31":16 31(){7.$["4Q"]["2a"].eV("cE");7.1b.aE=1r;11(1N 7.1b.4z==="1A"){}1d{7.c2(7.1E[7.1b.95].3d+7.1b.4z,7.1b.95)}1V(2M.19).7K(s.1S.50["62"]+".17-"+7.2u).7K(s.1S.50["63"]+".17-"+7.2u).7K("7m.17-"+7.2u);1V(2M.19).7k(\'64\').2h(\'65-2O\',\'7n\').31(\'66\')}};12 u=16 u(){12 c=7;7.$["2k"]["1J"].23("4t",\'[14-17-1h-1Q]\',16(e){12 a=7.2b("14-17-1h-1B"),1f=7.2b("14-17-1h-4b"),1i=c.1E[1f];11(a==="aF"&&c.1e.1J.9P){12 b=7.2b("14-17-1L");b=U.6a(b)?1m:b!=="1m";$(7).1Q("14-17-1L",b);c.97({1L:b});b=1v}1d{11(a&&1i&&1i.6j!==1r&&!1i.bN){11(1i.6j===1m||c.1e.6j===1m){z.13(c,1i.1B)}}}s.19.5Z.13(c);a=1v;1f=1v;1i=1v});7.$["2k"]["1J"].23("7r",\'[14-17-1h-4Q]\',16(e){12 a=7.2b("14-17-1h-4Q");c.1b.5I=s.1S.51(e);t.23.13(c,7,2s(a));U.3n(e);a=1v}).23("9d",16(e){U.3n(e);1a 1r});v.13(7)};12 v=16 v(){12 e=7.1e,aG=s.1S.8e(7.5U,7.1b.2v);7.cF=16(a){12 b=[];12 c={1u:[]};1q(12 i=0,l=a.1u.1j;i<l;i++){c.1u[i]={1D:[]};11(i===0){12 d={3j:"",1K:1,21:a.1u.1j,1f:1v},3Y={};11(e.6V){3Y=1V.2q({},d,{1I:e.5m,3d:e.5m,45:"3x",1B:"eW",3j:"&46;"});b.1l(3Y);c.1u[i].1D.1l(3Y)}11(e.6W){3Y=1V.2q({},d,{1I:e.5n,3d:e.5n,45:"6E",1B:"aF",3j:""});b.1l(3Y);c.1u[i].1D.1l(3Y)}d=1v}}7.8o=b;1a c}.13(7,7.5U);7.7U=aG.8h;7.6q=aG.8i};12 w=16 w(a){1a a.1B==="aF"?7.1e.1J.9P?"<1w 3b=\\"cb\\" 28=\\"6C-1s: "+(a.1I-10)+"1R;2Q-1s: "+(a.1I-10)+"1R;\\"></1w>":"&46;":a.3j||"&46;"};12 x=16 x(o){12 p=7.1e,1E=7.1E;11(o){v.13(7);7.1b.2l=1A;7.1b.3Q=1A}12 q=7.cF,7U=7.7U,6q=7.6q,cG=p.1J.2w;7.4K=1E.4x(0,7.1e.2v);7.2F=1E.4x(7.1e.2v);12 r=16 r(d,e,f){12 g=0,1M=[];1M.1l(\'<2z 7i="0" 8m="0" 8n="0">\');1M.1l(\'<5h>\');1q(12 h=0,3q=e.1j;h<3q;h++){11(h==3q-1){1M.1l(\'<1i 28="1I:5l%;"  />\')}1d{1M.1l(\'<1i 28="1I:\'+e[h].3d+\'1R;"  />\')}g+=e[h].3d}1M.1l(\'<1i  />\');1M.1l(\'</5h>\');1q(12 i=0,2j=f.1u.1j;i<2j;i++){12 j="";1M.1l(\'<24 3b="\'+j+\'">\');1q(12 k=0,cl=f.1u[i].1D.1j;k<cl;k++){12 l=f.1u[i].1D[k];12 m=p.1J.29*l.21-p.1J.2c;12 n=cG||l.2w;1M.1l(\'<2f \',\'14-17-1h-1Q="\'+(l.45||"3f")+\'" \',\'14-17-1h-2D="\'+i+\'" \',\'14-17-1h-1i="\'+k+\'" \',16(){1a 1N l.1B!=="1A"?\'14-17-1h-1B="\'+l.1B+\'" \':\'\'}(),\'14-17-1h-4b="\'+l.1f+\'" \',\'14-17-1h-4n="\'+l.1n+\'" \',\'1K="\'+l.1K+\'" \',\'21="\'+l.21+\'" \',\'3b="\'+16(a){12 b="";11(a.9u){11(U.3L(a.9u)){b+=a.9u.13({1h:a,1B:a.1B})+" "}1d{b+=a.9u+" "}}11(p.1J.2c)b+="5C ";11(k==cl-1)b+="5D ";1a b}.13(7,l)+\'" \',\'28="1s: \'+m+\'1R;2Q-1s: 41;">\');1M.1l(16(){12 a=p.1J.29-p.1J.4N*2-p.1J.2c;1a\'<2E 14-17-5E="" \'+(n?\'14-17-2B-2w="\'+n+\'"\':\'\')+\' 28="1s: \'+(p.1J.29-p.1J.2c)+\'1R;4W-1s: \'+a+\'1R;">\'}(),16(){12 a="";11(!U.6a(l.1B)&&!U.6a(l.1f)&&(p.6j===1m||l.6j===1m)&&l.6j!==1r){a+=\'<2E 14-17-1h-3u="\'+l.1f+\'" 14-17-1h-3u-8w="\'+(1E[l.1f].3u||"")+\'" />\'}1a a}(),w.13(7,l),\'</2E>\');11(!U.6a(l.1f)){11(p.eX){1M.1l(\'<2E 14-17-1h-4a="\'+l.1f+\'" 14-17-1h-4a-2m=""  />\')}}1M.1l(\'</2f>\')}1M.1l(\'<2f \',\'14-17-1h-2D="1v" \',\'14-17-1h-1i="1v" \',\'28="1s: \'+p.1J.29+\'1R;2Q-1s: 41;" \',\'></2f>\');1M.1l(\'</24>\')}1M.1l(\'</2z>\');d.5V(1M.3o(\'\'));(16(){12 a=p.1J.29*f.1u.1j-p.1J.2c,aH=0,aI=[];1q(12 b=0,3q=e.1j;b<3q;b++){12 c=e[b];11(!U.6a(c.1f)){aH+=c.3d;aI.1l(\'<1w 14-17-1h-4Q="\'+c.1f+\'" 28="1s:\'+a+\'1R;1t: \'+(aH-4)+\'1R;"  />\')}}d.4S(aI)}).13(7);1a g};11(p.4G>0){r.13(7,7.$.1p["2y-1J"],7.8o,q)}11(p.2v>0){r.13(7,7.$.1p["1t-1J"],7.4K,7U)}7.1b.5S=r.13(7,7.$.1p["1J-1P"],7.2F,6q);11(p.7S){}};12 y=16 y(a){7.$.1p["1J-1P"].2h(a);1a 7};12 z=16 z(a){12 b="",2d={},3m=0;1q(12 k 1H 7.2d){11(7.2d[k].9Y){2d[k]=7.2d[k];3m++}}1q(12 i=0,l=7.1E.1j;i<l;i++){11(7.1E[i].1B==a){11(b==""){11(1N 7.1E[i].3u==="1A"){b="cH"}1d 11(7.1E[i].3u==="cH"){b="6s"}1d{b=1A}}7.1E[i].3u=b}1d 11(!7.1e.eY){7.1E[i].3u=1A}11(1N 7.1E[i].3u!=="1A"){11(!2d[7.1E[i].1B]){2d[7.1E[i].1B]={3m:3m++,5q:7.1E[i].3u}}}}7.c3(2d);1a 7};12 A=16 A(a){1q(12 i=0,l=7.1E.1j;i<l;i++){1q(12 b 1H a){11(7.1E[i].1B==b){7.1E[i].3u=a[b].5q}}}1a 7};12 B=16 B(a){s.14.2O.13(7,1o,a&&a.1L);s.19.96.13(7,["1L"],1o)};12 C=16 C(){12 g=7.1e,1E=7.1E,6q=7.5U,aJ=16 aJ(a,b){12 c=[];1q(12 d=0,2j=b.1u.1j;d<2j;d++){c.1l(\'<24>\');1q(12 e=0,cl=b.1u[d].1D.1j;e<cl;e++){12 f=b.1u[d].1D[e];c.1l(\'<2f \',\'1K="\'+f.1K+\'" \',\'21="\'+f.21+\'" \',\'>\',w.13(7,f),\'</2f>\')}c.1l(\'</24>\')}1a c.3o(\'\')};1a aJ.13(7,1E,6q)};s.1J={2X:u,2Z:x,3B:y,eZ:z,c4:A,98:C}})();(16(){12 o=22.47.4j;12 p={5G:1m,5e:"5y",3P:16 3P(a,b,c,d){11(1N c.5J!=="1A"){12 e="";1q(12 k 1H c.5J){e+=" "+k+"=\'"+c.5J[k]+"\'"}}1a"<9v 2A=\\"2B\\" 14-17-1Z=\\"2B\\" 2m=\\""+d+"\\" "+e+">"},2X:16 2X(a,b,c,d,e){12 f;d.4S(f=1V(7.3P(a,b,c,e)));7.4h(a,b,f,c,d,e);f.23("5Z",16(){o.19.3w.4c.13(a,"2N",b)});1a f},4h:16 4h(a,b,c,d,e,f){c.59().2O()}};12 q={5G:1m,5e:"5y",3P:16 3P(a,b,c,d){12 e="";11(1N c.5J!=="1A"){1q(12 k 1H c.5J){e+=" "+k+"=\'"+c.5J[k]+"\'"}}1a\'<9v 2A="2B" 14-17-1Z="4p" 2m="\'+d+\'" \'+e+\'" />\'},2X:16 2X(a,b,c,d,e){12 f=1g 0;d.4S(f=1V(7.3P(a,b,c,e)));7.4h(a,b,f,c,d,e);f.23("5Z",16(){o.19.3w.4c.13(a,"2N",b)});1a f},4h:16 4h(a,b,c,d,e,f){c.14("8s-8t","cI");c.cJ($.2q(1m,{aK:"4p"},d.1e));c.59().2O()}};12 r={5G:1m,5e:"5y",3P:16 3P(a,b,c,d){12 e="";11(1N c.5J!=="1A"){1q(12 k 1H c.5J){e+=" "+k+"=\'"+c.5J[k]+"\'"}}1a\'<9v 2A="2B" 14-17-1Z="4f" 2m="\'+d+\'" \'+e+\'" />\'},2X:16 2X(a,b,c,d,e){12 f;d.4S(f=1V(7.3P(a,b,c,e)));7.4h(a,b,f,c,d,e);f.23("5Z",16(){o.19.3w.4c.13(a,"2N",b)});1a f},4h:16 4h(a,b,c,d,e,f){c.14("8s-8t","cI");c.cJ($.2q(1m,{aK:"4f"},d.1e));c.59().2O()}};12 s={5G:1m,5e:"5y",3P:16 3P(a,b,c,d){1a\'<9v 2A="2B" 14-17-1Z="f0" 2m="\'+d+\'" >\'},2X:16 2X(a,b,c,d,e){12 f;d.4S(f=1V(7.3P(a,b,c,e)));7.4h(a,b,f,c,d,e);1a f},4h:16 4h(a,b,c,d,e,f){12 g=a;c.14("8s-8t","9m");c.9m($.2q(1m,{cK:"7n",f1:{2A:\'9w\',32:{aK:\'9w\'}},7a:16 7a(){11(7.6D=="8x"){7.4A.f2.1Q("14-17-7c-a2-a3","9w")}1d 11(7.6D=="8u"){o.19.3w.4c.13(g,"2N",b)}}},d.1e));c.59().2O()}};12 t={5G:1r,5e:"5y",3P:16 3P(a,b,c,d){12 e=[];e.1l(\'<1w 14-6b="17-1Z" 14-6b-1e="{}">\');e.1l(\'</1w>\');1a e.3o(\'\')},2X:16 2X(a,b,c,d,e){12 f;d.4S(f=1V(7.3P(a,b,c,e)));7.4h(a,b,f,c,d,e);1a f},4h:16 4h(a,b,c,d,e,f){12 g={1U:{aL:"2m",f3:"2B",cL:"1L"}};1V.2q(1m,g,d.1e);g.aM.4H(16(n){11(n[g.1U.aL]==f)n[g.1U.cL]=1m});12 h=a;c.14("8s-8t","6b");c.6b($.2q(1m,{f4:1,cK:"7n",1U:g.1U,aM:g.aM,7a:16 7a(){11(7.6D=="8x"){7.4A.f5.1Q("14-17-7c-a2-a3","2O")}1d 11(7.6D=="f6"){o.19.3w.4c.13(h,"2N",b,7.2m[0][g.1U.aL])}1d 11(7.6D=="8u"){o.19.3w.4c.13(h,"4u",b)}}},d.1e));c.6b("8x");c.6b("60",f);c.1F("a").59()}};12 u={5e:"7c",3P:16 3P(a,b,c){12 d=a.1e.19.29-a.1e.19.4N*2-a.1e.19.2c;12 e;11(b.1e&&b.1e.4U){e=c==b.1e.4U?"1m":"1r"}1d{e=c==1r||c=="1r"||c<"1"?"1r":"1m"}12 f={aN:2,1s:d-4};1V.2q(1m,f,b.1e);f.aN=(d-f.1s)/2;1a\'<1w 14-17-1Z="7p" 14-17-5c="\'+e+\'" 28="1s:\'+f.1s+\'1R;1I:\'+f.1s+\'1R;6P-1y:\'+f.aN+\'1R;"></1w>\'}};12 v={5G:1r,5e:"5y",aO:16 aO(a,b,c,d){1a"<1w 14-17-1Z=\\"5K\\"></1w>"},aP:16 aP(a,b,c,d,f,g){12 h=c.9t();12 i={1I:c.1I()};12 j=f7;12 k=30;12 l=1V("<1w 14-17-5y=\\"5K\\" 28=\\"z-1Y: f8;\\">\\n    <5K 28=\\"1I:5l%;1s:"+(j-k)+"1R;\\" 3b=\\"7X-ah\\">"+g+"</5K>\\n    <1w 28=\\"1s:"+k+"1R;5A:f9;2B-2w: 2t;\\">\\n        <42 3b=\\"cM cM-3f\\">fb</42>\\n    </1w>\\n</1w>");12 m=l.1F("5K");l.2h({3C:"fc",1t:h.1t,1y:h.1y,1I:i.1I,1s:j});l.1F("5K");1V(2M.19).4S(l);m.59().2O();m.23("5Z",16(e){o.19.3w.4c.13(a,"2N",b,7.2m);l.6y();22.1S.3n(e.3v)});m.23("57",16(e){11(e.3M==22.3z.4m.4u){o.19.3w.4c.13(a,"4u",b);l.6y();22.1S.3n(e.3v)}})},2X:16 2X(a,b,c,d,e){12 f=1g 0;d.4S(f=1V(7.aO(a,b,c,e)));7.aP(a,b,f,c,d,e);1a f}};o.3Z={"2B":p,"4p":q,"4f":r,"9w":s,"2O":t,"7p":u,"5K":v}})();(16(){12 k=22.47.4j;12 U=22.1S;12 m=16 m(b){12 c=16 c(a){11(7.1z.52!=a){7.1z.2Y=a;11(7.1e.1z.9Q){7.1e.1z.9Q.13({4A:7,1z:7.1z,14:7.14})}}};12 d={"4v":16 4v(){c.13(7,0)},"aQ":16 aQ(){12 a=7.1z.52-1;11(a<0)a=0;c.13(7,a)},"aR":16 aR(){12 a=7.1z.52+1;11(a>7.1z.6g-1)a=7.1z.6g-1;c.13(7,a)},"3O":16 3O(){c.13(7,7.1z.6g-1)}};11(b 1H d){d[b].13(7)}1d{c.13(7,b-1)}};12 n=16 n(){12 b=7;12 c=2P.58(7.$.3i.1j/7.$.2r);11(2x){12 d=(7.$.2Y*7.$.2r)+1;12 e=(7.$.2Y+1)*7.$.2r;12 f=7.$.3i.1j;11(e>f){e=f}12 g=7.$.2r;11(c<2){g=f}12 h=22.47.4j;h.aS=16(){1a"<2E> "+d+" - "+e+" cN "+g+" &46; cO "+f+"</2E>"}}11(7.$.2Y!=0&&7.1c.1j>0&&7.$.2Y>c-1){7.54(7.$.2Y-1);1a}7.1z={52:7.$.2Y,8y:7.$.2r,5i:7.$.3i.1j,6g:c};11(c<2){7.1z=1v}11(7.1z){12 i={9x:1r,52:7.1z.52,8y:7.1z.8y,5i:7.1z.5i,6g:7.1z.6g,6Y:7.1e.1z.6Y,8K:7.1e.1z.8K||"",8L:7.1e.1z.8L||"",6Z:7.1e.1z.6Z};12 j=7.1e.1z.bv;i["@5P"]=16(){12 a=[],53=1g 0,5L=1g 0;53=i.52-2P.8d(j/2);11(53<0)53=0;5L=i.52+j;11(5L>i.6g)5L=i.6g;11(5L-53>j){5L=53+j}11(5L-53<j){53=5L-j}11(53<0)53=0;1q(12 p=53,l=5L;p<l;p++){a.1l({\'aT\':p+1,\'1L\':i.52==p})}1a a}();11(i["@5P"].1j>0){i.9x=1m}7.$["1z"]["56"].5V(h.7W.3y("cP",i));7.$["1z"]["56"].1F("[14-17-1z-6Q]").23("4t",16(){m.13(b,7.2b("14-17-1z-6Q"))})}1d{7.$["1z"]["56"].5v()}};12 o=16 o(){11(!7.1e.1z.bu){1a}12 a=1g 0,aU=2P.2Q(7.1b.5B,7.1b.4V);12 b={};a=7.1b.3Q+aU;11(a>7.1b.5B){a=7.1b.5B}b.cQ=U.4f(7.1b.3Q+1,{"4p":1m});b.cR=U.4f(a,{"4p":1m});b.5i=1r;b.4M=7.1b.5B!==7.1b.4M?U.4f(7.1b.4M,{"4p":1m}):1r;b.5B=U.4f(7.1b.5B,{"4p":1m});b.cS=7.8G?7.1e.bq:"";11(7.1z){b.fd=U.4f(7.1b.3Q+7.1z.52*7.1z.8y+1,{"4p":1m});b.aV=U.4f(7.1b.3Q+aU+7.1z.52*7.1z.8y,{"4p":1m});b.5i=U.4f(7.1z.5i,{"4p":1m});11(b.aV>7.1z.5i){b.aV=7.1z.5i}}7.$["1z"]["8O"].5V(k.7W.3y("aS",b))};k.1z={5u:n,ar:o}})();(16(){12 i=22.47.4j;12 U=22.1S;12 j={"2g":16 2g(a,b){12 c=b.2J-b.2U,7L=b.4q-b.3r,1y=c*a.1y/7L;11(1y<0)1y=0;1d 11(c<1y){1y=c}1a{1y:-1y}},"2a":16 2a(a,b){12 c=b.2K-b.2V,7M=b.3E-b.3s,1t=c*a.1t/7M;11(1t<0)1t=0;1d 11(c<1t){1t=c}1a{1t:-1t}}};12 k={"2g":16 2g(a,b){12 c=7,2A="2g",2J=b.2J-b.2U,7L=b.4q-b.3r,1y=7L*a/2J,6R=1g 0;11(-1y>7L){1y=-7L;6R=j[2A].13(7,{1y:-1y},{2K:b.2K,2J:b.2J,2V:b.2V,2U:b.2U,3E:b.3E,4q:b.4q,3r:b.3r,3s:b.3s});i.19.3B.13(c,6R)}1a-1y},"2a":16 2a(a,b){12 c=7,2A="2a",2K=b.2K-b.2V,7M=b.3E-b.3s,1t=7M*a/2K,6R=1g 0;11(-1t>7M){1t=-7M;6R=j[2A].13(7,{1t:-1t},{2K:b.2K,2J:b.2J,2V:b.2V,2U:b.2U,3E:b.3E,4q:b.4q,3r:b.3r,3s:b.3s});i.1J.3B.13(c,6R);i.19.3B.13(c,6R)}1a-1t}};12 l={"4t":16 4t(c,d,f,e){11(6F aW().aX()-i.1C.aY<20){1a 1r}12 g=7,aZ=c.9t(),5j={1I:d.7C(),1s:d.9y()},5k={1I:c.7Y(),1s:c.76()},4q=g.$["1C"]["2g"].76(),2U=g.$["1p"]["19"].1s(),3E=g.$["1C"]["2a"].7Y(),2V=g.$["1p"]["19"].1I(),2J=g.1b.5o,2K=g.1b.5S,3r=g.$["1C"]["2g-3h"].9y(),3s=g.$["1C"]["2a-3h"].7C(),9z={"2g":16 2g(e){12 a=i.1S.51(e);12 b=a.7N-aZ.1y;11(b<0){b=0}1d 11(b+5j.1s>5k.1s){b=5k.1s-5j.1s}1a{1y:b}},"2a":16 2a(e){12 a=i.1S.51(e);12 b=a.6f-aZ.1t;11(b<0){b=0}1d 11(b+5j.1I>5k.1I){b=5k.1I-5j.1I}1a{1t:b}}},2h=9z[f](e);d.2h(2h);12 h=j[f].13(g,2h,{2K:2K,2J:2J,2V:2V,2U:2U,3E:3E,4q:4q,3r:3r,3s:3s});11(f==="2a")i.1J.3B.13(g,h);i.19.3B.13(g,h);h=1v},"23":16 23(c,d,f,e){12 g=7,b0=d.3C(),5j={1I:d.7C(),1s:d.9y()},5k={1I:c.7Y(),1s:c.76()},4q=g.$["1C"]["2g"].76(),2U=g.$["1p"]["19"].1s(),3E=g.$["1C"]["2a"].7Y(),2V=g.$["1p"]["19"].1I(),2J=g.1b.5o,2K=g.1b.5S,3r=g.$["1C"]["2g-3h"].9y(),3s=g.$["1C"]["2a-3h"].7C(),9z={"2g":16 2g(e){12 a=i.1S.51(e);g.1b.4z=a.7N-g.1b.5I.7N;12 b=b0.1y+g.1b.4z;11(b<0){b=0}1d 11(b+5j.1s>5k.1s){b=5k.1s-5j.1s}1a{1y:b}},"2a":16 2a(e){12 a=i.1S.51(e);g.1b.4z=a.6f-g.1b.5I.6f;12 b=b0.1t+g.1b.4z;11(b<0){b=0}1d 11(b+5j.1I>5k.1I){b=5k.1I-5j.1I}1a{1t:b}}};g.1b.4z=0;1V(2M.19).48(i.1S.50["62"]+".17-"+7.2u,16(e){12 a=9z[f](e);d.2h(a);12 b=j[f].13(g,a,{2K:2K,2J:2J,2V:2V,2U:2U,3E:3E,4q:4q,3r:3r,3s:3s});11(f==="2a")i.1J.3B.13(g,b);i.19.3B.13(g,b)}).48(i.1S.50["63"]+".17-"+7.2u,16(e){l.31.13(g,e)}).48("7m.17-"+7.2u,16(e){l.31.13(g,e)});1V(2M.19).1Q(\'64\',\'23\').2h(\'65-2O\',\'89\').23(\'66\',1r)},"31":16 31(e){22.1S.3n(e.3v);i.1C.aY=6F aW().aX();1V(2M.19).7K(i.1S.50["62"]+".17-"+7.2u).7K(i.1S.50["63"]+".17-"+7.2u).7K("7m.17-"+7.2u);1V(2M.19).7k(\'64\').2h(\'65-2O\',\'7n\').31(\'66\')}};12 m={"b1":16 b1(a){12 b=7,7O=b.$["1p"]["19-1P"].3C(),2U=b.1b.9A,2V=b.1b.9B,2J=b.1b.5o,2K=b.1b.5S;11(84(2J)||84(2K)){1a 1r}12 c=1g 0,3S=1g 0,8z=1r,8A=1r;c=7O.1t-a.x;3S=7O.1y-a.y;11(3S>=0){3S=0;8z=1m}1d 11(3S<=2U-2J){3S=2U-2J;11(3S>=0)3S=0;8z=1m}1d{11(a.y==0)8z=1m}11(c>=0){c=0;8A=1m}1d 11(c<=2V-2K){c=2V-2K;11(c>=0)c=0;8A=1m}1d{11(a.x==0)8A=1m}i.1J.3B.13(b,{1t:c});i.19.3B.13(b,{1t:c,1y:3S},{7t:16 7t(){o.13(b)}});1a!8z||!8A},"23":16 23(){12 b=7,7O=b.$["1p"]["19-1P"].3C(),2U=b.1b.9A,2V=b.1b.9B,2J=b.1b.5o,2K=b.1b.5S,9C=16 9C(e){12 a=i.1S.51(e),5M=1g 0,3S=1g 0;b.1b.b2=a.6f-b.1b.5I.6f;b.1b.b3=a.7N-b.1b.5I.7N;5M=7O.1t+b.1b.b2;3S=7O.1y+b.1b.b3;11(3S>=0){3S=0}1d 11(3S<=2U-2J){3S=2U-2J;11(3S>=0)3S=0}11(5M>=0){5M=0}1d 11(5M<=2V-2K){5M=2V-2K;11(5M>=0)5M=0}1a{1t:5M,1y:3S}};7.1b.b2=0;7.1b.b3=0;7.1b.9c=1r;1V(2M.19).23("b4"+".17-"+7.2u,16(e){12 a=9C(e);o.13(b);i.1J.3B.13(b,{1t:a.1t});i.19.3B.13(b,a,{7s:"7s"});U.3n(e.3v);b.1b.9c=1m}).23("b5"+".17-"+7.2u,16(e){11(b.1b.9c){12 a=9C(e);o.13(b);i.1J.3B.13(b,{1t:a.1t});i.19.3B.13(b,a);U.3n(e.3v);m.31.13(b)}});1V(2M.19).1Q(\'64\',\'23\').2h(\'65-2O\',\'89\').23(\'66\',1r)},"31":16 31(){1V(2M.19).31("b4"+".17-"+7.2u).31("b5"+".17-"+7.2u);1V(2M.19).7k(\'64\').2h(\'65-2O\',\'7n\').31(\'66\')}};12 n=16 n(){12 a=7,6P=7.1e.1C.bz;11(6P==0){7.$["1C"]["2g-3h"].2h({1I:7.1e.1C.4O,1t:-1});7.$["1C"]["2a-3h"].2h({1s:7.1e.1C.4O,1y:-1})}1d{7.$["1C"]["2g-3h"].2h({1I:7.1e.1C.4O-(6P+1),1t:6P/2});7.$["1C"]["2a-3h"].2h({1s:7.1e.1C.4O-(6P+1),1y:6P/2})}7.$["1C"]["2g-3h"].23(i.1S.50["7r"],16(e){7.1b.5I=i.1S.51(e);l.23.13(7,7.$["1C"]["2g"],7.$["1C"]["2g-3h"],"2g",e)}.48(7)).23("9d",16(e){U.3n(e);1a 1r});7.$["1C"]["2g"].23("4t",16(e){11(e.1T.2b("14-17-1C")=="2g"){l.4t.13(7,7.$["1C"]["2g"],7.$["1C"]["2g-3h"],"2g",e)}}.48(7));7.$["1C"]["2a-3h"].23(i.1S.50["7r"],16(e){7.1b.5I=i.1S.51(e);l.23.13(7,7.$["1C"]["2a"],7.$["1C"]["2a-3h"],"2a",e)}.48(7)).23("9d",16(e){U.3n(e);1a 1r});7.$["1C"]["2a"].23("4t",16(e){11(e.1T.2b("14-17-1C")=="2a"){l.4t.13(7,7.$["1C"]["2a"],7.$["1C"]["2a-3h"],"2a",e)}}.48(7));7.$["2k"]["19"].23(\'fe ff\',16(e){12 E=e.3v,6S={x:0,y:0};11(E.cT){6S.y=E.cT*10}1d{11(1N E.cU==="1A"){6S.y=-E.fg;6S.x=0}1d{6S.y=E.cU;6S.x=E.fh}}11(m.b1.13(7,6S)){U.3n(e)}}.48(7));11(22.3z.9D){7.$["2k"]["19"].23("cV",\'[14-17-1p]\',16(e){a.1b.5I=i.1S.51(e);m.23.13(a)})}7.1b.9A=7.$["1p"]["19"].1s();7.1b.9B=7.$["1p"]["19"].1I()};12 o=16 o(){12 a;11(7.$["1C"]["2a"].1I()===0){a=7.$["1p"]["19"].1I()+40}1d{a=7.$["1C"]["2a"].1I()}12 b=7.$["1C"]["2g"].1s(),3E=a,2U=7.$["1p"]["19"].1s(),2V=7.$["1p"]["19"].1I(),2J=7.1b.5o,2K=7.1b.5S,3r=2U*b/2J,3s=2V*3E/2K;11(3r<7.1e.1C.7T)3r=7.1e.1C.7T;11(3s<7.1e.1C.7T)3s=7.1e.1C.7T;7.$["1C"]["2g-3h"].2h({1y:k.2g.13(7,7.$.1p["19-1P"].3C().1y,{2K:2K,2J:2J,2V:2V,2U:2U,3E:3E,4q:b,3r:3r,3s:3s}),1s:3r});7.$["1C"]["2a-3h"].2h({1t:k.2a.13(7,7.$.1p["19-1P"].3C().1t,{2K:2K,2J:2J,2V:2V,2U:2U,3E:3E,4q:b,3r:3r,3s:3s}),1I:3s});7.1b.9A=2U;7.1b.9B=2V;b=1v;3E=1v;2U=1v;2V=1v;2J=1v;2K=1v;3r=1v;3s=1v};i.1C={aY:6F aW().aX(),2X:n,3c:o}})();(16(){12 e=22.47.4j;12 f=16 f(){1a"<1w 14-17-2k=\\"4E\\" 14-17-bQ=\\"{{2u}}\\">\\n            <1w 14-17-2k=\\"3k\\">\\n                <5K 14-17-7X=\\"8P\\"></5K>\\n            </1w>\\n            <1w 14-17-2k=\\"1J\\">\\n                <1w 14-17-1p=\\"2y-1J\\"></1w>\\n                <1w 14-17-1p=\\"1t-1J\\"></1w>\\n                <1w 14-17-1p=\\"1J\\">\\n                    <1w 14-17-1p-1P=\\"1J\\"></1w>\\n                </1w>\\n                <1w 14-17-1p=\\"2t-1J\\"></1w>\\n            </1w>\\n            <1w 14-17-2k=\\"19\\">\\n                <1w 14-17-1p=\\"1y-2y-19\\"></1w>\\n                <1w 14-17-1p=\\"1y-1t-19\\"></1w>\\n                <1w 14-17-1p=\\"1y-19\\">\\n                    <1w 14-17-1p-1P=\\"1y-19\\"></1w>\\n                </1w>\\n                <1w 14-17-1p=\\"1y-2t-19\\"></1w>\\n                <1w 14-17-1p=\\"2y-19\\">\\n                    <1w 14-17-1p-1P=\\"2y-19\\"></1w>\\n                </1w>\\n                <1w 14-17-1p=\\"1t-19\\">\\n                    <1w 14-17-1p-1P=\\"1t-19\\"></1w>\\n                </1w>\\n                <1w 14-17-1p=\\"19\\">\\n                    <1w 14-17-1p-1P=\\"19\\"></1w>\\n                </1w>\\n                <1w 14-17-1p=\\"2t-19\\">\\n                  <1w 14-17-1p-1P=\\"2t-19\\"></1w>\\n                </1w>\\n                <1w 14-17-1p=\\"2i-2y-19\\"></1w>\\n                <1w 14-17-1p=\\"2i-1t-19\\"></1w>\\n                <1w 14-17-1p=\\"2i-19\\">\\n                    <1w 14-17-1p-1P=\\"2i-19\\"></1w>\\n                </1w>\\n                <1w 14-17-1p=\\"2i-2t-19\\"></1w>\\n            </1w>\\n            <1w 14-17-2k=\\"1z\\">\\n                <1w 14-17-1z=\\"cW\\">\\n                    <1w 14-17-1z=\\"56\\"></1w>\\n                    <1w 14-17-1z=\\"8O\\"></1w>\\n                </1w>\\n            </1w>\\n            <1w 14-17-2k=\\"1C\\">\\n                <1w 14-17-1C=\\"2g\\">\\n                    <1w 14-17-1C=\\"2g-3h\\"></1w>    \\n                </1w>\\n                <1w 14-17-1C=\\"2a\\">\\n                    <1w 14-17-1C=\\"2a-3h\\"></1w>\\n                </1w>\\n                <1w 14-17-1C=\\"74\\"></1w>\\n            </1w>\\n            <1w 14-17-4Q=\\"2g\\"></1w>\\n            <1w 14-17-4Q=\\"2a\\"></1w>\\n        </1w>"};12 g=16 g(){1a"<1w 14-17-1z-56=\\"cW\\">\\n            {{#9x}}\\n            <1w 14-17-1z-56=\\"b6\\">    \\n                {{#6Y}}<42 2A=\\"42\\" 14-17-1z-6Q=\\"4v\\">{{{6Y}}}</42>{{/6Y}}\\n                <42 2A=\\"42\\" 14-17-1z-6Q=\\"aQ\\">{{{8K}}}</42>\\n            </1w>\\n            <1w 14-17-1z-56=\\"b6-5P\\">\\n                {{#@5P}}\\n                <42 2A=\\"42\\" 14-17-1z-6Q=\\"{{aT}}\\" 14-17-1z-1L=\\"{{1L}}\\">{{aT}}</42>\\n                {{/@5P}}\\n            </1w>\\n            <1w 14-17-1z-56=\\"b6\\">\\n                <42 2A=\\"42\\" 14-17-1z-6Q=\\"aR\\">{{{8L}}}</42>\\n                {{#6Z}}<42 2A=\\"42\\" 14-17-1z-6Q=\\"3O\\">{{{6Z}}}</42>{{/6Z}}\\n            </1w>\\n            {{/9x}}\\n        </1w>"};12 h=16 h(){1a"<2E>{{{cS}}} {{cQ}} - {{cR}} cN {{5B}} {{#5i}}&46; cO {{.}}{{/5i}}</2E>"};e.7W={"9U":f,"cP":g,"aS":h,3y:16 3y(a,b,c){12 d=e.7W[a].13(7,c);22.aA.fi(d);1a 22.aA.cz(d,b)}}})();(16(){12 m=22.47.4j;12 U=22.1S;12 o=16 o(a,b){12 d={1u:[]},8B={1u:[]};1q(12 r=0,3K=a.1u.1j;r<3K;r++){12 e=a.1u[r];d.1u[r]={1D:[]};8B.1u[r]={1D:[]};1q(12 c=0,cl=e.1D.1j;c<cl;c++){12 f=1V.2q({},e.1D[c]),6h=f.1f,5N=f.1f+f.1K;11(6h<b){11(5N<=b){d.1u[r].1D.1l(f)}1d{12 g=1V.2q({},f),8C=1V.2q({},g);g.1K=b-g.1f;8C.1f=b;8C.1K=f.1K-g.1K;d.1u[r].1D.1l(g);11(8C.1K){8B.1u[r].1D.1l(8C)}}}1d{8B.1u[r].1D.1l(f)}f=1v;6h=1v;5N=1v}e=1v}1a{8h:d,8i:8B}};12 p=16 p(a,b,d){12 e={1u:[]};1q(12 r=0,3K=a.1u.1j;r<3K;r++){12 f=a.1u[r];e.1u[r]={1D:[]};1q(12 c=0,cl=f.1D.1j;c<cl;c++){12 g=1V.2q({},f.1D[c]),6h=g.1f,5N=g.1f+g.1K;11(b<=6h||5N<=d){11(b<=6h&&5N<=d){e.1u[r].1D.1l(g)}1d 11(b>6h&&5N>b){g.1K=5N-b;e.1u[r].1D.1l(g)}1d 11(5N>d&&6h<=d){e.1u[r].1D.1l(g)}}}}1a e};12 q=16 q(e){12 a=1g 0,3v=e.3v?e.3v:e;a=\'b7\'1H 3v&&3v.b7?3v.b7[0]:3v;1a{6f:a.fj,7N:a.fk}};12 s={"7r":22.3z.9D?"cV":"7r","62":22.3z.9D?"b4":"62","63":22.3z.9D?"b5":"63"};12 t=16 t(g){12 h=g,1x=7.1e,2z={1u:[]},1f=0,5O=16 5O(a,b,c){12 d={1D:[]};12 i=0,l=a.1j;12 e=1;1q(;i<l;i++){12 f=1V.2q({},a[i]);e=1;11(!f.3k){f.1K=1;f.21=1;f.1n=b;f.1f=16(){11(!c){1a 1f++}1d{1f=c.1f+i+1;1a c.1f+i}}();d.1D.1l(f);11(\'2p\'1H f){e=5O(f.2p,b+1,f)}1d{f.1I=\'1I\'1H f?f.1I:1x.bt}f.1K=e}1d{}}11(d.1D.1j>0){11(!2z.1u[b]){2z.1u[b]={1D:[]}}2z.1u[b].1D=2z.1u[b].1D.3p(d.1D);1a d.1D.1j-1+e}1d{1a e}};5O(h,0);1q(12 r=0,3K=2z.1u.1j;r<3K;r++){1q(12 c=0,cl=2z.1u[r].1D.1j;c<cl;c++){11(!(\'2p\'1H 2z.1u[r].1D[c])){2z.1u[r].1D[c].21=3K-r}}}1a 2z};12 u=16 u(j){12 k=j,2z={1u:[]},1f=0,5O=16 5O(c,d,e){12 f={1D:[]},i=0,l=c.1j,1K=1;12 g=16 g(a){12 i=0,l=a.1j;1q(;i<l;i++){12 b=1V.2q({},a[i]),b8=1;11(!b.3k){11(\'1B\'1H b){b.1K=1;b.21=1;b.1n=d;b.1f=16(){11(!e){1a 1f++}1d{1f=e.1f+i+1;1a e.1f+i}}();f.1D.1l(b);11(\'2p\'1H b){b8=5O(b.2p,d+1,b)}b.1K=b8}1d{11(\'2p\'1H b){g(b.2p,d)}}}1d{}}};1q(;i<l;i++){12 h=1V.2q({},c[i]);1K=1;11(!h.3k){11(\'1B\'1H h){h.1K=1;h.21=1;h.1n=d;h.1f=16(){11(!e){1a 1f++}1d{1f=e.1f+i+1;1a e.1f+i}}();f.1D.1l(h);11(\'2p\'1H h){1K=5O(h.2p,d+1,h)}h.1K=1K}1d{11(\'2p\'1H h){g(h.2p,d)}}}1d{}h=1v}11(f.1D.1j>0){11(!2z.1u[d]){2z.1u[d]={1D:[]}}2z.1u[d].1D=2z.1u[d].1D.3p(f.1D);1a f.1D.1j-1+1K}1d{1a 1K}};5O(k,0);(16(a){1q(12 r=0,3K=a.1u.1j;r<3K;r++){12 b=a.1u[r];1q(12 c=0,cl=b.1D.1j;c<cl;c++){12 d=b.1D[c];11(!(\'2p\'1H d)){d.21=3K-r}d=1v}b=1v}})(2z);1a 2z};12 v=16 v(c){12 d={};c.1u.4H(16(b){b.1D.4H(16(a){d[a.1n+"1W"+a.1f]=1V.2q({},a)})});1a d};12 w=16 w(a){12 b={1u:[]};1q(12 r=0,3K=a.1j;r<3K;r++){12 d=a[r],4i=0;b.1u[r]={1D:[]};1q(12 c=0,cl=d.1j;c<cl;c++){11(4i>7.1E.1j)2C;12 e=d[c].1K||1;11(d[c].3j||d[c].1B){b.1u[r].1D.1l({1K:e,21:1,1f:4i,45:"4X",2w:d[c].2w,3j:d[c].3j,1B:d[c].1B,4e:d[c].4e,32:d[c].32})}1d{b.1u[r].1D.1l({1f:4i,1K:e,21:1,3j:"&46;"})}4i+=e;e=1v}11(4i<7.1E.1j){1q(12 f=4i;f<7.1E.1j;f++){b.1u[r].1D.1l({1f:f,1K:1,21:1,3j:"&46;"})}}d=1v;4i=1v}1a b};12 x=16 x(a){12 b={1u:[]},r=0,4i=0;b.1u[r]={1D:[]};1q(12 d=0,cl=a.1j;d<cl;d++){11(4i>7.1E.1j)2C;12 e=a[d].1K||1;11(a[d].3j||a[d].1B){b.1u[r].1D.1l({1K:e,21:1,1n:0,1f:4i,45:"3f",2w:a[d].2w,3j:a[d].3j,1B:a[d].1B,4e:a[d].4e,32:a[d].32})}1d{b.1u[r].1D.1l({1n:0,1f:4i,1K:e,21:1,3j:"&46;"})}4i+=e}11(4i<7.1E.1j){1q(12 c=4i;c<7.1E.1j;c++){b.1u[r].1D.1l({1n:0,1f:c,1K:1,21:1,3j:"&46;"})}}1a b};12 y=16 y(a,b,c){12 d=1g 0,b9=1r,6T=[];11(7.1b.1O>a)6T.1l("1y");11(7.1b.2v>b)6T.1l("1t");6T.1l("19");11(7.1b.2v<=b||7.1b.1O<=a){d=6T.3o("-");6T.1l("1P");b9=1m}1a{2e:6T.3o("-"),7B:d,8p:b9}};12 z=16 z(a){12 b=[],bl=[].3p(a.aD(/[\\.\\[\\]]/g));bl.4H(16(n){11(n!=="")b.1l("[\\""+n.8j(/[\'\\"]/g,"")+"\\"]")});bl=1v;1a b.3o("")};m.1S={8e:o,7y:p,51:q,50:s,bI:t,bJ:u,9W:v,bK:w,bL:x,6K:y,9r:z}})();',62,951,'|||||||this||||||||||||||||||||||||||||||||||||||||||||||||||||||||if|var|call|data||function|ax5grid||body|return|xvar|list|else|config|colIndex|void|column|col|length|focusedColumn|push|true|rowIndex|dindex|panel|for|false|height|left|rows|null|div|cfg|top|page|undefined|key|scroller|cols|colGroup|find|tri|in|width|header|colspan|selected|SS|typeof|frozenRowIndex|scroll|attr|px|util|target|columnKeys|jQuery|_|doindex|index|editor||rowspan|ax5|on|tr|||tree|style|columnHeight|horizontal|getAttribute|columnBorderWidth|sortInfo|panelName|td|vertical|css|bottom|trl|container|paintStartRowIndex|value|inlineEditing|bodyTrHeight|columns|extend|pagingDataLength|Number|right|instanceId|frozenColumnIndex|align|isIE|aside|table|type|text|break|row|span|headerColGroup|cellHeight|colAlign|styleClass|_content_height|_content_width|selfHash|document|RETURN|select|Math|min|while|paintRowCount|multiLine|_panel_height|_panel_width|grouping|init|selectPage|repaint||off|formatter||||||||cgi|class|resize|_width|item|default|proxyList|bar|totalData|label|hidden|selectedDataIndexs|seq|stopEvent|join|concat|cgl|verticalScrollBarHeight|horizontalScrollBarWidth|bodyGroupingData|sort|originalEvent|inlineEdit|lineNumber|get|info|moveFocus|scrollTo|position|rowTable|_horizontal_scroller_width|use|footSum|selectedColumn|footSumData|needToPaintSum|rl|isFunction|which|keys|last|getHtml|virtualPaintStartRowIndex|paintEndColumnIndex|newTop|bodyRowData|focused|__isGrouping|splice|newValue|_col|inlineEditor||1px|button|id|bodyRowMap|columnAttr|nbsp|ui|bind|_column|filter|colindex|deActive|name|collector|number|originIndex|bindUI|addC|grid|leftBodyGroupingData|isHide|eventKeys|rowindex|nopaintLeftColumnsWidth|money|_vertical_scroller_height|leftBodyRowData|bodyHeight|click|ESC|first|nopaintRightColumnsWidth|slice|iframe|__da|self|deleted|isInlineEditing|leftFootSumData|root|livePanelKeys|asidePanelWidth|forEach|selectedRange|that|leftHeaderColGroup|nPanelInfo|dataRealRowCount|columnPadding|size|children|resizer|case|append|paintStartColumnIndex|trueValue|virtualPaintRowCount|line|sum|returnList|sortInfoArray|ENM|getMousePosition|currentPage|startI|setData|bodyRowTable|navigation|keydown|ceil|focus|throw|selectedClear|checked|__d|editMode|__origin_index__|bodyAlign|colgroup|totalElements|barBox|trackBox|100|lineNumberColumnWidth|rowSelectorColumnWidth|scrollContentHeight|isNumber|orderBy|pageHeight|keyDown|_dindex|navigationUpdate|empty|end|getValue|popup|indentNodeHtml|padding|dataRowCount|hasBorder|isLastColumn|cellHolder|while_i|useReturnToSave|arrNumber|mousePosition|attributes|textarea|endI|newLeft|colEndIndex|maekRows|paging|virtualScrollY|parentHash|scrollContentWidth|contextMenu|headerTable|html|verticalScrollerWidth|horizontalScrollerHeight|onDataChanged|blur|setValue|clear|mousemove|mouseup|unselectable|user|selectstart||asideBodyRowData|scrollConfig|isNothing|ax5select|compareString|_a_val|_b_val|clientX|totalPages|colStartIndex|virtualScrollX|sortable|display|disableSelection|parentKey|collapse|bodyGrouping|deletedList|headerData|isArray|asc|window|UP|DOWN|copyTextArray|_di|remove|invalid|argument|focusClear|max|state|rowSelector|new|asideBodyGroupingData|_ex|odi|innerHTML|findPanelByColumnIndex|originalColumn|appendRow|setDigit|anchor|margin|move|scrollPositon|delta|_panels|navigator|showLineNumber|showRowSelector|mergeCells|firstIcon|lastIcon|modified|icons|depth|bodyGroupingTable|corner|autoWidthColgroupIndexs|innerHeight|footSumHeight|headerHeight|clearGroupingData|onStateChanged|onClick|inline|TAB|Object|END|test|clearSelect|border|excel|removeAttr|start|mouseleave|auto|processor|checkbox|param|mousedown|noRepaint|callback|__index|_key|_label|_sx|getTableByStartEndColumnIndex|diText|sum_|containerPanelName|outerWidth|__clear|_dindex3|ari|treeKeys|continue|tables|output|unbind|_scroller_height|_scroller_width|clientY|_body_scroll_position|Symbol|KEY_END|appendDebounceTimes|rightSum|barMinSize|leftHeaderData|footSumTable|tmpl|form|innerWidth|CT_HEIGHT|frozenPanelWidth|bodyWidth|HOME|active|isNaN|999999999|update|export|grid_instance|none|cellChecked|treeControl|paintRowCountTopMargin|floor|divideTableByFrozenColumnIndex|index__|checkbox__|leftData|rightData|replace|__groupingList|abs|cellpadding|cellspacing|asideColGroup|isScrollPanel|INDEX|val|binded|ax5ui|close|substr|order|open|pageSize|_top_is_end|_left_is_end|tempTable_r|rightCol|indexOf|ctrlKeys|appendDebouncer|appendProgress|virtualScrollYCountMargin|remoteSort|aria|prevIcon|nextIcon|footSumColumns|bodyGroupingMap|status|clipboard|totalWidth|CT_INNER_WIDTH|CT_INNER_HEIGHT|frozenRowHeight|switch|resetLineNumber|onLoad|LEFT|RIGHT|_rowIndex|try|catch|reset|repaintCell|_l|columnResizerIndex|updateRowState|selectAll|getExcelString|arguments||onDBLClick|touchmoved|dragstart|__throttledScroll|disabled|trStyleClass|hasMergeTd|trMaps|UD|LR|CANCEL|ax5picker|appendIndex|labels|__original_index|_parentHash|getRealPathForDataItem|blankWindow|offset|headerStyleClass|input|date|hasPage|outerHeight|getScrollerPosition|body_panel_height|body_panel_width|getContentPosition|supportTouch|_typeof|agent|userAgent|addClass|KEY_HOME|KEY_LEFT|KEY_UP|KEY_RIGHT|KEY_DOWN|debounceTime|multipleSelect|selector|onChange|indentWidth|arrowWidth|selfKey|main|_height|makeBodyRowMap|computedWidth|fixed|hide|initData|isObject|edit|picker|shiftKey|INLINE_EDIT|setTimeout|clipBoard|copyText|getList|deleteRow|_cindex|targetClick|_default|falseValue|editorConfig|internalCall|control|targetDBLClick|dividedBodyRowObj|tnode|isScrolled|stripeString|isFootSum|search|_cl2|_rl|statusUpdate|cellholder|timeoutUnUse|inlineEditorCell|tagName|delete|toggleCollapse|listLength|Function|mustache|Blob|regExpPattern|split|columnResizerLived|__checkbox_header__|dividedHeaderObj|resizerLeft|AS|getHeader|pattern|optionValue|options|marginTop|_getHtml|_bindUI|prev|next|page_status|pageNo|rangeCount|toRowIndex_page|Date|getTime|moveout_timer|trackOffset|barOffset|wheel|__x_da|__y_da|touchmove|touchend|cell|changedTouches|_colspan|_isScrollPanel||||||||||||_path|symbol|KEY_PAGEUP|KEY_PAGEDOWN|250|appendProgressIcon|virtualScrollAccelerated|virtualScrollAcceleratedDelayTime|columnMinWidth|statusDisplay|navigationItemCount|step|caret||trackPadding|hashDigit|iconWidth|openedArrow|collapsedArrow|groupIcon|collapsedGroupIcon|itemIcon|listIndexMap|makeHeaderTable|makeBodyRowTable|makeFootSumTable|makeBodyGroupingTable|kl|sortFixed|show|findParentNode|instance|metaKey|ctrlKey|copySelect|SPACE|_colIndex|execCommand|Infinity|set|add|repaintRow|updateChild|setColumnWidth|setColumnSort|applySortStatus|dblClick|updateRowStateAll|setConfig|invaild|paintRowCountMargin|tagsToReplace|checkBox|arrow|__groupingBy|fff|eee|background|repeating||linear|gradient||to|font|disable|selection|ri|_rl2|_cl|updateWith|updateWithCell|initValue|editorValue|getProxyList|gl|render|isSafari|msSaveOrOpenBlob|write|download|live|asideHeaderData|headerAlign|desc|ax5formater|ax5formatter|direction|optionSelected|btn|of|Total|page_navigation|fromRowIndex|toRowIndex|progress|detail|deltaY|touchstart|holder|strict|iterator|constructor|prototype|toLowerCase|appName|Netscape|trident|msie|className|getGuid|theme|animateTime|headerSelect|backward|forward|__selected__|__modified__|__deleted__|__disable_selection__|pid||__hp__|__hs__||__children__|__depth__||scrollTimer|rightHeaderData|rightBodyRowData|rightBodyGroupingData|deepCopy|console|log|getError|401|error|parseJson|keyup|zA|innerText|copy|alert|clone|setInterval|clearInterval|1000|setHeight|offsetParent|addRow|appendToList|removeRow|START|updateRow|updateChildRows|addColumn|must|not|removeColumn|updateColumn|getColumnSortInfo|clickBody|DBLClickBody|exportExcel|destroy|apply|__original_index__|dblclick|contextmenu|menu|element|gridSelf|popupFilter|throttle|lt|gt|string|group|groupBy|endIndex|0px|parseInt|childNodes|merged|_dy|columnKey|SELECT|INPUT|TEXTAREA|round|avg|map|clearTimeout|btoa|unescape|encodeURIComponent|application|vnd|ms|base64|uFEFF|worksheet|Sheet|Chrome|Safari|cc_on|documentMode|about|blank|600|400|SaveAs|appendChild|createElement|href|URL|createObjectURL|csv|removeChild|RegExp|returnValue|removeClass|__index_header__|enableFilter|multiSort|toggleSort|calendar|content|activePicker|optionText|tabIndex|activeSelectOptionGroup|changeValue|150|9999|5px||OK|absolute|fromRowIndex_page|mousewheel|DOMMouseScroll|wheelDelta|deltaX|parse|pageX|pageY'.split('|'),0,{}))"use strict";!function(){var t,n=ax5.ui,i=ax5.util;n.addClass({className:"toast"},function(){var a=function(){var a,e=this,s=0,o=null;this.instanceId=ax5.getGuid(),this.config={clickEventName:"click",theme:"default",width:300,icon:"",closeIcon:"",msg:"",lang:{ok:"ok",cancel:"cancel"},displayTime:3e3,animateTime:250,containerPosition:"bottom-left"},this.toastContainer=null,this.queue=[],a=this.config;var l=function(t,n){return t&&t.onStateChanged?t.onStateChanged.call(n,n):this.onStateChanged&&this.onStateChanged.call(n,n),t=null,n=null,!0},c=function(n,i){var a={toastId:n,theme:i.theme,icon:i.icon,msg:(i.msg||"").replace(/\n/g,"<br/>"),btns:i.btns,closeIcon:i.closeIcon};try{return t.tmpl.get.call(this,"toastDisplay",a)}finally{n=null,a=null}},u=function(t,n){o&&clearTimeout(o);var u,h={width:t.width};return t.id="ax5-toast-"+e.containerId+"-"+ ++s,jQuery("#"+t.id).get(0)?this:("bottom"==i.left(a.containerPosition,"-")?this.toastContainer.append(c(t.id,t)):this.toastContainer.prepend(c(t.id,t)),u=jQuery("#"+t.id),u.css({width:h.width}),t.toastBox=u,this.queue.push(t),l.call(this,t,{self:this,state:"open",toastId:t.id}),"push"===t.toastType?(setTimeout(function(){this.close(t,n)}.bind(this),a.displayTime),u.find("[data-ax-toast-btn]").on(a.clickEventName,function(i){d.call(this,i||window.event,t,u,n)}.bind(this))):"confirm"===t.toastType&&u.find("[data-ax-toast-btn]").on(a.clickEventName,function(i){d.call(this,i||window.event,t,u,n)}.bind(this)),void(h=null))},d=function(t,n,a,e,s,o){if(s=i.findParentNode(t.target,function(t){if(t.getAttribute("data-ax-toast-btn"))return!0})){o=s.getAttribute("data-ax-toast-btn");var l={key:o,value:n.btns?n.btns[o]:o,toastId:n.id,btn_target:s};n.btns&&n.btns[o].onClick?n.btns[o].onClick.call(l,o):"push"===n.toastType?(e&&e.call(l,o),this.close(n,e)):"confirm"===n.toastType&&(e&&e.call(l,o),this.close(n,e))}t=null,n=null,a=null,e=null,s=null,o=null};this.init=function(){this.onStateChanged=a.onStateChanged,e.containerId=ax5.getGuid();var t=[];a.zIndex&&t.push("z-index:"+a.zIndex),jQuery(document.body).append('<div class="ax5-ui-toast-container '+a.containerPosition+'" data-toast-container="'+e.containerId+'" style="'+t.join(";")+'"></div>'),this.toastContainer=jQuery('[data-toast-container="'+e.containerId+'"]')},this.push=function(t,n){return e.containerId||this.init(),i.isString(t)&&(t={title:a.title,msg:t}),t.toastType="push",e.dialogConfig={},jQuery.extend(!0,e.dialogConfig,a,t),t=e.dialogConfig,u.call(this,t,n),t=null,n=null,this},this.confirm=function(t,n){return e.containerId||this.init(),i.isString(t)&&(t={title:a.title,msg:t}),t.toastType="confirm",e.dialogConfig={},jQuery.extend(!0,e.dialogConfig,a,t),t=e.dialogConfig,"undefined"==typeof t.btns&&(t.btns={ok:{label:a.lang.ok,theme:t.theme}}),u.call(this,t,n),t=null,n=null,this},this.close=function(t,n){"undefined"==typeof t&&(t=i.last(this.queue));var e=t.toastBox;return e.addClass("push"==t.toastType?"removed":"destroy"),this.queue=i.filter(this.queue,function(){return t.id!=this.id}),setTimeout(function(){var i={toastId:t.id};e.remove(),n&&n.call(i),i={self:this,state:"close",toastId:t.id},l.call(this,t,i),0===this.queue.length&&(o&&clearTimeout(o),o=setTimeout(function(){0===this.queue.length&&(s=0)}.bind(this),3e3)),i=null,t=null,n=null,e=null}.bind(this),a.animateTime),this},this.main=function(){n.toast_instance=n.toast_instance||[],n.toast_instance.push(this),arguments&&i.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)};return a}()),t=ax5.ui.toast}(),function(){var t=ax5.ui.toast,n=function(t){return'\n        <div id="{{toastId}}" data-ax5-ui="toast" class="ax5-ui-toast {{theme}}">\n            {{#icon}}\n            <div class="ax-toast-icon">{{{.}}}</div>\n            {{/icon}}\n            <div class="ax-toast-body">{{{msg}}}</div>\n            {{#btns}}\n            <div class="ax-toast-buttons">\n                <div class="ax-button-wrap">\n                    {{#@each}}\n                    <button type="button" data-ax-toast-btn="{{@key}}" class="btn btn-{{@value.theme}}">{{{@value.label}}}</button>\n                    {{/@each}}\n                </div>\n            </div>\n            {{/btns}}\n            {{^btns}}\n                <a class="ax-toast-close" data-ax-toast-btn="ok">{{{closeIcon}}}</a>\n            {{/btns}}\n            <div style="clear:both;"></div>\n        </div>'};t.tmpl={toastDisplay:n,get:function(n,i,a){return ax5.mustache.render(t.tmpl[n].call(this,a),i)}}}();"use strict";(function(){var UI=ax5.ui;var U=ax5.util;var MODAL=void 0;UI.addClass({className:"modal"},function(){return function(){var self=this,cfg=void 0,ENM={mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup"},getMousePosition=function getMousePosition(e){var mouseObj=e;if("changedTouches"in e&&e.changedTouches){mouseObj=e.changedTouches[0]}return{clientX:mouseObj.clientX,clientY:mouseObj.clientY}};if(window.parent!=null&&window.parent.ax5!=null&&window.parent.ax5!=undefined){this.instanceId=window.parent.ax5.guid+1+"_"+ax5.getGuid()}else{this.instanceId=ax5.getGuid()}this.config={id:"ax5-modal-"+this.instanceId,position:{left:"center",top:"middle",margin:10},minimizePosition:"bottom-right",clickEventName:"ontouchstart"in document.documentElement?"touchstart":"click",theme:"default",width:300,height:400,closeToEsc:true,disableDrag:false,disableResize:false,animateTime:250,iframe:false};this.activeModal=null;this.watingModal=false;this.$={};cfg=this.config;var onStateChanged=function onStateChanged(opts,that){var eventProcessor={resize:function resize(that){if(opts&&opts.onResize){opts.onResize.call(that,that)}else if(this.onResize){this.onResize.call(that,that)}},move:function move(){}};if(that.state in eventProcessor){eventProcessor[that.state].call(this,that)}if(opts&&opts.onStateChanged){opts.onStateChanged.call(that,that)}else if(this.onStateChanged){this.onStateChanged.call(that,that)}return true},getContent=function getContent(modalId,opts){var data={modalId:modalId,theme:opts.theme,header:opts.header,fullScreen:opts.fullScreen?"fullscreen":"",styles:"",iframe:opts.iframe,iframeLoadingMsg:opts.iframeLoadingMsg,disableResize:opts.disableResize};if(opts.zIndex){data.styles+="z-index:"+opts.zIndex+";"}if(opts.absolute){data.styles+="position:absolute;"}if(data.iframe&&typeof data.iframe.param==="string"){data.iframe.param=ax5.util.param(data.iframe.param)}return MODAL.tmpl.get.call(this,"content",data,{})},open=function open(opts,callback){var that=void 0;jQuery(document.body).append(getContent.call(this,opts.id,opts));this.activeModal=jQuery("#"+opts.id);this.$={root:this.activeModal,header:this.activeModal.find('[data-modal-els="header"]'),body:this.activeModal.find('[data-modal-els="body"]')};if(opts.iframe){this.$["iframe-wrap"]=this.activeModal.find('[data-modal-els="iframe-wrap"]');this.$["iframe"]=this.activeModal.find('[data-modal-els="iframe"]');this.$["iframe-form"]=this.activeModal.find('[data-modal-els="iframe-form"]');this.$["iframe-loading"]=this.activeModal.find('[data-modal-els="iframe-loading"]')}else{this.$["body-frame"]=this.activeModal.find('[data-modal-els="body-frame"]')}this.align();that={self:this,id:opts.id,theme:opts.theme,width:opts.width,height:opts.height,state:"open",$:this.$};if(opts.iframe){this.$["iframe-wrap"].css({height:opts.height});this.$["iframe"].css({height:opts.height});this.$["iframe-form"].attr({method:opts.iframe.method});this.$["iframe-form"].attr({target:opts.id+"-frame"});this.$["iframe-form"].attr({action:opts.iframe.url});this.$["iframe"].on("load",function(){that.state="load";if(opts.iframeLoadingMsg){this.$["iframe-loading"].hide()}onStateChanged.call(this,opts,that)}.bind(this));if(!opts.iframeLoadingMsg){this.$["iframe"].show()}this.$["iframe-form"].submit()}if(callback)callback.call(that,that);if(!this.watingModal){onStateChanged.call(this,opts,that)}if(opts.closeToEsc){jQuery(window).bind("keydown.ax-modal",function(e){onkeyup.call(this,e||window.event)}.bind(this))}jQuery(window).bind("resize.ax-modal",function(e){this.align(null,e||window.event)}.bind(this));this.$.header.off(ENM["mousedown"]).off("dragstart").on(ENM["mousedown"],function(e){var isButton=U.findParentNode(e.target,function(_target){if(_target.getAttribute("data-modal-header-btn")){return true}});if(!opts.isFullScreen&&!isButton&&opts.disableDrag!=true){self.mousePosition=getMousePosition(e);moveModal.on.call(self)}if(isButton){btnOnClick.call(self,e||window.event,opts)}}).on("dragstart",function(e){U.stopEvent(e.originalEvent);return false});this.activeModal.off(ENM["mousedown"]).off("dragstart").on(ENM["mousedown"],"[data-ax5modal-resizer]",function(e){if(opts.disableDrag||opts.isFullScreen)return false;self.mousePosition=getMousePosition(e);resizeModal.on.call(self,this.getAttribute("data-ax5modal-resizer"))}).on("dragstart",function(e){U.stopEvent(e.originalEvent);return false})},btnOnClick=function btnOnClick(e,opts,callback,target,k){var that=void 0;if(e.srcElement)e.target=e.srcElement;target=U.findParentNode(e.target,function(target){if(target.getAttribute("data-modal-header-btn")){return true}});if(target){k=target.getAttribute("data-modal-header-btn");that={self:this,key:k,value:opts.header.btns[k],dialogId:opts.id,btnTarget:target};if(opts.header.btns[k].onClick){opts.header.btns[k].onClick.call(that,k)}}that=null;opts=null;callback=null;target=null;k=null},onkeyup=function onkeyup(e){if(e.keyCode==ax5.info.eventKeys.ESC){this.close()}},alignProcessor={"top-left":function topLeft(){this.align({left:"left",top:"top"})},"top-right":function topRight(){this.align({left:"right",top:"top"})},"bottom-left":function bottomLeft(){this.align({left:"left",top:"bottom"})},"bottom-right":function bottomRight(){this.align({left:"right",top:"bottom"})},"center-middle":function centerMiddle(){this.align({left:"center",top:"middle"})}},moveModal={on:function on(){var modalZIndex=this.activeModal.css("z-index"),modalOffset=this.activeModal.offset(),modalBox={width:this.activeModal.outerWidth(),height:this.activeModal.outerHeight()},windowBox={width:jQuery(window).width(),height:jQuery(window).height(),scrollLeft:jQuery(document).scrollLeft(),scrollTop:jQuery(document).scrollTop()},getResizerPosition=function getResizerPosition(e){self.__dx=e.clientX-self.mousePosition.clientX;self.__dy=e.clientY-self.mousePosition.clientY;return{left:modalOffset.left+self.__dx,top:modalOffset.top+self.__dy}};var minX=0,maxX=windowBox.width-modalBox.width,minY=0,maxY=windowBox.height-modalBox.height;self.__dx=0;self.__dy=0;self.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>');self.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>');self.resizerBg.css({zIndex:modalZIndex});self.resizer.css({left:modalOffset.left,top:modalOffset.top,width:modalBox.width,height:modalBox.height,zIndex:modalZIndex+1});jQuery(document.body).append(self.resizerBg).append(self.resizer);self.activeModal.addClass("draged");jQuery(document.body).on(ENM["mousemove"]+".ax5modal-move-"+this.instanceId,function(e){self.resizer.css(getResizerPosition(e))}).on(ENM["mouseup"]+".ax5modal-move-"+this.instanceId,function(e){moveModal.off.call(self)}).on("mouseleave.ax5modal-move-"+this.instanceId,function(e){moveModal.off.call(self)});jQuery(document.body).attr("unselectable","on").css("user-select","none").on("selectstart",false)},off:function off(){var setModalPosition=function setModalPosition(){var box=this.resizer.offset();if(!this.modalConfig.absolute){box.left-=jQuery(document).scrollLeft();box.top-=jQuery(document).scrollTop()}this.activeModal.css(box);this.modalConfig.left=box.left;this.modalConfig.top=box.top;box=null};this.activeModal.removeClass("draged");setModalPosition.call(this);this.resizer.remove();this.resizer=null;this.resizerBg.remove();this.resizerBg=null;jQuery(document.body).off(ENM["mousemove"]+".ax5modal-move-"+this.instanceId).off(ENM["mouseup"]+".ax5modal-move-"+this.instanceId).off("mouseleave.ax5modal-move-"+this.instanceId);jQuery(document.body).removeAttr("unselectable").css("user-select","auto").off("selectstart");onStateChanged.call(this,self.modalConfig,{self:this,state:"move"})}},resizeModal={on:function on(resizerType){var modalZIndex=this.activeModal.css("z-index"),modalOffset=this.activeModal.offset(),modalBox={width:this.activeModal.outerWidth(),height:this.activeModal.outerHeight()},windowBox={width:jQuery(window).width(),height:jQuery(window).height(),scrollLeft:jQuery(document).scrollLeft(),scrollTop:jQuery(document).scrollTop()},resizerProcessor={top:function top(e){if(minHeight>modalBox.height-self.__dy){self.__dy=modalBox.height-minHeight}if(e.shiftKey){if(minHeight>modalBox.height-self.__dy*2){self.__dy=(modalBox.height-minHeight)/2}return{left:modalOffset.left,top:modalOffset.top+self.__dy,width:modalBox.width,height:modalBox.height-self.__dy*2}}else if(e.altKey){if(minHeight>modalBox.height-self.__dy*2){self.__dy=(modalBox.height-minHeight)/2}return{left:modalOffset.left+self.__dy,top:modalOffset.top+self.__dy,width:modalBox.width-self.__dy*2,height:modalBox.height-self.__dy*2}}else{return{left:modalOffset.left,top:modalOffset.top+self.__dy,width:modalBox.width,height:modalBox.height-self.__dy}}},bottom:function bottom(e){if(minHeight>modalBox.height+self.__dy){self.__dy=-modalBox.height+minHeight}if(e.shiftKey){if(minHeight>modalBox.height+self.__dy*2){self.__dy=(-modalBox.height+minHeight)/2}return{left:modalOffset.left,top:modalOffset.top-self.__dy,width:modalBox.width,height:modalBox.height+self.__dy*2}}else if(e.altKey){if(minHeight>modalBox.height+self.__dy*2){self.__dy=(-modalBox.height+minHeight)/2}return{left:modalOffset.left-self.__dy,top:modalOffset.top-self.__dy,width:modalBox.width+self.__dy*2,height:modalBox.height+self.__dy*2}}else{return{left:modalOffset.left,top:modalOffset.top,width:modalBox.width,height:modalBox.height+self.__dy}}},left:function left(e){if(minWidth>modalBox.width-self.__dx){self.__dx=modalBox.width-minWidth}if(e.shiftKey){if(minWidth>modalBox.width-self.__dx*2){self.__dx=(modalBox.width-minWidth)/2}return{left:modalOffset.left+self.__dx,top:modalOffset.top,width:modalBox.width-self.__dx*2,height:modalBox.height}}else if(e.altKey){if(minWidth>modalBox.width-self.__dx*2){self.__dx=(modalBox.width-minWidth)/2}return{left:modalOffset.left+self.__dx,top:modalOffset.top+self.__dx,width:modalBox.width-self.__dx*2,height:modalBox.height-self.__dx*2}}else{return{left:modalOffset.left+self.__dx,top:modalOffset.top,width:modalBox.width-self.__dx,height:modalBox.height}}},right:function right(e){if(minWidth>modalBox.width+self.__dx){self.__dx=-modalBox.width+minWidth}if(e.shiftKey){if(minWidth>modalBox.width+self.__dx*2){self.__dx=(-modalBox.width+minWidth)/2}return{left:modalOffset.left-self.__dx,top:modalOffset.top,width:modalBox.width+self.__dx*2,height:modalBox.height}}else if(e.altKey){if(minWidth>modalBox.width+self.__dx*2){self.__dx=(-modalBox.width+minWidth)/2}return{left:modalOffset.left-self.__dx,top:modalOffset.top-self.__dx,width:modalBox.width+self.__dx*2,height:modalBox.height+self.__dx*2}}else{return{left:modalOffset.left,top:modalOffset.top,width:modalBox.width+self.__dx,height:modalBox.height}}},"top-left":function topLeft(e){if(minWidth>modalBox.width-self.__dx){self.__dx=modalBox.width-minWidth}if(minHeight>modalBox.height-self.__dy){self.__dy=modalBox.height-minHeight}if(e.shiftKey||e.altKey){if(minHeight>modalBox.height-self.__dy*2){self.__dy=(modalBox.height-minHeight)/2}if(minWidth>modalBox.width-self.__dx*2){self.__dx=(modalBox.width-minWidth)/2}return{left:modalOffset.left+self.__dx,top:modalOffset.top+self.__dy,width:modalBox.width-self.__dx*2,height:modalBox.height-self.__dy*2}}else{if(minHeight>modalBox.height-self.__dy*2){self.__dy=(modalBox.height-minHeight)/2}if(minWidth>modalBox.width-self.__dx*2){self.__dx=(modalBox.width-minWidth)/2}return{left:modalOffset.left+self.__dx,top:modalOffset.top+self.__dy,width:modalBox.width-self.__dx,height:modalBox.height-self.__dy}}},"top-right":function topRight(e){if(minWidth>modalBox.width+self.__dx){self.__dx=-modalBox.width+minWidth}if(minHeight>modalBox.height-self.__dy){self.__dy=modalBox.height-minHeight}if(e.shiftKey||e.altKey){if(minHeight>modalBox.height-self.__dy*2){self.__dy=(modalBox.height-minHeight)/2}if(minWidth>modalBox.width+self.__dx*2){self.__dx=(-modalBox.width+minWidth)/2}return{left:modalOffset.left-self.__dx,top:modalOffset.top+self.__dy,width:modalBox.width+self.__dx*2,height:modalBox.height-self.__dy*2}}else{return{left:modalOffset.left,top:modalOffset.top+self.__dy,width:modalBox.width+self.__dx,height:modalBox.height-self.__dy}}},"bottom-left":function bottomLeft(e){if(minWidth>modalBox.width-self.__dx){self.__dx=modalBox.width-minWidth}if(minHeight>modalBox.height+self.__dy){self.__dy=-modalBox.height+minHeight}if(e.shiftKey||e.altKey){if(minWidth>modalBox.width-self.__dx*2){self.__dx=(modalBox.width-minWidth)/2}if(minHeight>modalBox.height+self.__dy*2){self.__dy=(-modalBox.height+minHeight)/2}return{left:modalOffset.left+self.__dx,top:modalOffset.top-self.__dy,width:modalBox.width-self.__dx*2,height:modalBox.height+self.__dy*2}}else{return{left:modalOffset.left+self.__dx,top:modalOffset.top,width:modalBox.width-self.__dx,height:modalBox.height+self.__dy}}},"bottom-right":function bottomRight(e){if(minWidth>modalBox.width+self.__dx){self.__dx=-modalBox.width+minWidth}if(minHeight>modalBox.height+self.__dy){self.__dy=-modalBox.height+minHeight}if(e.shiftKey||e.altKey){if(minWidth>modalBox.width+self.__dx*2){self.__dx=(-modalBox.width+minWidth)/2}if(minHeight>modalBox.height+self.__dy*2){self.__dy=(-modalBox.height+minHeight)/2}return{left:modalOffset.left-self.__dx,top:modalOffset.top-self.__dy,width:modalBox.width+self.__dx*2,height:modalBox.height+self.__dy*2}}else{return{left:modalOffset.left,top:modalOffset.top,width:modalBox.width+self.__dx,height:modalBox.height+self.__dy}}}},getResizerPosition=function getResizerPosition(e){self.__dx=e.clientX-self.mousePosition.clientX;self.__dy=e.clientY-self.mousePosition.clientY;return resizerProcessor[resizerType](e)};var minWidth=100,minHeight=100;var cursorType={top:"row-resize",bottom:"row-resize",left:"col-resize",right:"col-resize","top-left":"nwse-resize","top-right":"nesw-resize","bottom-left":"nesw-resize","bottom-right":"nwse-resize"};self.__dx=0;self.__dy=0;self.resizerBg=jQuery('<div class="ax5modal-resizer-background" ondragstart="return false;"></div>');self.resizer=jQuery('<div class="ax5modal-resizer" ondragstart="return false;"></div>');self.resizerBg.css({zIndex:modalZIndex,cursor:cursorType[resizerType]});self.resizer.css({left:modalOffset.left,top:modalOffset.top,width:modalBox.width,height:modalBox.height,zIndex:modalZIndex+1,cursor:cursorType[resizerType]});jQuery(document.body).append(self.resizerBg).append(self.resizer);self.activeModal.addClass("draged");jQuery(document.body).bind(ENM["mousemove"]+".ax5modal-resize-"+this.instanceId,function(e){self.resizer.css(getResizerPosition(e))}).bind(ENM["mouseup"]+".ax5modal-resize-"+this.instanceId,function(e){resizeModal.off.call(self)}).bind("mouseleave.ax5modal-resize-"+this.instanceId,function(e){resizeModal.off.call(self)});jQuery(document.body).attr("unselectable","on").css("user-select","none").bind("selectstart",false)},off:function off(){var setModalPosition=function setModalPosition(){var box=this.resizer.offset();jQuery.extend(box,{width:this.resizer.width(),height:this.resizer.height()});if(!this.modalConfig.absolute){box.left-=jQuery(document).scrollLeft();box.top-=jQuery(document).scrollTop()}this.activeModal.css(box);this.modalConfig.left=box.left;this.modalConfig.top=box.top;this.modalConfig.width=box.width;this.modalConfig.height=box.height;this.$["body"].css({height:box.height-this.modalConfig.headerHeight});if(this.modalConfig.iframe){this.$["iframe-wrap"].css({height:box.height-this.modalConfig.headerHeight});this.$["iframe"].css({height:box.height-this.modalConfig.headerHeight})}box=null};this.activeModal.removeClass("draged");setModalPosition.call(this);this.resizer.remove();this.resizer=null;this.resizerBg.remove();this.resizerBg=null;onStateChanged.call(this,self.modalConfig,{self:this,state:"resize"});jQuery(document.body).unbind(ENM["mousemove"]+".ax5modal-resize-"+this.instanceId).unbind(ENM["mouseup"]+".ax5modal-resize-"+this.instanceId).unbind("mouseleave.ax5modal-resize-"+this.instanceId);jQuery(document.body).removeAttr("unselectable").css("user-select","auto").unbind("selectstart")}};this.init=function(){this.onStateChanged=cfg.onStateChanged;this.onResize=cfg.onResize};this.open=function(opts,callback,tryCount){if(opts.defaultSize!==undefined&&opts.defaultSize){var screenWith=window.outerWidth*0.8;var screenHeight=window.outerHeight*0.75;if(opts.width<screenWith){opts.width=screenWith}if(opts.height<screenHeight){opts.height=screenHeight}}if(typeof tryCount==="undefined")tryCount=0;if(!this.activeModal){opts=self.modalConfig=jQuery.extend(true,{},cfg,opts);open.call(this,opts,callback);this.watingModal=false}else if(tryCount<3){this.watingModal=true;setTimeout(function(){this.open(opts,callback,tryCount+1)}.bind(this),cfg.animateTime)}else{this.watingModal=false}return this};this.close=function(_option){var opts=void 0,that=void 0;if(this.activeModal){opts=self.modalConfig;this.activeModal.addClass("destroy");jQuery(window).unbind("keydown.ax-modal");jQuery(window).unbind("resize.ax-modal");setTimeout(function(){if(opts.iframe){var $iframe=this.$["iframe"];if($iframe){var iframeObject=$iframe.get(0),idoc=iframeObject.contentDocument?iframeObject.contentDocument:iframeObject.contentWindow.document;try{$(idoc.body).children().each(function(){$(this).remove()})}catch(e){}idoc.innerHTML="";$iframe.attr("src","about:blank").remove();window.CollectGarbage&&window.CollectGarbage()}}this.activeModal.remove();this.activeModal=null;if(!this.watingModal){onStateChanged.call(this,opts,{self:this,state:"close"})}if(_option&&U.isFunction(_option.callback)){that={self:this,id:opts.id,theme:opts.theme,width:opts.width,height:opts.height,state:"close",$:this.$};_option.callback.call(that,that)}}.bind(this),cfg.animateTime)}this.minimized=false;return this};this.minimize=function(){return function(minimizePosition){if(this.minimized!==true){var opts=self.modalConfig;if(typeof minimizePosition==="undefined")minimizePosition=cfg.minimizePosition;this.minimized=true;this.$.body.hide();self.modalConfig.originalHeight=opts.height;self.modalConfig.height=0;alignProcessor[minimizePosition].call(this);onStateChanged.call(this,opts,{self:this,state:"minimize"})}return this}}();this.restore=function(){var opts=self.modalConfig;if(this.minimized){this.minimized=false;this.$.body.show();self.modalConfig.height=self.modalConfig.originalHeight;self.modalConfig.originalHeight=undefined;this.align({left:"center",top:"middle"});onStateChanged.call(this,opts,{self:this,state:"restore"})}return this};this.css=function(css){if(this.activeModal&&!self.fullScreen){this.activeModal.css(css);if(typeof css.width!=="undefined"){self.modalConfig.width=css.width}if(typeof css.height!=="undefined"){self.modalConfig.height=css.height}this.align()}return this};this.setModalConfig=function(_config){self.modalConfig=jQuery.extend({},self.modalConfig,_config);this.align();return this};this.align=function(){return function(position,e){if(!this.activeModal)return this;var opts=self.modalConfig,box={width:opts.width,height:opts.height};var fullScreen=opts.isFullScreen=function(_fullScreen){if(typeof _fullScreen==="undefined"){return false}else if(U.isFunction(_fullScreen)){return _fullScreen()}}(opts.fullScreen);if(fullScreen){if(opts.header)this.$.header.show();if(opts.header){opts.headerHeight=this.$.header.outerHeight();box.height+=opts.headerHeight}else{opts.headerHeight=0}box.width=jQuery(window).width();box.height=opts.height;box.left=0;box.top=0}else{if(opts.header)this.$.header.show();if(position){jQuery.extend(true,opts.position,position)}if(opts.header){opts.headerHeight=this.$.header.outerHeight();box.height+=opts.headerHeight}else{opts.headerHeight=0}if(opts.position.left=="left"){box.left=opts.position.margin||0}else if(opts.position.left=="right"){box.left=jQuery(window).width()-box.width-(opts.position.margin||0)}else if(opts.position.left=="center"){box.left=jQuery(window).width()/2-box.width/2}else{box.left=opts.position.left||0}if(opts.position.top=="top"){box.top=opts.position.margin||0}else if(opts.position.top=="bottom"){box.top=jQuery(window).height()-box.height-(opts.position.margin||0)-20}else if(opts.position.top=="middle"){box.top=jQuery(window).height()/2-box.height/2}else{box.top=opts.position.top||0}if(box.left<0)box.left=0;if(box.top<0)box.top=0;if(opts.absolute){box.top+=jQuery(window).scrollTop();box.left+=jQuery(window).scrollLeft()}}this.activeModal.css(box);this.$["body"].css({height:box.height-(opts.headerHeight||0)});if(opts.iframe){this.$["iframe-wrap"].css({height:box.height-opts.headerHeight});this.$["iframe"].css({height:box.height-opts.headerHeight})}else{}return this}}();this.main=function(){UI.modal_instance=UI.modal_instance||[];UI.modal_instance.push(this);if(arguments&&U.isObject(arguments[0])){this.setConfig(arguments[0])}}.apply(this,arguments)}}());MODAL=ax5.ui.modal})();(function(){var MODAL=ax5.ui.modal;var content=function content(){return" \n        <div id=\"{{modalId}}\" data-modal-els=\"root\" class=\"ax5modal {{theme}} {{fullscreen}}\" style=\"{{styles}}\">\n            {{#header}}\n            <div class=\"ax-modal-header\" data-modal-els=\"header\">\n                {{{title}}}\n                {{#btns}}\n                    <div class=\"ax-modal-header-addon\">\n                    {{#@each}}\n                    <button tabindex=\"-1\" data-modal-header-btn=\"{{@key}}\" class=\"{{@value.theme}}\">{{{@value.label}}}</button>\n                    {{/@each}}\n                    </div>\n                {{/btns}}\n            </div>\n            {{/header}}\n            <div class=\"ax-modal-body\" data-modal-els=\"body\">\n            {{#iframe}}\n                <div data-modal-els=\"iframe-wrap\" style=\"-webkit-overflow-scrolling: touch; overflow: auto;position: relative;\">\n                    <table data-modal-els=\"iframe-loading\" style=\"width:100%;height:100%;\"><tr><td style=\"text-align: center;vertical-align: middle\">{{{iframeLoadingMsg}}}</td></tr></table>\n                    <iframe name=\"{{modalId}}-frame\" src=\"\" width=\"100%\" height=\"100%\" frameborder=\"0\" data-modal-els=\"iframe\" style=\"position: absolute;left:0;top:0;\"></iframe>\n                </div>\n                <form name=\"{{modalId}}-form\" data-modal-els=\"iframe-form\">\n                <input type=\"hidden\" name=\"modalId\" value=\"{{modalId}}\" />\n                {{#param}}\n                {{#@each}}\n                <input type=\"hidden\" name=\"{{@key}}\" value=\"{{@value}}\" />\n                {{/@each}}\n                {{/param}}\n                </form>\n            {{/iframe}}\n            {{^iframe}}\n                <div data-modal-els=\"body-frame\" style=\"position: absolute;left:0;top:0;width:100%;height:100%;\"></div>\n            {{/iframe}}\n            </div>\n            {{^disableResize}}\n            <div data-ax5modal-resizer=\"top\"></div>\n            <div data-ax5modal-resizer=\"right\"></div>\n            <div data-ax5modal-resizer=\"bottom\"></div>\n            <div data-ax5modal-resizer=\"left\"></div>\n            <div data-ax5modal-resizer=\"top-left\"></div>\n            <div data-ax5modal-resizer=\"top-right\"></div>\n            <div data-ax5modal-resizer=\"bottom-left\"></div>\n            <div data-ax5modal-resizer=\"bottom-right\"></div>\n            {{/disableResize}}\n        </div>\n        "};MODAL.tmpl={"content":content,get:function get(tmplName,data,columnKeys){return ax5.mustache.render(MODAL.tmpl[tmplName].call(this,columnKeys),data)}}})();"use strict";(function(){var UI=ax5.ui;var U=ax5.util;var DIALOG=void 0;UI.addClass({className:"dialog"},function(){var ax5dialog=function ax5dialog(){var self=this,cfg=void 0;this.instanceId=ax5.getGuid();this.config={id:'ax5-dialog-'+this.instanceId,clickEventName:"click",theme:'default',width:300,title:'',msg:'',lang:{"ok":"ok","cancel":"cancel"},animateTime:150,autoCloseTime:0};this.activeDialog=null;this.autoCloseTimer=null;this.queue=[];cfg=this.config;var onStateChanged=function onStateChanged(opts,that){if(opts&&opts.onStateChanged){opts.onStateChanged.call(that,that)}else if(this.onStateChanged){this.onStateChanged.call(that,that)}that=null;return true};var getContent=function getContent(dialogId,opts){var data={dialogId:dialogId,title:opts.title||cfg.title||"",msg:(opts.msg||cfg.msg||"").replace(/\n/g,"<br/>"),input:opts.input,btns:opts.btns,'_crlf':function _crlf(){return this.replace(/\n/g,"<br/>")},additionalContent:function(additionalContent){if(U.isFunction(additionalContent)){return additionalContent.call(opts)}else{return additionalContent}}(opts.additionalContent)};try{return DIALOG.tmpl.get.call(this,"dialogDisplay",data)}finally{data=null}};var open=function open(opts,callback){var pos={},box=void 0;opts.id=opts.id||cfg.id;box={width:opts.width};jQuery(document.body).append(getContent.call(this,opts.id,opts));this.dialogConfig=opts;this.activeDialog=jQuery('#'+opts.id);this.activeDialog.css({width:box.width});if(typeof callback==="undefined"){callback=opts.callback}opts.height=box.height=this.activeDialog.height();if(typeof opts.position==="undefined"||opts.position==="center"){pos.top=jQuery(window).height()/2-box.height/2;pos.left=jQuery(window).width()/2-box.width/2}else{pos.left=opts.position.left||0;pos.top=opts.position.top||0}if(cfg.zIndex){pos["z-index"]=cfg.zIndex}this.activeDialog.css(pos);if(opts.dialogType==="prompt"){this.activeDialog.find("[data-dialog-prompt]").get(0).focus()}else{this.activeDialog.find("[data-dialog-btn]").get(0).focus()}this.activeDialog.find("[data-dialog-btn]").on(cfg.clickEventName,function(e){btnOnClick.call(this,e||window.event,opts,callback)}.bind(this));jQuery(window).bind("keydown.ax5dialog",function(e){onKeyup.call(this,e||window.event,opts,callback)}.bind(this));jQuery(window).bind("resize.ax5dialog",function(e){align.call(this,e||window.event)}.bind(this));onStateChanged.call(this,opts,{self:this,state:"open"});if(opts.autoCloseTime){this.autoCloseTimer=setTimeout(function(){self.close()},opts.autoCloseTime)}pos=null;box=null};var align=function align(e){if(!this.activeDialog)return this;var opts=self.dialogConfig,box={width:opts.width,height:opts.height};if(typeof opts.position==="undefined"||opts.position==="center"){box.top=window.innerHeight/2-box.height/2;box.left=window.innerWidth/2-box.width/2}else{box.left=opts.position.left||0;box.top=opts.position.top||0}if(box.left<0)box.left=0;if(box.top<0)box.top=0;this.activeDialog.css(box);opts=null;box=null;return this};var btnOnClick=function btnOnClick(e,opts,callback,target,k){var that=void 0,emptyKey=null;if(e.srcElement)e.target=e.srcElement;target=U.findParentNode(e.target,function(target){if(target.getAttribute("data-dialog-btn")){return true}});if(target){k=target.getAttribute("data-dialog-btn");that={self:this,key:k,value:opts.btns[k],dialogId:opts.id,btnTarget:target};if(opts.dialogType==="prompt"){that.input={};for(var oi in opts.input){that.input[oi]=this.activeDialog.find('[data-dialog-prompt='+oi+']').val();if(opts.input[oi].required&&(that.input[oi]==""||that.input[oi]==null)){emptyKey=oi;break}}}if(opts.btns[k].onClick){opts.btns[k].onClick.call(that,k)}else if(opts.dialogType==="alert"){if(callback)callback.call(that,k);this.close({doNotCallback:true})}else if(opts.dialogType==="confirm"){if(callback)callback.call(that,k);this.close({doNotCallback:true})}else if(opts.dialogType==="prompt"){if(k==='ok'){if(emptyKey){this.activeDialog.find('[data-dialog-prompt="'+emptyKey+'"]').get(0).focus();return false}}if(callback)callback.call(that,k);this.close({doNotCallback:true})}}that=null;opts=null;callback=null;target=null;k=null};var onKeyup=function onKeyup(e,opts,callback,target,k){var that=void 0,emptyKey=null;if(e.keyCode==ax5.info.eventKeys.ESC){this.close()}if(opts.dialogType==="prompt"){if(e.keyCode==ax5.info.eventKeys.RETURN){that={self:this,key:k,value:opts.btns[k],dialogId:opts.id,btnTarget:target};that.input={};for(var oi in opts.input){that.input[oi]=this.activeDialog.find('[data-dialog-prompt='+oi+']').val();if(opts.input[oi].required&&(that.input[oi]==""||that.input[oi]==null)){emptyKey=oi;break}}if(emptyKey){that=null;emptyKey=null;return false}if(callback)callback.call(that,k);this.close({doNotCallback:true})}}that=null;emptyKey=null;opts=null;callback=null;target=null;k=null};this.init=function(){this.onStateChanged=cfg.onStateChanged};this.alert=function(opts,callback,tryCount){if(U.isString(opts)){opts={title:cfg.title,msg:opts}}opts=jQuery.extend(true,{},cfg,opts);opts.dialogType="alert";opts.theme=opts.theme||cfg.theme||"";opts.callback=callback;if(typeof opts.btns==="undefined"){opts.btns={ok:{label:cfg.lang["ok"],theme:opts.theme}}}if(this.activeDialog){this.queue.push(opts)}else{open.call(this,opts,callback)}return this};this.confirm=function(opts,callback,tryCount){if(U.isString(opts)){opts={title:cfg.title,msg:opts}}opts=jQuery.extend(true,{},cfg,opts);opts.dialogType="confirm";opts.theme=opts.theme||cfg.theme||"";opts.callback=callback;if(typeof opts.btns==="undefined"){opts.btns={ok:{label:cfg.lang["ok"],theme:opts.theme},cancel:{label:cfg.lang["cancel"]}}}if(this.activeDialog){this.queue.push(opts)}else{open.call(this,opts,callback)}return this};this.prompt=function(opts,callback,tryCount){if(U.isString(opts)){opts={title:cfg.title,msg:opts}}opts=jQuery.extend(true,{},cfg,opts);opts.dialogType="prompt";opts.theme=opts.theme||cfg.theme||"";opts.callback=callback;if(typeof opts.input==="undefined"){opts.input={value:{label:""}}}if(typeof opts.btns==="undefined"){opts.btns={ok:{label:cfg.lang["ok"],theme:opts.theme},cancel:{label:cfg.lang["cancel"]}}}if(this.activeDialog){this.queue.push(opts)}else{open.call(this,opts,callback)}return this};this.close=function(_option){var opts=void 0,that=void 0;if(this.activeDialog){if(this.autoCloseTimer)clearTimeout(this.autoCloseTimer);opts=self.dialogConfig;this.activeDialog.addClass("destroy");jQuery(window).unbind("keydown.ax5dialog");jQuery(window).unbind("resize.ax5dialog");setTimeout(function(){if(this.activeDialog){this.activeDialog.remove();this.activeDialog=null}that={self:this,state:"close",dialogId:opts.id};if(opts.callback&&(!_option||!_option.doNotCallback)){opts.callback.call(that)}if(opts&&opts.onStateChanged){opts.onStateChanged.call(that,that)}else if(this.onStateChanged){this.onStateChanged.call(that,that)}if(this.queue&&this.queue.length){open.call(this,this.queue.shift())}opts=null;that=null}.bind(this),cfg.animateTime)}return this};this.main=function(){UI.dialog_instance=UI.dialog_instance||[];UI.dialog_instance.push(this);if(arguments&&U.isObject(arguments[0])){this.setConfig(arguments[0])}}.apply(this,arguments)};return ax5dialog}());DIALOG=ax5.ui.dialog})();(function(){var DIALOG=ax5.ui.dialog;var dialogDisplay=function dialogDisplay(columnKeys){return" \n        <div id=\"{{dialogId}}\" data-dialog-els=\"root\" class=\"ax5-ui-dialog {{theme}}\">\n            <div class=\"ax-dialog-header\" data-dialog-els=\"header\">\n                {{{title}}}\n            </div>\n            <div class=\"ax-dialog-body\" data-dialog-els=\"body\">\n                <div class=\"ax-dialog-msg\">{{{msg}}}</div>\n                \n                {{#input}}\n                <div class=\"ax-dialog-prompt\">\n                    {{#@each}}\n                    <div class=\"form-group\">\n                    {{#@value.label}}\n                    <label>{{#_crlf}}{{{.}}}{{/_crlf}}</label>\n                    {{/@value.label}}\n                    <input type=\"{{@value.type}}\" placeholder=\"{{@value.placeholder}}\" class=\"form-control {{@value.theme}}\" data-dialog-prompt=\"{{@key}}\" style=\"width:100%;\" value=\"{{@value.value}}\" />\n                    {{#@value.help}}\n                    <p class=\"help-block\">{{#_crlf}}{{.}}{{/_crlf}}</p>\n                    {{/@value.help}}\n                    </div>\n                    {{/@each}}\n                </div>\n                {{/input}}\n                \n                <div class=\"ax-dialog-buttons\" data-dialog-els=\"buttons\">\n                    <div class=\"ax-button-wrap\">\n                    {{#btns}}\n                        {{#@each}}\n                        <button type=\"button\" data-dialog-btn=\"{{@key}}\" class=\"btn btn-{{@value.theme}}\">{{@value.label}}</button>\n                        {{/@each}}\n                    {{/btns}}\n                    </div>\n                </div>\n                \n                {{#additionalContent}}\n                <div data-dialog-els=\"additional-content\">{{{.}}}</div>\n                {{/additionalContent}}\n            </div>\n        </div>  \n        "};DIALOG.tmpl={"dialogDisplay":dialogDisplay,get:function get(tmplName,data,columnKeys){return ax5.mustache.render(DIALOG.tmpl[tmplName].call(this,columnKeys),data)}}})();"use strict";(function(){var UI=ax5.ui;var U=ax5.util;var UPLOADER=void 0;UI.addClass({className:"uploader"},function(){var ax5uploader=function ax5uploader(){var self=this,cfg=void 0;this.instanceId=ax5.getGuid();this.config={clickEventName:"click",theme:'default',lang:{"upload":"Upload","abort":"Abort"},uploadedBox:{columnKeys:{name:"name",type:"type",size:"size",uploadedName:"uploadedName",uploadedPath:"uploadedPath",downloadPath:"downloadPath",previewPath:"previewPath",thumbnail:"thumbnail"}},animateTime:100,accept:"*/*",multiple:false,manualUpload:false,progressBox:true};this.defaultBtns={"upload":{label:this.config.lang["upload"],theme:"btn-primary"},"abort":{label:this.config.lang["abort"],theme:this.config.theme}};this.uploadedFiles=[];this.$target=null;this.$inputContainer=null;this.$inputFile=null;this.$inputFileForm=null;this.$fileSelector=null;this.$dropZone=null;this.$uploadedBox=null;this.__uploading=false;this.selectedFiles=[];this.selectedFilesTotal=0;this.__loaded=0;cfg=this.config;var bound_onStateChanged=function(that){var state={"open":function open(){},"close":function close(){},"upload":function upload(){}};if(cfg.onStateChanged){cfg.onStateChanged.call(that,that)}else if(this.onStateChanged){this.onStateChanged.call(that,that)}that=null;return true}.bind(this);var bound_onSelectFile=function(_evt){var files=void 0;if(!ax5.info.supportFileApi){files={path:_evt.target.value}}else if('dataTransfer'in _evt){files=_evt.dataTransfer.files}else if('target'in _evt){files=_evt.target.files}else if(_evt){files=_evt}if(!files)return false;if(length in files){if(files.length==1){this.selectedFiles=[files[0]]}else{this.selectedFiles=U.toArray(files)}}else{this.selectedFiles=[files]}if(cfg.progressBox){bound_openProgressBox()}if(!cfg.manualUpload){this.send()}if(!ax5.info.supportFileApi){bound_alignLayout(false)}}.bind(this);var bound_bindEvent=function(){this.$fileSelector.off("click.ax5uploader").on("click.ax5uploader",function(){this.$inputFile.trigger("click")}.bind(this));if(!ax5.info.supportFileApi){this.$fileSelector.off("mouseover.ax5uploader").on("mouseover.ax5uploader",function(){bound_alignLayout(true)}.bind(this));this.$inputFile.off("mouseover.ax5uploader").on("mouseover.ax5uploader",function(){this.$fileSelector.addClass("active")}.bind(this));this.$inputFile.off("mouseout.ax5uploader").on("mouseout.ax5uploader",function(){this.$fileSelector.removeClass("active");bound_alignLayout(false)}.bind(this))}(function(){if(!this.$uploadedBox||!this.$uploadedBox.get(0))return false;this.$uploadedBox.on("click","[data-uploaded-item-cell]",function(){var $this=jQuery(this),cellType=$this.attr("data-uploaded-item-cell"),uploadedItemIndex=Number($this.parents('[data-ax5uploader-uploaded-item]').attr('data-ax5uploader-uploaded-item')),that={};if(cfg.uploadedBox&&cfg.uploadedBox.onclick){that={self:self,cellType:cellType,uploadedFiles:self.uploadedFiles,fileIndex:uploadedItemIndex};cfg.uploadedBox.onclick.call(that,that)}$this=null;cellType=null;uploadedItemIndex=null;that=null});this.$uploadedBox.on("dragstart",function(e){U.stopEvent(e);return false})}).call(this);(function(){if(!ax5.info.supportFileApi)return false;if(!this.$dropZone||!this.$dropZone.get(0))return false;var timer=void 0;this.$dropZone.parent().on("click","[data-ax5uploader-dropzone]",function(e){var $target=jQuery(e.target);if($target.parents('[data-ax5uploader-uploaded-item]').length==0&&!$target.attr('data-ax5uploader-uploaded-item')){if(this==e.target||$.contains(this,e.target)){if(U.isFunction(cfg.dropZone.onclick)){cfg.dropZone.onclick.call({self:self})}else{self.$inputFile.trigger("click")}}}});this.$dropZone.get(0).addEventListener('dragover',function(e){U.stopEvent(e);if(U.isFunction(cfg.dropZone.ondragover)){cfg.dropZone.ondragover.call({self:self})}else{self.$dropZone.addClass("dragover")}},false);this.$dropZone.get(0).addEventListener('dragleave',function(e){U.stopEvent(e);if(U.isFunction(cfg.dropZone.ondragover)){cfg.dropZone.ondragout.call({self:self})}else{self.$dropZone.removeClass("dragover")}},false);this.$dropZone.get(0).addEventListener('drop',function(e){U.stopEvent(e);if(U.isFunction(cfg.dropZone.ondrop)){cfg.dropZone.ondrop.call({self:self})}else{self.$dropZone.removeClass("dragover")}bound_onSelectFile(e||window.event)},false)}).call(this)}.bind(this);var bound_alignLayout=function(_TF){if(_TF){if(!ax5.info.supportFileApi){var box=this.$fileSelector.offset();box.width=this.$fileSelector.outerWidth();box.height=this.$fileSelector.outerHeight();this.$inputFile.css(box)}}else{this.$inputFile.css({left:-1000,top:-1000})}}.bind(this);var bound_alignProgressBox=function(append){var _alignProgressBox=function _alignProgressBox(){var $window=jQuery(window),$body=jQuery(document.body);var pos={},positionMargin=6,dim={},pickerDim={},pickerDirection=void 0;pos=this.$progressBox.parent().get(0)==this.$target.get(0)?this.$fileSelector.position():this.$fileSelector.offset();dim={width:this.$fileSelector.outerWidth(),height:this.$fileSelector.outerHeight()};pickerDim={winWidth:Math.max($window.width(),$body.width()),winHeight:Math.max($window.height(),$body.height()),width:this.$progressBox.outerWidth(),height:this.$progressBox.outerHeight()};if(!cfg.progressBoxDirection||cfg.progressBoxDirection===""||cfg.progressBoxDirection==="auto"){pickerDirection="top";if(pos.top-pickerDim.height-positionMargin<0){pickerDirection="top"}else if(pos.top+dim.height+pickerDim.height+positionMargin>pickerDim.winHeight){pickerDirection="bottom"}}else{pickerDirection=cfg.progressBoxDirection}if(append){this.$progressBox.addClass("direction-"+pickerDirection)}var positionCSS=function(){var css={left:0,top:0};switch(pickerDirection){case"top":css.left=pos.left+dim.width/2-pickerDim.width/2;css.top=pos.top+dim.height+positionMargin;break;case"bottom":css.left=pos.left+dim.width/2-pickerDim.width/2;css.top=pos.top-pickerDim.height-positionMargin;break;case"left":css.left=pos.left+dim.width+positionMargin;css.top=pos.top-pickerDim.height/2+dim.height/2;break;case"right":css.left=pos.left-pickerDim.width-positionMargin;css.top=pos.top-pickerDim.height/2+dim.height/2;break}return css}();(function(){if(pickerDirection=="top"||pickerDirection=="bottom"){if(positionCSS.left<0){positionCSS.left=positionMargin;this.$progressBoxArrow.css({left:pos.left+dim.width/2-positionCSS.left})}else if(positionCSS.left+pickerDim.width>pickerDim.winWidth){positionCSS.left=pickerDim.winWidth-pickerDim.width-positionMargin;this.$progressBoxArrow.css({left:pos.left+dim.width/2-positionCSS.left})}}}).call(this);this.$progressBox.css(positionCSS)};this.$progressBox.css({top:-999});if(append){(function(){if(cfg.viewport){return jQuery(cfg.viewport.selector)}else{return this.$target}}).call(this).append(this.$progressBox);this.$progressBox.off("click.ax5uploader").on("click.ax5uploader","button",function(_evt){var act=_evt.target.getAttribute("data-pregressbox-btn");var processor={"upload":function upload(){this.send()},"abort":function abort(){this.abort()}};if(processor[act])processor[act].call(this)}.bind(this))}setTimeout(function(){_alignProgressBox.call(this)}.bind(this))}.bind(this);var bound_openProgressBox=function(){this.$progressBox.removeClass("destroy");this.$progressUpload.removeAttr("disabled");this.$progressAbort.removeAttr("disabled");bound_alignProgressBox("append");bound_onStateChanged({self:this,state:"open"})}.bind(this);var bound_closeProgressBox=function(){this.$progressBox.addClass("destroy");setTimeout(function(){this.$progressBox.remove()}.bind(this),cfg.animateTime)}.bind(this);var bound_startUpload=function(){var processor={"html5":function html5(){var uploadFile=this.selectedFiles.shift();if(!uploadFile){bound_uploadComplete();return this}if(uploadFile[0])uploadFile=uploadFile[0];var formData=new FormData();this.$target.find("input").each(function(){formData.append(this.name,this.value)});formData.append(cfg.form.fileName,uploadFile);this.xhr=new XMLHttpRequest();this.xhr.open("post",U.isString(cfg.form.action)?cfg.form.action:cfg.form.action(),true);this.xhr.onload=function(e){var res=e.target.response;try{if(typeof res==="string")res=U.parseJson(res)}catch(e){return false}if(cfg.debug)console.log(res);if(res.error){if(cfg.debug)console.log(res.error);if(U.isFunction(cfg.onuploaderror)){cfg.onuploaderror.call({self:this,error:res.error},res)}self.send();return false}bound_uploaded(res);self.send()};this.xhr.upload.onprogress=function(e){bound_updateProgressBar(e);if(U.isFunction(cfg.onprogress)){cfg.onprogress.call({loaded:e.loaded,total:e.total},e)}};this.xhr.send(formData)},"form":function form(){this.__uploading=true;var $iframe=jQuery('<iframe src="javascript:false;" name="ax5uploader-'+this.instanceId+'-iframe" style="display:none;"></iframe>');jQuery(document.body).append($iframe);$iframe.load(function(){var doc=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,root=doc.documentElement?doc.documentElement:doc.body,result=root.textContent?root.textContent:root.innerText,res=void 0;try{res=JSON.parse(result)}catch(e){res={error:"Syntax error",body:result}}if(cfg.debug)console.log(res);if(res.error){console.log(res)}else{bound_uploaded(res);$iframe.remove();setTimeout(function(){bound_uploadComplete()},300)}});this.$inputFileForm.attr("target",'ax5uploader-'+this.instanceId+'-iframe').attr("action",cfg.form.action).submit();this.selectedFilesTotal=1;bound_updateProgressBar({loaded:1,total:1})}};if(this.__uploading===false){var filesTotal=0;this.selectedFiles.forEach(function(n){filesTotal+=n.size});this.selectedFilesTotal=filesTotal;this.__loaded=0;this.__uploading=true;this.$progressUpload.attr("disabled","disabled");this.$progressAbort.removeAttr("disabled")}processor[ax5.info.supportFileApi?"html5":"form"].call(this)}.bind(this);var bound_updateProgressBar=function(e){this.__loaded+=e.loaded;this.$progressBar.css({width:U.number(this.__loaded/this.selectedFilesTotal*100,{round:2})+'%'});if(e.lengthComputable){if(e.loaded>=e.total){}}}.bind(this);var bound_uploaded=function(res){if(cfg.debug)console.log(res);this.uploadedFiles=this.uploadedFiles.concat(res);bound_repaintUploadedBox();if(U.isFunction(cfg.onuploaded)){cfg.onuploaded.call({self:this},res)}}.bind(this);var bound_uploadComplete=function(){this.__uploading=false;this.$progressUpload.removeAttr("disabled");this.$progressAbort.attr("disabled","disabled");if(cfg.progressBox){bound_closeProgressBox()}if(U.isFunction(cfg.onuploadComplete)){cfg.onuploadComplete.call({self:this})}bound_attachFileTag()}.bind(this);var bound_cancelUpload=function(){var processor={"html5":function html5(){if(this.xhr){this.xhr.abort()}},"form":function form(){}};this.__uploading=false;this.$progressUpload.removeAttr("disabled");this.$progressAbort.attr("disabled","disabled");processor[ax5.info.supportFileApi?"html5":"form"].call(this);if(cfg.progressBox){bound_closeProgressBox()}bound_attachFileTag();if(cfg.debug)console.log("cancelUpload")}.bind(this);var bound_repaintUploadedBox=function(){if(this.$uploadedBox===null)return this;this.$uploadedBox.html(UPLOADER.tmpl.get("upoadedBox",{uploadedFiles:this.uploadedFiles,icon:cfg.uploadedBox.icon,lang:cfg.uploadedBox.lang,supportFileApi:!!ax5.info.supportFileApi},cfg.uploadedBox.columnKeys));this.$uploadedBox.find("img").on("error",function(){$(this).parent().addClass("no-image")})}.bind(this);var bound_attachFileTag=function(){if(this.$inputFile&&this.$inputFile.get(0)){this.$inputFile.remove()}if(this.$inputFileForm&&this.$inputFileForm.get(0)){this.$inputFileForm.remove()}this.$inputFile=jQuery(UPLOADER.tmpl.get.call(this,"inputFile",{instanceId:this.instanceId,multiple:cfg.multiple,accept:cfg.accept,name:cfg.form.fileName}));if(ax5.info.supportFileApi){jQuery(document.body).append(this.$inputFile)}else{this.$fileSelector.attr("tabindex",-1);this.$inputFileForm=jQuery(UPLOADER.tmpl.get.call(this,"inputFileForm",{instanceId:this.instanceId}));this.$inputFileForm.append(this.$inputFile);jQuery(document.body).append(this.$inputFileForm)}this.$inputFile.off("change.ax5uploader").on("change.ax5uploader",function(_evt){bound_onSelectFile(_evt)}.bind(this))}.bind(this);this.init=function(_config){cfg=jQuery.extend(true,{},cfg,_config);if(!cfg.target){console.log(ax5.info.getError("ax5uploader","401","init"));return this}this.$target=jQuery(cfg.target);if(cfg.dropZone&&cfg.dropZone.target&&ax5.info.supportFileApi){this.$dropZone=jQuery(cfg.dropZone.target);this.$dropZone.attr("data-ax5uploader-dropzone",this.instanceId)}if(cfg.uploadedBox&&cfg.uploadedBox.target){this.$uploadedBox=jQuery(cfg.uploadedBox.target)}(function(data){if(U.isObject(data)&&!data.error){cfg=jQuery.extend(true,cfg,data)}}).call(this,U.parseJson(this.$target.attr("data-ax5uploader-config"),true));this.$fileSelector=this.$target.find('[data-ax5uploader-button="selector"]');if(this.$fileSelector.length===0){console.log(ax5.info.getError("ax5uploader","402","can not find file selector"));return this}bound_attachFileTag();cfg.btns=jQuery.extend({},this.defaultBtns,cfg.btns);this.$progressBox=jQuery(UPLOADER.tmpl.get.call(this,"progressBox",{instanceId:this.instanceId,btns:cfg.btns}));this.$progressBar=this.$progressBox.find('[role="progressbar"]');this.$progressBoxArrow=this.$progressBox.find(".ax-progressbox-arrow");this.$progressUpload=this.$progressBox.find('[data-pregressbox-btn="upload"]');this.$progressAbort=this.$progressBox.find('[data-pregressbox-btn="abort"]');if(!ax5.info.supportFileApi){this.$progressAbort.hide()}bound_bindEvent();bound_repaintUploadedBox();return this};this.send=function(){return function(){if(this.selectedFiles.length&&U.isFunction(cfg.validateSelectedFiles)){var that={self:this,uploadedFiles:this.uploadedFiles,selectedFiles:this.selectedFiles};if(!cfg.validateSelectedFiles.call(that,that)){bound_cancelUpload();return false}}bound_startUpload();return this}}();this.abort=function(){return function(){if(!ax5.info.supportFileApi){alert("This browser not supported abort method");return this}bound_cancelUpload();return this}}();this.setUploadedFiles=function(_files){if(U.isArray(_files)){this.uploadedFiles=_files}if(U.isString(_files)){try{this.uploadedFiles=JSON.parse(_files)}catch(e){}}bound_repaintUploadedBox();return this};this.clear=function(){this.setUploadedFiles([]);return this};this.removeFile=function(_index){if(!isNaN(Number(_index))){this.uploadedFiles.splice(_index,1)}bound_repaintUploadedBox();return this};this.removeFileAll=function(){this.uploadedFiles=[];bound_repaintUploadedBox();return this};this.selectFile=function(){if(ax5.info.supportFileApi){this.$inputFile.trigger("click");return true}return false};this.main=function(){UI.uploader_instance=UI.uploader_instance||[];UI.uploader_instance.push(this);if(arguments&&U.isObject(arguments[0])){this.setConfig(arguments[0])}else{}}.apply(this,arguments)};return ax5uploader}());UPLOADER=ax5.ui.uploader})();(function(){var UPLOADER=ax5.ui.uploader;var uploadProgress=function uploadProgress(columnKeys){return"\n        "};var inputFile=function inputFile(columnKeys){return"<input type=\"file\" data-ax5uploader-input=\"{{instanceId}}\" name=\"{{name}}\" {{#multiple}}multiple{{/multiple}} accept=\"{{accept}}\" />"};var inputFileForm=function inputFileForm(columnKeys){return"<form data-ax5uploader-form=\"{{instanceId}}\" name=\"ax5uploader-{{instanceId}}-form\" method=\"post\" enctype=\"multipart/form-data\"></form>"};var progressBox=function progressBox(columnKeys){return"\n<div data-ax5uploader-progressbox=\"{{instanceId}}\" class=\"{{theme}}\">\n    <div class=\"ax-progressbox-body\">\n        <div class=\"ax-pregressbox-content\">\n            <div class=\"progress\">\n              <div class=\"progress-bar progress-bar-striped active\" role=\"progressbar\" style=\"width: 0\">\n                <span class=\"sr-only\">0% Complete</span>\n              </div>\n            </div>\n        </div>\n        {{#btns}}\n            <div class=\"ax-progressbox-buttons\">\n            {{#btns}}\n                {{#@each}}\n                <button data-pregressbox-btn=\"{{@key}}\" class=\"btn btn-default {{@value.theme}}\">{{@value.label}}</button>\n                {{/@each}}\n            {{/btns}}\n            </div>\n        {{/btns}}\n    </div>\n    <div class=\"ax-progressbox-arrow\"></div>\n</div>\n"};var upoadedBox=function upoadedBox(columnKeys){return"\n{{#uploadedFiles}}<div data-ax5uploader-uploaded-item=\"{{@i}}\">\n    <div class=\"uploaded-item-preview\">\n        {{#"+columnKeys.thumbnail+"}}<img src=\""+columnKeys.apiServerUrl+"{{"+columnKeys.thumbnail+"}}\">{{/"+columnKeys.thumbnail+"}}\n    </div>\n    <div class=\"uploaded-item-holder\">\n        <div class=\"uploaded-item-cell\" data-uploaded-item-cell=\"download\">{{{icon.download}}}</div>\n        <div class=\"uploaded-item-cell\" data-uploaded-item-cell=\"filename\">{{"+columnKeys.name+"}}</div>\n        <div class=\"uploaded-item-cell\" data-uploaded-item-cell=\"filesize\">({{#@fn_get_byte}}{{"+columnKeys.size+"}}{{/@fn_get_byte}})</div>\n        <div class=\"uploaded-item-cell\" data-uploaded-item-cell=\"delete\">{{{icon.delete}}}</div>\n    </div>\n</div>{{/uploadedFiles}}\n{{^uploadedFiles}}\n{{#supportFileApi}}{{{lang.supportedHTML5_emptyListMsg}}}{{/supportFileApi}}\n{{^supportFileApi}}{{{lang.emptyListMsg}}}{{/supportFileApi}}\n{{/uploadedFiles}}\n"};UPLOADER.tmpl={"uploadProgress":uploadProgress,"inputFile":inputFile,"inputFileForm":inputFileForm,"progressBox":progressBox,"upoadedBox":upoadedBox,get:function get(tmplName,data,columnKeys){data["@fn_get_byte"]=function(){return function(text,render){return ax5.util.number(render(text),{round:2,byte:true})}};return ax5.mustache.render(UPLOADER.tmpl[tmplName].call(this,columnKeys),data)}}})();"use strict";!function(){var t=ax5.ui,e=ax5.util;t.addClass({className:"binder"},function(){return function(){var t;this.instanceId=ax5.getGuid(),this.config={},t=this.config,this.model={},this.tmpl={},this.view_target=null,this.change_trigger={},this.click_trigger={},this.update_trigger={},this.onerror=null;var a=Object.prototype.toString,i=function(t){var e;return null!=t&&t==t.window?e="window":t&&1==t.nodeType?e="element":t&&11==t.nodeType?e="fragment":"undefined"==typeof t?e="undefined":"[object Object]"==a.call(t)?e="object":"[object Array]"==a.call(t)?e="array":"[object String]"==a.call(t)?e="string":"[object Number]"==a.call(t)?e="number":"[object NodeList]"==a.call(t)?e="nodelist":"function"==typeof t&&(e="function"),e},n=function(t,e,a){return t+"["+e+"]"+("."==a?"":"."+a)},r=function(t){var e=[],a=[].concat(t.split(/[\.\[\]]/g));return a.forEach(function(t){""!==t&&e.push('["'+t.replace(/['\"]/g,"")+'"]')}),a=null,e.join("")};this.setModel=function(t,e){return this.model=t,!this.view_target&&e?(this.view_target=e,this._binding()):this._binding("update"),this},this.set=function(t,e){var a,n,h,l=this;if(Function("val","this"+r(t)+" = val;").call(this.model,e),a=i(e),"object"==a)for(var s in e)this.set(t+"."+s,e[s]);else if("array"==a)for(this.view_target.find('[data-ax-path="'+t+'"]').each(function(){h=(this.type||"").toLowerCase(),"checkbox"!=h&&"radio"!=h||l.set_els_value(this,this.tagName.toLowerCase(),h,e,t,"change")}),n=e.length;n--;)this.set(t+"["+n+"]",e[n]);else this.view_target.find('[data-ax-path="'+t+'"]').each(function(){l.set_els_value(this,this.tagName.toLowerCase(),(this.type||"").toLowerCase(),e,t,"change")});return this},this.get=function(t){return"undefined"==typeof t?this.model:Function("","return this"+r(t)+";").call(this.model)},this.onChange=function(t,e){return this.change_trigger[t||"*"]=e,this},this.onClick=function(t,e){return this.click_trigger[t]=e,this},this.add=function(t,e){var a=Function("","return this"+r(t)+";").call(this.model),i=this.tmpl[t];e["@i"]=a.length,e["@r"]=a.length,e.__ADDED__=!0,Function("val","this"+r(t)+".push(val);").call(this.model,e);for(var n in i){var h=$(ax5.mustache.render(i[n].content,e));h.attr("data-ax-repeat-path",t),h.attr("data-ax-repeat-i",e["@i"]),this.bind_event_tmpl(h,t),i[n].container.append(h)}this.change("*");var l=this.update_trigger[t];if(l){var s={repeat_path:t,tmpl:i,list:a};l.call(s,s)}return this},this.remove=function(t,e){var a=Function("","return this"+r(t)+";").call(this.model),i=this.tmpl[t];"undefined"==typeof e&&(e=a.length-1);var n=a[e];n.__ADDED__?a.splice(e,1):a[e].__DELETED__=!0;for(var h in i)i[h].container.empty(),this.print_tmpl(t,i[h]);this.change("*");var l=this.update_trigger[t];if(l){var s={repeat_path:t,tmpl:i,list:a};l.call(s,s)}return this},this.update=function(t,e,a){var i=Function("","return this"+r(t)+";").call(this.model),n=this.tmpl[t];"undefined"!=typeof e&&a&&i.splice(e,1,a);for(var h in n)n[h].container.empty(),this.print_tmpl(t,n[h]);this.change("*");var l=this.update_trigger[t];if(l){var s={repeat_path:t,tmpl:n,list:i};l.call(s,s)}return this},this.childAdd=function(t,e,a,i){var n=Function("","return this"+r(t)+";").call(this.model),h=Function("","return this"+r(t)+"["+e+"]."+a+";").call(this.model);i.__ADDED__=!0,h.push(i),this.update(t,e,n[e])},this.childRemove=function(t,e,a,i){var n=Function("","return this"+r(t)+";").call(this.model),h=Function("","return this"+r(t)+"["+e+"]."+a+";").call(this.model),l=h[i];l.__ADDED__?h.splice(i,1):h[i].__DELETED__=!0,this.update(t,e,n[e])},this.childUpdate=function(t,e,a,i,n){var h=Function("","return this"+r(t)+";").call(this.model),l=Function("","return this"+r(t)+"["+e+"]."+a+";").call(this.model);l[i]=n,this.update(t,e,h[e])},this.childSet=function(t,e,a,i){var n=this;return Function("val","this"+r(t)+"["+e+"]."+a+" = val;").call(this.model,i),this.view_target.find('[data-ax-repeat="'+t+'"]').find('[data-ax-repeat-i="'+e+'"]').find('[data-ax-item-path="'+a+'"]').each(function(){n.set_els_value(this,this.tagName.toLowerCase(),(this.type||"").toLowerCase(),i,t+"["+e+"]."+a)}),this},this.onUpdate=function(t,e){return this.update_trigger[t]=e,this},this._binding=function(t){var e=this;this.view_target.find("[data-ax-path]").each(function(){var t,a=$(this),i=a.attr("data-ax-path"),n=(this.type||"").toLowerCase();try{t=Function("","return this"+r(i)+";").call(e.model)}catch(t){e.onerror&&e.onerror("not found target [model."+r(i)+"]")}e.set_els_value(this,this.tagName.toLowerCase(),n,t||"",i)}),"undefined"==typeof t?this.view_target.find("[data-ax-repeat]").each(function(){var t=$(this),a=t.attr("data-ax-repeat"),i=t.attr("data-ax-repeat-idx");"undefined"==typeof e.tmpl[a]&&(e.tmpl[a]={}),"undefined"!=typeof i?e.tmpl[a][i]={container:t,content:t.find("script").html()}:e.tmpl[a][0]={container:t,content:t.find("script").html()},t.empty()}):this.view_target.find("[data-ax-repeat]").each(function(){var t=$(this);t.empty().show()}),this.view_target.find("[data-ax-path]").off("change.axbinder").on("change.axbinder",function(t){var a,n,h=!1,l=[],s=$(t.target),o=s.attr("data-ax-path"),c=Function("","return this"+r(o)+";").call(e.model),u=(this.type||"").toLowerCase(),d=i(c),f=!0;if("object"!=d&&"array"!=d||(f=!1),"checkbox"==u){if(e.view_target.find('[data-ax-path="'+o+'"]').length>1){for("array"!=i(c)&&(c="undefined"==typeof c||""==c?[]:[].concat(c)),a=c.length,h=!1,n=this.checked;a--;)c[a]==this.value&&(h=!0);if(n)h||c.push(this.value);else{for(a=c.length;a--;)c[a]==this.value||l.push(c[a]);c=l}}else c=this.checked?this.value:"";Function("val","this"+r(o)+" = val;").call(e.model,c),e.change(o,{el:this,jquery:s,tagname:this.tagName.toLowerCase(),value:c})}else f&&(Function("val","this"+r(o)+" = val;").call(e.model,this.value),e.change(o,{el:this,jquery:s,tagname:this.tagName.toLowerCase(),value:this.value}));s.data("changedTime",(new Date).getTime())});var a;for(var n in e.tmpl){for(var h in e.tmpl[n])this.print_tmpl(n,e.tmpl[n][h],"isInit");if(a=this.update_trigger[n]){var l={repeat_path:n,tmpl:e.tmpl[n],list:Function("","return this."+n+";").call(this.model)};a.call(l,l)}}},this.set_els_value=function(t,e,a,i,n,h){i="undefined"==typeof i?[]:[].concat(i);var l,s;if("input"==e)if("checkbox"==a||"radio"==a){s=i.length;var o=!1;try{if(s>0)for(;s--;)"undefined"!=typeof i[s]&&t.value===i[s].toString()&&(o=!0)}catch(t){console.log(t)}t.checked=o}else t.value=i.join("");else if("select"==e){l=t.options,s=l.length;for(var c,u=!1;s--;){for(c=i.length;c--;)if("undefined"!=typeof i[c]&&l[s].value===i[c].toString()){l[s].selected=!0,u=!0;break}if(u)break}u||(l[0]?(l[0].selected=!0,Function("val","this"+r(n)+" = val;").call(this.model,l[0].value)):Function("val","this"+r(n)+" = val;").call(this.model,"")),window.AXSelect&&$("undefined"!=typeof i&&t).bindSelectSetValue(i[i.length-1])}else"textarea"==e?t.value=i.join("")||"":t.innerText?t.innerText=i.join(""):t.innerHTML=i.join("");return h&&this.change(n,{el:t,tagname:e,value:i}),this},this.change=function(t,e){var a=this.change_trigger[t];a&&a.call(e,e),"*"!=t&&this.change_trigger["*"]&&this.change_trigger["*"].call(e,e)},this.click=function(t,e){var a=this.click_trigger[t];a&&a.call(e,e)},this.sync_model=function(){},this.print_tmpl=function(t,e,a){var n=Function("","return this"+r(t)+";").call(this.model);if(n&&"array"==i(n))for(var h=0,l=n.length;h<l;h++){var s=n[h];if(jQuery.isPlainObject(s)?(s["@i"]=h,s["@r"]=h,0===h&&(s["@first"]=!0)):(s={"@i":h,"@value":s},0===h&&(s["@first"]=!0),console.log(s)),!s.__DELETED__){var o=$(ax5.mustache.render(e.content,s));o.attr("data-ax-repeat-path",t),o.attr("data-ax-repeat-i",s["@i"]),this.bind_event_tmpl(o,t),e.container.append(o)}}},this.bind_event_tmpl=function(t,e){var a=this,h=t.attr("data-ax-repeat-i"),l=Function("","return this"+r(e)+";").call(this.model);t.find("[data-ax-repeat-click]").off("click.axbinder").on("click.axbinder",function(t){var i=ax5.util.findParentNode(t.target,function(t){return t.getAttribute("data-ax-repeat-click")});if(i){var n=$(i),r=n.attr("data-ax-repeat-click"),s=(n.attr("data-ax-repeat-path"),{el:i,jquery:n,tagname:i.tagName.toLowerCase(),value:r,repeat_path:e,item:l[h],item_index:h,item_path:e+"["+h+"]"});a.click(e,s)}}),t.find("[data-ax-item-path]").each(function(){var t,i=$(this),r=i.attr("data-ax-item-path"),l=n(e,h,r),s=(this.type||"").toLowerCase();try{t=Function("","return this."+l+";").call(a.model)}catch(t){a.onerror&&a.onerror("not found target [model."+l+"]")}a.set_els_value(this,this.tagName.toLowerCase(),s,t||"",l)}),t.find("[data-ax-item-path]").off("change.axbinder").on("change.axbinder",function(r){var l,s,o=!1,c=[],u=(this.type||"").toLowerCase(),d=$(r.target),f=d.attr("data-ax-item-path"),p=n(e,h,f),g=Function("","return this."+p+";").call(a.model),v=i(g),m=!0;if("object"!=v&&"array"!=v||(m=!1),"checkbox"==u){if(t.find('[data-ax-item-path="'+f+'"]').length>1){for("array"!=i(g)&&(g="undefined"==typeof g||""==g?[]:[].concat(g)),l=g.length,o=!1,s=this.checked;l--;)g[l]==this.value&&(o=!0);if(s)o||g.push(this.value);else{for(l=g.length;l--;)g[l]==this.value||c.push(g[l]);g=c}}else g=this.checked?this.value:"";Function("val","this."+p+" = val;").call(a.model,g),a.change(p,{el:this,jquery:d,tagname:this.tagName.toLowerCase(),value:g})}else m&&(Function("val","this."+p+" = val;").call(a.model,this.value),a.change(p,{el:this,jquery:d,tagname:this.tagName.toLowerCase(),value:this.value}));d.data("changedTime",(new Date).getTime())}),t.find("[data-ax-item-path]").off("blur.axbinder").on("blur.axbinder",function(t){var e=$(t.target);("undefined"==typeof e.data("changedTime")||e.data("changedTime")<(new Date).getTime()-10)&&e.trigger("change")})},this.focus=function(t){return this.view_target.find('[data-ax-path="'+t+'"]').focus(),this},this.validate=function(){var t=this,e=[];return this.view_target.find("[data-ax-path]").each(function(){var a=$(this),i=a.attr("data-ax-path"),n=a.attr("data-ax-validate"),h=a.attr("pattern");if(n){var l,s,o;l=Function("","return this"+r(i)+";").call(t.model),"undefined"!=typeof l&&null!==l||(l=""),s=l.toString(),o=!1,"required"==n&&""==s.trim()?o=!0:"pattern"==n?o=!new RegExp(h).test(s):"email"==n?o=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(s):!/\D.?/g.test(n)&&s.trim().length<n.number()&&(o=!0),o&&e.push({type:n,dataPath:i,el:this,jquery:a,value:l})}}),this.view_target.find("[data-ax-repeat-path]").each(function(){var a=$(this),i=a.attr("data-ax-repeat-path"),n=a.attr("data-ax-repeat-i");a.find("[data-ax-validate]").each(function(){var a=$(this),h=a.attr("data-ax-validate"),l=a.attr("data-ax-item-path"),s=Function("","return this"+r(i)+"["+n+"]."+l+";").call(t.model);"undefined"==typeof s&&(s="");var o=s.toString();if(h){var c=!1;"required"==h&&""==o.trim()?c=!0:"pattern"==h?c=!new RegExp(pattern).test(o):"email"==h?c=!/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/.test(o):!/\D.?/g.test(h)&&o.trim().length<h.number()&&(c=!0),c&&e.push({type:h,dataPath:i,el:this,jquery:a,value:s})}})}),e.length>0?{error:e}:{}},this.main=function(){arguments&&e.isObject(arguments[0])&&this.setConfig(arguments[0])}.apply(this,arguments)}}())}();(function($){var settings={},roots={},caches={},_consts={className:{BUTTON:"button",LEVEL:"level",ICO_LOADING:"ico_loading",SWITCH:"switch",NAME:'node_name'},event:{NODECREATED:"ztree_nodeCreated",CLICK:"ztree_click",EXPAND:"ztree_expand",COLLAPSE:"ztree_collapse",ASYNC_SUCCESS:"ztree_async_success",ASYNC_ERROR:"ztree_async_error",REMOVE:"ztree_remove",SELECTED:"ztree_selected",UNSELECTED:"ztree_unselected"},id:{A:"_a",ICON:"_ico",SPAN:"_span",SWITCH:"_switch",UL:"_ul"},line:{ROOT:"root",ROOTS:"roots",CENTER:"center",BOTTOM:"bottom",NOLINE:"noline",LINE:"line"},folder:{OPEN:"open",CLOSE:"close",DOCU:"docu"},node:{CURSELECTED:"curSelectedNode"}},_setting={treeId:"",treeObj:null,view:{addDiyDom:null,autoCancelSelected:true,dblClickExpand:true,expandSpeed:"fast",fontCss:{},nameIsHTML:false,selectedMulti:true,showIcon:true,showLine:true,showTitle:true,txtSelectedEnable:false},data:{key:{isParent:"isParent",children:"children",name:"name",title:"",url:"url",icon:"icon"},simpleData:{enable:false,idKey:"id",pIdKey:"pId",rootPId:null},keep:{parent:false,leaf:false}},async:{enable:false,contentType:"application/x-www-form-urlencoded",type:"post",dataType:"text",headers:{},xhrFields:{},url:"",autoParam:[],otherParam:[],dataFilter:null},callback:{beforeAsync:null,beforeClick:null,beforeDblClick:null,beforeRightClick:null,beforeMouseDown:null,beforeMouseUp:null,beforeExpand:null,beforeCollapse:null,beforeRemove:null,onAsyncError:null,onAsyncSuccess:null,onNodeCreated:null,onClick:null,onDblClick:null,onRightClick:null,onMouseDown:null,onMouseUp:null,onExpand:null,onCollapse:null,onRemove:null}},_initRoot=function(setting){var r=data.getRoot(setting);if(!r){r={};data.setRoot(setting,r)}data.nodeChildren(setting,r,[]);r.expandTriggerFlag=false;r.curSelectedList=[];r.noSelection=true;r.createdNodes=[];r.zId=0;r._ver=(new Date()).getTime()},_initCache=function(setting){var c=data.getCache(setting);if(!c){c={};data.setCache(setting,c)}c.nodes=[];c.doms=[]},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.bind(c.NODECREATED,function(event,treeId,node){tools.apply(setting.callback.onNodeCreated,[event,treeId,node])});o.bind(c.CLICK,function(event,srcEvent,treeId,node,clickFlag){tools.apply(setting.callback.onClick,[srcEvent,treeId,node,clickFlag])});o.bind(c.EXPAND,function(event,treeId,node){tools.apply(setting.callback.onExpand,[event,treeId,node])});o.bind(c.COLLAPSE,function(event,treeId,node){tools.apply(setting.callback.onCollapse,[event,treeId,node])});o.bind(c.ASYNC_SUCCESS,function(event,treeId,node,msg){tools.apply(setting.callback.onAsyncSuccess,[event,treeId,node,msg])});o.bind(c.ASYNC_ERROR,function(event,treeId,node,XMLHttpRequest,textStatus,errorThrown){tools.apply(setting.callback.onAsyncError,[event,treeId,node,XMLHttpRequest,textStatus,errorThrown])});o.bind(c.REMOVE,function(event,treeId,treeNode){tools.apply(setting.callback.onRemove,[event,treeId,treeNode])});o.bind(c.SELECTED,function(event,treeId,node){tools.apply(setting.callback.onSelected,[treeId,node])});o.bind(c.UNSELECTED,function(event,treeId,node){tools.apply(setting.callback.onUnSelected,[treeId,node])})},_unbindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.NODECREATED).unbind(c.CLICK).unbind(c.EXPAND).unbind(c.COLLAPSE).unbind(c.ASYNC_SUCCESS).unbind(c.ASYNC_ERROR).unbind(c.REMOVE).unbind(c.SELECTED).unbind(c.UNSELECTED)},_eventProxy=function(event){var target=event.target,setting=data.getSetting(event.data.treeId),tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null,tmp=null;if(tools.eqs(event.type,"mousedown")){treeEventType="mousedown"}else if(tools.eqs(event.type,"mouseup")){treeEventType="mouseup"}else if(tools.eqs(event.type,"contextmenu")){treeEventType="contextmenu"}else if(tools.eqs(event.type,"click")){if(tools.eqs(target.tagName,"span")&&target.getAttribute("treeNode"+consts.id.SWITCH)!==null){tId=tools.getNodeMainDom(target).id;nodeEventType="switchNode"}else{tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="clickNode"}}}else if(tools.eqs(event.type,"dblclick")){treeEventType="dblclick";tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="switchNode"}}if(treeEventType.length>0&&tId.length==0){tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id}}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"switchNode":var isParent=data.nodeIsParent(setting,node);if(!isParent){nodeEventType=""}else if(tools.eqs(event.type,"click")||(tools.eqs(event.type,"dblclick")&&tools.apply(setting.view.dblClickExpand,[setting.treeId,node],setting.view.dblClickExpand))){nodeEventCallback=handler.onSwitchNode}else{nodeEventType=""}break;case"clickNode":nodeEventCallback=handler.onClickNode;break}}switch(treeEventType){case"mousedown":treeEventCallback=handler.onZTreeMousedown;break;case"mouseup":treeEventCallback=handler.onZTreeMouseup;break;case"dblclick":treeEventCallback=handler.onZTreeDblclick;break;case"contextmenu":treeEventCallback=handler.onZTreeContextmenu;break}var proxyResult={stop:false,node:node,nodeEventType:nodeEventType,nodeEventCallback:nodeEventCallback,treeEventType:treeEventType,treeEventCallback:treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n)return;var r=data.getRoot(setting),children=data.nodeChildren(setting,n);n.level=level;n.tId=setting.treeId+"_"+(++r.zId);n.parentTId=parentNode?parentNode.tId:null;n.open=(typeof n.open=="string")?tools.eqs(n.open,"true"):!!n.open;var isParent=data.nodeIsParent(setting,n);if(tools.isArray(children)){data.nodeIsParent(setting,n,true);n.zAsync=true}else{isParent=data.nodeIsParent(setting,n,isParent);n.open=(isParent&&!setting.async.enable)?n.open:false;n.zAsync=!isParent}n.isFirstNode=isFirstNode;n.isLastNode=isLastNode;n.getParentNode=function(){return data.getNodeCache(setting,n.parentTId)};n.getPreNode=function(){return data.getPreNode(setting,n)};n.getNextNode=function(){return data.getNextNode(setting,n)};n.getIndex=function(){return data.getNodeIndex(setting,n)};n.getPath=function(){return data.getNodePath(setting,n)};n.isAjaxing=false;data.fixPIdKeyValue(setting,n)},_init={bind:[_bindEvent],unbind:[_unbindEvent],caches:[_initCache],nodes:[_initNode],proxys:[_eventProxy],roots:[_initRoot],beforeA:[],afterA:[],innerBeforeA:[],innerAfterA:[],zTreeTools:[]},data={addNodeCache:function(setting,node){data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=node},getNodeCacheId:function(tId){return tId.substring(tId.lastIndexOf("_")+1)},addAfterA:function(afterA){_init.afterA.push(afterA)},addBeforeA:function(beforeA){_init.beforeA.push(beforeA)},addInnerAfterA:function(innerAfterA){_init.innerAfterA.push(innerAfterA)},addInnerBeforeA:function(innerBeforeA){_init.innerBeforeA.push(innerBeforeA)},addInitBind:function(bindEvent){_init.bind.push(bindEvent)},addInitUnBind:function(unbindEvent){_init.unbind.push(unbindEvent)},addInitCache:function(initCache){_init.caches.push(initCache)},addInitNode:function(initNode){_init.nodes.push(initNode)},addInitProxy:function(initProxy,isFirst){if(!!isFirst){_init.proxys.splice(0,0,initProxy)}else{_init.proxys.push(initProxy)}},addInitRoot:function(initRoot){_init.roots.push(initRoot)},addNodesData:function(setting,parentNode,index,nodes){var children=data.nodeChildren(setting,parentNode),params;if(!children){children=data.nodeChildren(setting,parentNode,[]);index=-1}else if(index>=children.length){index=-1}if(children.length>0&&index===0){children[0].isFirstNode=false;view.setNodeLineIcos(setting,children[0])}else if(children.length>0&&index<0){children[children.length-1].isLastNode=false;view.setNodeLineIcos(setting,children[children.length-1])}data.nodeIsParent(setting,parentNode,true);if(index<0){data.nodeChildren(setting,parentNode,children.concat(nodes))}else{params=[index,0].concat(nodes);children.splice.apply(children,params)}},addSelectedNode:function(setting,node){var root=data.getRoot(setting);if(!data.isSelectedNode(setting,node)){root.curSelectedList.push(node)}},addCreatedNode:function(setting,node){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);root.createdNodes.push(node)}},addZTreeTools:function(zTreeTools){_init.zTreeTools.push(zTreeTools)},exSetting:function(s){$.extend(true,_setting,s)},fixPIdKeyValue:function(setting,node){if(setting.data.simpleData.enable){node[setting.data.simpleData.pIdKey]=node.parentTId?node.getParentNode()[setting.data.simpleData.idKey]:setting.data.simpleData.rootPId}},getAfterA:function(setting,node,array){for(var i=0,j=_init.afterA.length;i<j;i++){_init.afterA[i].apply(this,arguments)}},getBeforeA:function(setting,node,array){for(var i=0,j=_init.beforeA.length;i<j;i++){_init.beforeA[i].apply(this,arguments)}},getInnerAfterA:function(setting,node,array){for(var i=0,j=_init.innerAfterA.length;i<j;i++){_init.innerAfterA[i].apply(this,arguments)}},getInnerBeforeA:function(setting,node,array){for(var i=0,j=_init.innerBeforeA.length;i<j;i++){_init.innerBeforeA[i].apply(this,arguments)}},getCache:function(setting){return caches[setting.treeId]},getNodeIndex:function(setting,node){if(!node)return null;var p=node.parentTId?node.getParentNode():data.getRoot(setting),children=data.nodeChildren(setting,p);for(var i=0,l=children.length-1;i<=l;i++){if(children[i]===node){return i}}return-1},getNextNode:function(setting,node){if(!node)return null;var p=node.parentTId?node.getParentNode():data.getRoot(setting),children=data.nodeChildren(setting,p);for(var i=0,l=children.length-1;i<=l;i++){if(children[i]===node){return(i==l?null:children[i+1])}}return null},getNodeByParam:function(setting,nodes,key,value){if(!nodes||!key)return null;for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];if(node[key]==value){return nodes[i]}var children=data.nodeChildren(setting,node);var tmp=data.getNodeByParam(setting,children,key,value);if(tmp)return tmp}return null},getNodeCache:function(setting,tId){if(!tId)return null;var n=caches[setting.treeId].nodes[data.getNodeCacheId(tId)];return n?n:null},getNodePath:function(setting,node){if(!node)return null;var path;if(node.parentTId){path=node.getParentNode().getPath()}else{path=[]}if(path){path.push(node)}return path},getNodes:function(setting){return data.nodeChildren(setting,data.getRoot(setting))},getNodesByParam:function(setting,nodes,key,value){if(!nodes||!key)return[];var result=[];for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];if(node[key]==value){result.push(node)}var children=data.nodeChildren(setting,node);result=result.concat(data.getNodesByParam(setting,children,key,value))}return result},getNodesByParamFuzzy:function(setting,nodes,key,value){if(!nodes||!key)return[];var result=[];value=value.toLowerCase();for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];if(typeof node[key]=="string"&&nodes[i][key].toLowerCase().indexOf(value)>-1){result.push(node)}var children=data.nodeChildren(setting,node);result=result.concat(data.getNodesByParamFuzzy(setting,children,key,value))}return result},getNodesByFilter:function(setting,nodes,filter,isSingle,invokeParam){if(!nodes)return(isSingle?null:[]);var result=isSingle?null:[];for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];if(tools.apply(filter,[node,invokeParam],false)){if(isSingle){return node}result.push(node)}var children=data.nodeChildren(setting,node);var tmpResult=data.getNodesByFilter(setting,children,filter,isSingle,invokeParam);if(isSingle&&!!tmpResult){return tmpResult}result=isSingle?tmpResult:result.concat(tmpResult)}return result},getPreNode:function(setting,node){if(!node)return null;var p=node.parentTId?node.getParentNode():data.getRoot(setting),children=data.nodeChildren(setting,p);for(var i=0,l=children.length;i<l;i++){if(children[i]===node){return(i==0?null:children[i-1])}}return null},getRoot:function(setting){return setting?roots[setting.treeId]:null},getRoots:function(){return roots},getSetting:function(treeId){return settings[treeId]},getSettings:function(){return settings},getZTreeTools:function(treeId){var r=this.getRoot(this.getSetting(treeId));return r?r.treeTools:null},initCache:function(setting){for(var i=0,j=_init.caches.length;i<j;i++){_init.caches[i].apply(this,arguments)}},initNode:function(setting,level,node,parentNode,preNode,nextNode){for(var i=0,j=_init.nodes.length;i<j;i++){_init.nodes[i].apply(this,arguments)}},initRoot:function(setting){for(var i=0,j=_init.roots.length;i<j;i++){_init.roots[i].apply(this,arguments)}},isSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i])return true}return false},nodeChildren:function(setting,node,newChildren){if(!node){return null}var key=setting.data.key.children;if(typeof newChildren!=='undefined'){node[key]=newChildren}return node[key]},nodeIsParent:function(setting,node,newIsParent){if(!node){return false}var key=setting.data.key.isParent;if(typeof newIsParent!=='undefined'){if(typeof newIsParent==="string"){newIsParent=tools.eqs(newIsParent,"true")}newIsParent=!!newIsParent;node[key]=newIsParent}else if(typeof node[key]=="string"){node[key]=tools.eqs(node[key],"true")}else{node[key]=!!node[key]}return node[key]},nodeName:function(setting,node,newName){var key=setting.data.key.name;if(typeof newName!=='undefined'){node[key]=newName}return""+node[key]},nodeTitle:function(setting,node){var t=setting.data.key.title===""?setting.data.key.name:setting.data.key.title;return""+node[t]},removeNodeCache:function(setting,node){var children=data.nodeChildren(setting,node);if(children){for(var i=0,l=children.length;i<l;i++){data.removeNodeCache(setting,children[i])}}data.getCache(setting).nodes[data.getNodeCacheId(node.tId)]=null},removeSelectedNode:function(setting,node){var root=data.getRoot(setting);for(var i=0,j=root.curSelectedList.length;i<j;i++){if(node===root.curSelectedList[i]||!data.getNodeCache(setting,root.curSelectedList[i].tId)){root.curSelectedList.splice(i,1);setting.treeObj.trigger(consts.event.UNSELECTED,[setting.treeId,node]);i--;j--}}},setCache:function(setting,cache){caches[setting.treeId]=cache},setRoot:function(setting,root){roots[setting.treeId]=root},setZTreeTools:function(setting,zTreeTools){for(var i=0,j=_init.zTreeTools.length;i<j;i++){_init.zTreeTools[i].apply(this,arguments)}},transformToArrayFormat:function(setting,nodes){if(!nodes)return[];var r=[];if(tools.isArray(nodes)){for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];_do(node)}}else{_do(nodes)}return r;function _do(_node){r.push(_node);var children=data.nodeChildren(setting,_node);if(children){r=r.concat(data.transformToArrayFormat(setting,children))}}},transformTozTreeFormat:function(setting,sNodes){var i,l,key=setting.data.simpleData.idKey,parentKey=setting.data.simpleData.pIdKey;if(!key||key==""||!sNodes)return[];if(tools.isArray(sNodes)){var r=[];var tmpMap={};for(i=0,l=sNodes.length;i<l;i++){tmpMap[sNodes[i][key]]=sNodes[i]}for(i=0,l=sNodes.length;i<l;i++){var p=tmpMap[sNodes[i][parentKey]];if(p&&sNodes[i][key]!=sNodes[i][parentKey]){var children=data.nodeChildren(setting,p);if(!children){children=data.nodeChildren(setting,p,[])}children.push(sNodes[i])}else{r.push(sNodes[i])}}return r}else{return[sNodes]}}},event={bindEvent:function(setting){for(var i=0,j=_init.bind.length;i<j;i++){_init.bind[i].apply(this,arguments)}},unbindEvent:function(setting){for(var i=0,j=_init.unbind.length;i<j;i++){_init.unbind[i].apply(this,arguments)}},bindTree:function(setting){var eventParam={treeId:setting.treeId},o=setting.treeObj;if(!setting.view.txtSelectedEnable){o.bind('selectstart',handler.onSelectStart).css({"-moz-user-select":"-moz-none"})}o.bind('click',eventParam,event.proxy);o.bind('dblclick',eventParam,event.proxy);o.bind('mouseover',eventParam,event.proxy);o.bind('mouseout',eventParam,event.proxy);o.bind('mousedown',eventParam,event.proxy);o.bind('mouseup',eventParam,event.proxy);o.bind('contextmenu',eventParam,event.proxy)},unbindTree:function(setting){var o=setting.treeObj;o.unbind('selectstart',handler.onSelectStart).unbind('click',event.proxy).unbind('dblclick',event.proxy).unbind('mouseover',event.proxy).unbind('mouseout',event.proxy).unbind('mousedown',event.proxy).unbind('mouseup',event.proxy).unbind('contextmenu',event.proxy)},doProxy:function(e){var results=[];for(var i=0,j=_init.proxys.length;i<j;i++){var proxyResult=_init.proxys[i].apply(this,arguments);results.push(proxyResult);if(proxyResult.stop){break}}return results},proxy:function(e){var setting=data.getSetting(e.data.treeId);if(!tools.uCanDo(setting,e))return true;var results=event.doProxy(e),r=true,x=false;for(var i=0,l=results.length;i<l;i++){var proxyResult=results[i];if(proxyResult.nodeEventCallback){x=true;r=proxyResult.nodeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}if(proxyResult.treeEventCallback){x=true;r=proxyResult.treeEventCallback.apply(proxyResult,[e,proxyResult.node])&&r}}return r}},handler={onSwitchNode:function(event,node){var setting=data.getSetting(event.data.treeId);if(node.open){if(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false)return true;data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}else{if(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false)return true;data.getRoot(setting).expandTriggerFlag=true;view.switchNode(setting,node)}return true},onClickNode:function(event,node){var setting=data.getSetting(event.data.treeId),clickFlag=((setting.view.autoCancelSelected&&(event.ctrlKey||event.metaKey))&&data.isSelectedNode(setting,node))?0:(setting.view.autoCancelSelected&&(event.ctrlKey||event.metaKey)&&setting.view.selectedMulti)?2:1;if(tools.apply(setting.callback.beforeClick,[setting.treeId,node,clickFlag],true)==false)return true;if(clickFlag===0){view.cancelPreSelectedNode(setting,node)}else{view.selectNode(setting,node,clickFlag===2)}setting.treeObj.trigger(consts.event.CLICK,[event,setting.treeId,node,clickFlag]);return true},onZTreeMousedown:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeMouseDown,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseDown,[event,setting.treeId,node])}return true},onZTreeMouseup:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeMouseUp,[setting.treeId,node],true)){tools.apply(setting.callback.onMouseUp,[event,setting.treeId,node])}return true},onZTreeDblclick:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeDblClick,[setting.treeId,node],true)){tools.apply(setting.callback.onDblClick,[event,setting.treeId,node])}return true},onZTreeContextmenu:function(event,node){var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeRightClick,[setting.treeId,node],true)){tools.apply(setting.callback.onRightClick,[event,setting.treeId,node])}return(typeof setting.callback.onRightClick)!="function"},onSelectStart:function(e){var n=e.originalEvent.srcElement.nodeName.toLowerCase();return(n==="input"||n==="textarea")}},tools={apply:function(fun,param,defaultValue){if((typeof fun)=="function"){return fun.apply(zt,param?param:[])}return defaultValue},canAsync:function(setting,node){var children=data.nodeChildren(setting,node);var isParent=data.nodeIsParent(setting,node);return(setting.async.enable&&node&&isParent&&!(node.zAsync||(children&&children.length>0)))},clone:function(obj){if(obj===null)return null;var o=tools.isArray(obj)?[]:{};for(var i in obj){o[i]=(obj[i]instanceof Date)?new Date(obj[i].getTime()):(typeof obj[i]==="object"?tools.clone(obj[i]):obj[i])}return o},eqs:function(str1,str2){return str1.toLowerCase()===str2.toLowerCase()},isArray:function(arr){return Object.prototype.toString.apply(arr)==="[object Array]"},isElement:function(o){return(typeof HTMLElement==="object"?o instanceof HTMLElement:o&&typeof o==="object"&&o!==null&&o.nodeType===1&&typeof o.nodeName==="string")},$:function(node,exp,setting){if(!!exp&&typeof exp!="string"){setting=exp;exp=""}if(typeof node=="string"){return $(node,setting?setting.treeObj.get(0).ownerDocument:null)}else{return $("#"+node.tId+exp,setting?setting.treeObj:null)}},getMDom:function(setting,curDom,targetExpr){if(!curDom)return null;while(curDom&&curDom.id!==setting.treeId){for(var i=0,l=targetExpr.length;curDom.tagName&&i<l;i++){if(tools.eqs(curDom.tagName,targetExpr[i].tagName)&&curDom.getAttribute(targetExpr[i].attrName)!==null){return curDom}}curDom=curDom.parentNode}return null},getNodeMainDom:function(target){return($(target).parent("li").get(0)||$(target).parentsUntil("li").parent().get(0))},isChildOrSelf:function(dom,parentId){return($(dom).closest("#"+parentId).length>0)},uCanDo:function(setting,e){return true}},view={addNodes:function(setting,parentNode,index,newNodes,isSilent){var isParent=data.nodeIsParent(setting,parentNode);if(setting.data.keep.leaf&&parentNode&&!isParent){return}if(!tools.isArray(newNodes)){newNodes=[newNodes]}if(setting.data.simpleData.enable){newNodes=data.transformTozTreeFormat(setting,newNodes)}if(parentNode){var target_switchObj=$$(parentNode,consts.id.SWITCH,setting),target_icoObj=$$(parentNode,consts.id.ICON,setting),target_ulObj=$$(parentNode,consts.id.UL,setting);if(!parentNode.open){view.replaceSwitchClass(parentNode,target_switchObj,consts.folder.CLOSE);view.replaceIcoClass(parentNode,target_icoObj,consts.folder.CLOSE);parentNode.open=false;target_ulObj.css({"display":"none"})}data.addNodesData(setting,parentNode,index,newNodes);view.createNodes(setting,parentNode.level+1,newNodes,parentNode,index);if(!isSilent){view.expandCollapseParentNode(setting,parentNode,true)}}else{data.addNodesData(setting,data.getRoot(setting),index,newNodes);view.createNodes(setting,0,newNodes,null,index)}},appendNodes:function(setting,level,nodes,parentNode,index,initFlag,openFlag){if(!nodes)return[];var html=[];var tmpPNode=(parentNode)?parentNode:data.getRoot(setting),tmpPChild=data.nodeChildren(setting,tmpPNode),isFirstNode,isLastNode;if(!tmpPChild||index>=tmpPChild.length-nodes.length){index=-1}for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];if(initFlag){isFirstNode=((index===0||tmpPChild.length==nodes.length)&&(i==0));isLastNode=(index<0&&i==(nodes.length-1));data.initNode(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag);data.addNodeCache(setting,node)}var isParent=data.nodeIsParent(setting,node);var childHtml=[];var children=data.nodeChildren(setting,node);if(children&&children.length>0){childHtml=view.appendNodes(setting,level+1,children,node,-1,initFlag,openFlag&&node.open)}if(openFlag){view.makeDOMNodeMainBefore(html,setting,node);view.makeDOMNodeLine(html,setting,node);data.getBeforeA(setting,node,html);view.makeDOMNodeNameBefore(html,setting,node);data.getInnerBeforeA(setting,node,html);view.makeDOMNodeIcon(html,setting,node);data.getInnerAfterA(setting,node,html);view.makeDOMNodeNameAfter(html,setting,node);data.getAfterA(setting,node,html);if(isParent&&node.open){view.makeUlHtml(setting,node,html,childHtml.join(''))}view.makeDOMNodeMainAfter(html,setting,node);data.addCreatedNode(setting,node)}}return html},appendParentULDom:function(setting,node){var html=[],nObj=$$(node,setting);if(!nObj.get(0)&&!!node.parentTId){view.appendParentULDom(setting,node.getParentNode());nObj=$$(node,setting)}var ulObj=$$(node,consts.id.UL,setting);if(ulObj.get(0)){ulObj.remove()}var children=data.nodeChildren(setting,node),childHtml=view.appendNodes(setting,node.level+1,children,node,-1,false,true);view.makeUlHtml(setting,node,html,childHtml.join(''));nObj.append(html.join(''))},asyncNode:function(setting,node,isSilent,callback){var i,l;var isParent=data.nodeIsParent(setting,node);if(node&&!isParent){tools.apply(callback);return false}else if(node&&node.isAjaxing){return false}else if(tools.apply(setting.callback.beforeAsync,[setting.treeId,node],true)==false){tools.apply(callback);return false}if(node){node.isAjaxing=true;var icoObj=$$(node,consts.id.ICON,setting);icoObj.attr({"style":"","class":consts.className.BUTTON+" "+consts.className.ICO_LOADING})}var tmpParam={};var autoParam=tools.apply(setting.async.autoParam,[setting.treeId,node],setting.async.autoParam);for(i=0,l=autoParam.length;node&&i<l;i++){var pKey=autoParam[i].split("="),spKey=pKey;if(pKey.length>1){spKey=pKey[1];pKey=pKey[0]}tmpParam[spKey]=node[pKey]}var otherParam=tools.apply(setting.async.otherParam,[setting.treeId,node],setting.async.otherParam);if(tools.isArray(otherParam)){for(i=0,l=otherParam.length;i<l;i+=2){tmpParam[otherParam[i]]=otherParam[i+1]}}else{for(var p in otherParam){tmpParam[p]=otherParam[p]}}var _tmpV=data.getRoot(setting)._ver;$.ajax({contentType:setting.async.contentType,cache:false,type:setting.async.type,url:tools.apply(setting.async.url,[setting.treeId,node],setting.async.url),data:setting.async.contentType.indexOf('application/json')>-1?JSON.stringify(tmpParam):tmpParam,dataType:setting.async.dataType,headers:setting.async.headers,xhrFields:setting.async.xhrFields,success:function(msg){if(_tmpV!=data.getRoot(setting)._ver){return}var newNodes=[];try{if(!msg||msg.length==0){newNodes=[]}else if(typeof msg=="string"){newNodes=eval("("+msg+")")}else{newNodes=msg}}catch(err){newNodes=msg}if(node){node.isAjaxing=null;node.zAsync=true}view.setNodeLineIcos(setting,node);if(newNodes&&newNodes!==""){newNodes=tools.apply(setting.async.dataFilter,[setting.treeId,node,newNodes],newNodes);view.addNodes(setting,node,-1,!!newNodes?tools.clone(newNodes):[],!!isSilent)}else{view.addNodes(setting,node,-1,[],!!isSilent)}setting.treeObj.trigger(consts.event.ASYNC_SUCCESS,[setting.treeId,node,msg]);tools.apply(callback)},error:function(XMLHttpRequest,textStatus,errorThrown){if(_tmpV!=data.getRoot(setting)._ver){return}if(node)node.isAjaxing=null;view.setNodeLineIcos(setting,node);setting.treeObj.trigger(consts.event.ASYNC_ERROR,[setting.treeId,node,XMLHttpRequest,textStatus,errorThrown])}});return true},cancelPreSelectedNode:function(setting,node,excludeNode){var list=data.getRoot(setting).curSelectedList,i,n;for(i=list.length-1;i>=0;i--){n=list[i];if(node===n||(!node&&(!excludeNode||excludeNode!==n))){$$(n,consts.id.A,setting).removeClass(consts.node.CURSELECTED);if(node){data.removeSelectedNode(setting,node);break}else{list.splice(i,1);setting.treeObj.trigger(consts.event.UNSELECTED,[setting.treeId,n])}}}},createNodeCallback:function(setting){if(!!setting.callback.onNodeCreated||!!setting.view.addDiyDom){var root=data.getRoot(setting);while(root.createdNodes.length>0){var node=root.createdNodes.shift();tools.apply(setting.view.addDiyDom,[setting.treeId,node]);if(!!setting.callback.onNodeCreated){setting.treeObj.trigger(consts.event.NODECREATED,[setting.treeId,node])}}}},createNodes:function(setting,level,nodes,parentNode,index){if(!nodes||nodes.length==0)return;var root=data.getRoot(setting),openFlag=!parentNode||parentNode.open||!!$$(data.nodeChildren(setting,parentNode)[0],setting).get(0);root.createdNodes=[];var zTreeHtml=view.appendNodes(setting,level,nodes,parentNode,index,true,openFlag),parentObj,nextObj;if(!parentNode){parentObj=setting.treeObj}else{var ulObj=$$(parentNode,consts.id.UL,setting);if(ulObj.get(0)){parentObj=ulObj}}if(parentObj){if(index>=0){nextObj=parentObj.children()[index]}if(index>=0&&nextObj){$(nextObj).before(zTreeHtml.join(''))}else{parentObj.append(zTreeHtml.join(''))}}view.createNodeCallback(setting)},destroy:function(setting){if(!setting)return;data.initCache(setting);data.initRoot(setting);event.unbindTree(setting);event.unbindEvent(setting);setting.treeObj.empty();delete settings[setting.treeId]},expandCollapseNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting);var tmpCb,_callback;if(!node){tools.apply(callback,[]);return}var children=data.nodeChildren(setting,node);var isParent=data.nodeIsParent(setting,node);if(root.expandTriggerFlag){_callback=callback;tmpCb=function(){if(_callback)_callback();if(node.open){setting.treeObj.trigger(consts.event.EXPAND,[setting.treeId,node])}else{setting.treeObj.trigger(consts.event.COLLAPSE,[setting.treeId,node])}};callback=tmpCb;root.expandTriggerFlag=false}if(!node.open&&isParent&&((!$$(node,consts.id.UL,setting).get(0))||(children&&children.length>0&&!$$(children[0],setting).get(0)))){view.appendParentULDom(setting,node);view.createNodeCallback(setting)}if(node.open==expandFlag){tools.apply(callback,[]);return}var ulObj=$$(node,consts.id.UL,setting),switchObj=$$(node,consts.id.SWITCH,setting),icoObj=$$(node,consts.id.ICON,setting);if(isParent){node.open=!node.open;if(node.iconOpen&&node.iconClose){icoObj.attr("style",view.makeNodeIcoStyle(setting,node))}if(node.open){view.replaceSwitchClass(node,switchObj,consts.folder.OPEN);view.replaceIcoClass(node,icoObj,consts.folder.OPEN);if(animateFlag==false||setting.view.expandSpeed==""){ulObj.show();tools.apply(callback,[])}else{if(children&&children.length>0){ulObj.slideDown(setting.view.expandSpeed,callback)}else{ulObj.show();tools.apply(callback,[])}}}else{view.replaceSwitchClass(node,switchObj,consts.folder.CLOSE);view.replaceIcoClass(node,icoObj,consts.folder.CLOSE);if(animateFlag==false||setting.view.expandSpeed==""||!(children&&children.length>0)){ulObj.hide();tools.apply(callback,[])}else{ulObj.slideUp(setting.view.expandSpeed,callback)}}}else{tools.apply(callback,[])}},expandCollapseParentNode:function(setting,node,expandFlag,animateFlag,callback){if(!node)return;if(!node.parentTId){view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback);return}else{view.expandCollapseNode(setting,node,expandFlag,animateFlag)}if(node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,animateFlag,callback)}},expandCollapseSonNode:function(setting,node,expandFlag,animateFlag,callback){var root=data.getRoot(setting),treeNodes=(node)?data.nodeChildren(setting,node):data.nodeChildren(setting,root),selfAnimateSign=(node)?false:animateFlag,expandTriggerFlag=data.getRoot(setting).expandTriggerFlag;data.getRoot(setting).expandTriggerFlag=false;if(treeNodes){for(var i=0,l=treeNodes.length;i<l;i++){if(treeNodes[i])view.expandCollapseSonNode(setting,treeNodes[i],expandFlag,selfAnimateSign)}}data.getRoot(setting).expandTriggerFlag=expandTriggerFlag;view.expandCollapseNode(setting,node,expandFlag,animateFlag,callback)},isSelectedNode:function(setting,node){if(!node){return false}var list=data.getRoot(setting).curSelectedList,i;for(i=list.length-1;i>=0;i--){if(node===list[i]){return true}}return false},makeDOMNodeIcon:function(html,setting,node){var nameStr=data.nodeName(setting,node),name=setting.view.nameIsHTML?nameStr:nameStr.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');html.push("<span id='",node.tId,consts.id.ICON,"' title='' treeNode",consts.id.ICON," class='",view.makeNodeIcoClass(setting,node),"' style='",view.makeNodeIcoStyle(setting,node),"'></span><span id='",node.tId,consts.id.SPAN,"' class='",consts.className.NAME,"'>",name,"</span>")},makeDOMNodeLine:function(html,setting,node){html.push("<span id='",node.tId,consts.id.SWITCH,"' title='' class='",view.makeNodeLineClass(setting,node),"' treeNode",consts.id.SWITCH,"></span>")},makeDOMNodeMainAfter:function(html,setting,node){html.push("</li>")},makeDOMNodeMainBefore:function(html,setting,node){html.push("<li id='",node.tId,"' class='",consts.className.LEVEL,node.level,"' tabindex='0' hidefocus='true' treenode>")},makeDOMNodeNameAfter:function(html,setting,node){html.push("</a>")},makeDOMNodeNameBefore:function(html,setting,node){var title=data.nodeTitle(setting,node),url=view.makeNodeUrl(setting,node),fontcss=view.makeNodeFontCss(setting,node),fontStyle=[];for(var f in fontcss){fontStyle.push(f,":",fontcss[f],";")}html.push("<a id='",node.tId,consts.id.A,"' class='",consts.className.LEVEL,node.level,"' treeNode",consts.id.A," onclick=\"",(node.click||''),"\" ",((url!=null&&url.length>0)?"href='"+url+"'":"")," target='",view.makeNodeTarget(node),"' style='",fontStyle.join(''),"'");if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)&&title){html.push("title='",title.replace(/'/g,"&#39;").replace(/</g,'&lt;').replace(/>/g,'&gt;'),"'")}html.push(">")},makeNodeFontCss:function(setting,node){var fontCss=tools.apply(setting.view.fontCss,[setting.treeId,node],setting.view.fontCss);return(fontCss&&((typeof fontCss)!="function"))?fontCss:{}},makeNodeIcoClass:function(setting,node){var icoCss=["ico"];if(!node.isAjaxing){var isParent=data.nodeIsParent(setting,node);icoCss[0]=(node.iconSkin?node.iconSkin+"_":"")+icoCss[0];if(isParent){icoCss.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{icoCss.push(consts.folder.DOCU)}}return consts.className.BUTTON+" "+icoCss.join('_')},makeNodeIcoStyle:function(setting,node){var icoStyle=[];if(!node.isAjaxing){var isParent=data.nodeIsParent(setting,node);var icon=(isParent&&node.iconOpen&&node.iconClose)?(node.open?node.iconOpen:node.iconClose):node[setting.data.key.icon];if(icon)icoStyle.push("background:url(",icon,") 0 0 no-repeat;");if(setting.view.showIcon==false||!tools.apply(setting.view.showIcon,[setting.treeId,node],true)){icoStyle.push("width:0px;height:0px;")}}return icoStyle.join('')},makeNodeLineClass:function(setting,node){var lineClass=[];if(setting.view.showLine){if(node.level==0&&node.isFirstNode&&node.isLastNode){lineClass.push(consts.line.ROOT)}else if(node.level==0&&node.isFirstNode){lineClass.push(consts.line.ROOTS)}else if(node.isLastNode){lineClass.push(consts.line.BOTTOM)}else{lineClass.push(consts.line.CENTER)}}else{lineClass.push(consts.line.NOLINE)}if(data.nodeIsParent(setting,node)){lineClass.push(node.open?consts.folder.OPEN:consts.folder.CLOSE)}else{lineClass.push(consts.folder.DOCU)}return view.makeNodeLineClassEx(node)+lineClass.join('_')},makeNodeLineClassEx:function(node){return consts.className.BUTTON+" "+consts.className.LEVEL+node.level+" "+consts.className.SWITCH+" "},makeNodeTarget:function(node){return(node.target||"_blank")},makeNodeUrl:function(setting,node){var urlKey=setting.data.key.url;return node[urlKey]?node[urlKey]:null},makeUlHtml:function(setting,node,html,content){html.push("<ul id='",node.tId,consts.id.UL,"' class='",consts.className.LEVEL,node.level," ",view.makeUlLineClass(setting,node),"' style='display:",(node.open?"block":"none"),"'>");html.push(content);html.push("</ul>")},makeUlLineClass:function(setting,node){return((setting.view.showLine&&!node.isLastNode)?consts.line.LINE:"")},removeChildNodes:function(setting,node){if(!node)return;var nodes=data.nodeChildren(setting,node);if(!nodes)return;for(var i=0,l=nodes.length;i<l;i++){data.removeNodeCache(setting,nodes[i])}data.removeSelectedNode(setting);delete node[setting.data.key.children];if(!setting.data.keep.parent){data.nodeIsParent(setting,node,false);node.open=false;var tmp_switchObj=$$(node,consts.id.SWITCH,setting),tmp_icoObj=$$(node,consts.id.ICON,setting);view.replaceSwitchClass(node,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(node,tmp_icoObj,consts.folder.DOCU);$$(node,consts.id.UL,setting).remove()}else{$$(node,consts.id.UL,setting).empty()}},scrollIntoView:function(setting,dom){if(!dom){return}if(typeof Element==='undefined'){var contRect=setting.treeObj.get(0).getBoundingClientRect(),findMeRect=dom.getBoundingClientRect();if(findMeRect.top<contRect.top||findMeRect.bottom>contRect.bottom||findMeRect.right>contRect.right||findMeRect.left<contRect.left){dom.scrollIntoView()}return}if(!Element.prototype.scrollIntoViewIfNeeded){Element.prototype.scrollIntoViewIfNeeded=function(centerIfNeeded){"use strict";function makeRange(start,length){return{"start":start,"length":length,"end":start+length}}function coverRange(inner,outer){if(false===centerIfNeeded||(outer.start<inner.end&&inner.start<outer.end)){return Math.max(inner.end-outer.length,Math.min(outer.start,inner.start))}return(inner.start+inner.end-outer.length)/2}function makePoint(x,y){return{"x":x,"y":y,"translate":function translate(dX,dY){return makePoint(x+dX,y+dY)}}}function absolute(elem,pt){while(elem){pt=pt.translate(elem.offsetLeft,elem.offsetTop);elem=elem.offsetParent}return pt}var target=absolute(this,makePoint(0,0)),extent=makePoint(this.offsetWidth,this.offsetHeight),elem=this.parentNode,origin;while(elem instanceof HTMLElement){origin=absolute(elem,makePoint(elem.clientLeft,elem.clientTop));elem.scrollLeft=coverRange(makeRange(target.x-origin.x,extent.x),makeRange(elem.scrollLeft,elem.clientWidth));elem.scrollTop=coverRange(makeRange(target.y-origin.y,extent.y),makeRange(elem.scrollTop,elem.clientHeight));target=target.translate(-elem.scrollLeft,-elem.scrollTop);elem=elem.parentNode}}}dom.scrollIntoViewIfNeeded()},setFirstNode:function(setting,parentNode){var children=data.nodeChildren(setting,parentNode);if(children.length>0){children[0].isFirstNode=true}},setLastNode:function(setting,parentNode){var children=data.nodeChildren(setting,parentNode);if(children.length>0){children[children.length-1].isLastNode=true}},removeNode:function(setting,node){var root=data.getRoot(setting),parentNode=(node.parentTId)?node.getParentNode():root;node.isFirstNode=false;node.isLastNode=false;node.getPreNode=function(){return null};node.getNextNode=function(){return null};if(!data.getNodeCache(setting,node.tId)){return}$$(node,setting).remove();data.removeNodeCache(setting,node);data.removeSelectedNode(setting,node);var children=data.nodeChildren(setting,parentNode);for(var i=0,l=children.length;i<l;i++){if(children[i].tId==node.tId){children.splice(i,1);break}}view.setFirstNode(setting,parentNode);view.setLastNode(setting,parentNode);var tmp_ulObj,tmp_switchObj,tmp_icoObj,childLength=children.length;if(!setting.data.keep.parent&&childLength==0){data.nodeIsParent(setting,parentNode,false);parentNode.open=false;delete parentNode[setting.data.key.children];tmp_ulObj=$$(parentNode,consts.id.UL,setting);tmp_switchObj=$$(parentNode,consts.id.SWITCH,setting);tmp_icoObj=$$(parentNode,consts.id.ICON,setting);view.replaceSwitchClass(parentNode,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(parentNode,tmp_icoObj,consts.folder.DOCU);tmp_ulObj.css("display","none")}else if(setting.view.showLine&&childLength>0){var newLast=children[childLength-1];tmp_ulObj=$$(newLast,consts.id.UL,setting);tmp_switchObj=$$(newLast,consts.id.SWITCH,setting);tmp_icoObj=$$(newLast,consts.id.ICON,setting);if(parentNode==root){if(children.length==1){view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.ROOT)}else{var tmp_first_switchObj=$$(children[0],consts.id.SWITCH,setting);view.replaceSwitchClass(children[0],tmp_first_switchObj,consts.line.ROOTS);view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}}else{view.replaceSwitchClass(newLast,tmp_switchObj,consts.line.BOTTOM)}tmp_ulObj.removeClass(consts.line.LINE)}},replaceIcoClass:function(node,obj,newName){if(!obj||node.isAjaxing)return;var tmpName=obj.attr("class");if(tmpName==undefined)return;var tmpList=tmpName.split("_");switch(newName){case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[tmpList.length-1]=newName;break}obj.attr("class",tmpList.join("_"))},replaceSwitchClass:function(node,obj,newName){if(!obj)return;var tmpName=obj.attr("class");if(tmpName==undefined)return;var tmpList=tmpName.split("_");switch(newName){case consts.line.ROOT:case consts.line.ROOTS:case consts.line.CENTER:case consts.line.BOTTOM:case consts.line.NOLINE:tmpList[0]=view.makeNodeLineClassEx(node)+newName;break;case consts.folder.OPEN:case consts.folder.CLOSE:case consts.folder.DOCU:tmpList[1]=newName;break}obj.attr("class",tmpList.join("_"));if(newName!==consts.folder.DOCU){obj.removeAttr("disabled")}else{obj.attr("disabled","disabled")}},selectNode:function(setting,node,addFlag){if(!addFlag){view.cancelPreSelectedNode(setting,null,node)}$$(node,consts.id.A,setting).addClass(consts.node.CURSELECTED);data.addSelectedNode(setting,node);setting.treeObj.trigger(consts.event.SELECTED,[setting.treeId,node])},setNodeFontCss:function(setting,treeNode){var aObj=$$(treeNode,consts.id.A,setting),fontCss=view.makeNodeFontCss(setting,treeNode);if(fontCss){aObj.css(fontCss)}},setNodeLineIcos:function(setting,node){if(!node)return;var switchObj=$$(node,consts.id.SWITCH,setting),ulObj=$$(node,consts.id.UL,setting),icoObj=$$(node,consts.id.ICON,setting),ulLine=view.makeUlLineClass(setting,node);if(ulLine.length==0){ulObj.removeClass(consts.line.LINE)}else{ulObj.addClass(ulLine)}switchObj.attr("class",view.makeNodeLineClass(setting,node));if(data.nodeIsParent(setting,node)){switchObj.removeAttr("disabled")}else{switchObj.attr("disabled","disabled")}icoObj.removeAttr("style");icoObj.attr("style",view.makeNodeIcoStyle(setting,node));icoObj.attr("class",view.makeNodeIcoClass(setting,node))},setNodeName:function(setting,node){var title=data.nodeTitle(setting,node),nObj=$$(node,consts.id.SPAN,setting);nObj.empty();if(setting.view.nameIsHTML){nObj.html(data.nodeName(setting,node))}else{nObj.text(data.nodeName(setting,node))}if(tools.apply(setting.view.showTitle,[setting.treeId,node],setting.view.showTitle)){var aObj=$$(node,consts.id.A,setting);aObj.attr("title",!title?"":title)}},setNodeTarget:function(setting,node){var aObj=$$(node,consts.id.A,setting);aObj.attr("target",view.makeNodeTarget(node))},setNodeUrl:function(setting,node){var aObj=$$(node,consts.id.A,setting),url=view.makeNodeUrl(setting,node);if(url==null||url.length==0){aObj.removeAttr("href")}else{aObj.attr("href",url)}},switchNode:function(setting,node){if(node.open||!tools.canAsync(setting,node)){view.expandCollapseNode(setting,node,!node.open)}else if(setting.async.enable){if(!view.asyncNode(setting,node)){view.expandCollapseNode(setting,node,!node.open);return}}else if(node){view.expandCollapseNode(setting,node,!node.open)}}};$.fn.zTree={consts:_consts,_z:{tools:tools,view:view,event:event,data:data},getZTreeObj:function(treeId){var o=data.getZTreeTools(treeId);return o?o:null},destroy:function(treeId){if(!!treeId&&treeId.length>0){view.destroy(data.getSetting(treeId))}else{for(var s in settings){view.destroy(settings[s])}}},init:function(obj,zSetting,zNodes){var setting=tools.clone(_setting);$.extend(true,setting,zSetting);setting.treeId=obj.attr("id");setting.treeObj=obj;setting.treeObj.empty();settings[setting.treeId]=setting;if(typeof document.body.style.maxHeight==="undefined"){setting.view.expandSpeed=""}data.initRoot(setting);var root=data.getRoot(setting);zNodes=zNodes?tools.clone(tools.isArray(zNodes)?zNodes:[zNodes]):[];if(setting.data.simpleData.enable){data.nodeChildren(setting,root,data.transformTozTreeFormat(setting,zNodes))}else{data.nodeChildren(setting,root,zNodes)}data.initCache(setting);event.unbindTree(setting);event.bindTree(setting);event.unbindEvent(setting);event.bindEvent(setting);var zTreeTools={setting:setting,addNodes:function(parentNode,index,newNodes,isSilent){if(!parentNode)parentNode=null;var isParent=data.nodeIsParent(setting,parentNode);if(parentNode&&!isParent&&setting.data.keep.leaf)return null;var i=parseInt(index,10);if(isNaN(i)){isSilent=!!newNodes;newNodes=index;index=-1}else{index=i}if(!newNodes)return null;var xNewNodes=tools.clone(tools.isArray(newNodes)?newNodes:[newNodes]);function addCallback(){view.addNodes(setting,parentNode,index,xNewNodes,(isSilent==true))}if(tools.canAsync(setting,parentNode)){view.asyncNode(setting,parentNode,isSilent,addCallback)}else{addCallback()}return xNewNodes},cancelSelectedNode:function(node){view.cancelPreSelectedNode(setting,node)},destroy:function(){view.destroy(setting)},expandAll:function(expandFlag){expandFlag=!!expandFlag;view.expandCollapseSonNode(setting,null,expandFlag,true);return expandFlag},expandNode:function(node,expandFlag,sonSign,focus,callbackFlag){if(!node||!data.nodeIsParent(setting,node))return null;if(expandFlag!==true&&expandFlag!==false){expandFlag=!node.open}callbackFlag=!!callbackFlag;if(callbackFlag&&expandFlag&&(tools.apply(setting.callback.beforeExpand,[setting.treeId,node],true)==false)){return null}else if(callbackFlag&&!expandFlag&&(tools.apply(setting.callback.beforeCollapse,[setting.treeId,node],true)==false)){return null}if(expandFlag&&node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),expandFlag,false)}if(expandFlag===node.open&&!sonSign){return null}data.getRoot(setting).expandTriggerFlag=callbackFlag;if(!tools.canAsync(setting,node)&&sonSign){view.expandCollapseSonNode(setting,node,expandFlag,true,showNodeFocus)}else{node.open=!expandFlag;view.switchNode(this.setting,node);showNodeFocus()}return expandFlag;function showNodeFocus(){var a=$$(node,setting).get(0);if(a&&focus!==false){view.scrollIntoView(setting,a)}}},getNodes:function(){return data.getNodes(setting)},getNodeByParam:function(key,value,parentNode){if(!key)return null;return data.getNodeByParam(setting,parentNode?data.nodeChildren(setting,parentNode):data.getNodes(setting),key,value)},getNodeByTId:function(tId){return data.getNodeCache(setting,tId)},getNodesByParam:function(key,value,parentNode){if(!key)return null;return data.getNodesByParam(setting,parentNode?data.nodeChildren(setting,parentNode):data.getNodes(setting),key,value)},getNodesByParamFuzzy:function(key,value,parentNode){if(!key)return null;return data.getNodesByParamFuzzy(setting,parentNode?data.nodeChildren(setting,parentNode):data.getNodes(setting),key,value)},getNodesByFilter:function(filter,isSingle,parentNode,invokeParam){isSingle=!!isSingle;if(!filter||(typeof filter!="function"))return(isSingle?null:[]);return data.getNodesByFilter(setting,parentNode?data.nodeChildren(setting,parentNode):data.getNodes(setting),filter,isSingle,invokeParam)},getNodeIndex:function(node){if(!node)return null;var parentNode=(node.parentTId)?node.getParentNode():data.getRoot(setting);var children=data.nodeChildren(setting,parentNode);for(var i=0,l=children.length;i<l;i++){if(children[i]==node)return i}return-1},getSelectedNodes:function(){var r=[],list=data.getRoot(setting).curSelectedList;for(var i=0,l=list.length;i<l;i++){r.push(list[i])}return r},isSelectedNode:function(node){return data.isSelectedNode(setting,node)},reAsyncChildNodesPromise:function(parentNode,reloadType,isSilent){var promise=new Promise(function(resolve,reject){try{zTreeTools.reAsyncChildNodes(parentNode,reloadType,isSilent,function(){resolve(parentNode)})}catch(e){reject(e)}});return promise},reAsyncChildNodes:function(parentNode,reloadType,isSilent,callback){if(!this.setting.async.enable)return;var isRoot=!parentNode;if(isRoot){parentNode=data.getRoot(setting)}if(reloadType=="refresh"){var children=data.nodeChildren(setting,parentNode);for(var i=0,l=children?children.length:0;i<l;i++){data.removeNodeCache(setting,children[i])}data.removeSelectedNode(setting);data.nodeChildren(setting,parentNode,[]);if(isRoot){this.setting.treeObj.empty()}else{var ulObj=$$(parentNode,consts.id.UL,setting);ulObj.empty()}}view.asyncNode(this.setting,isRoot?null:parentNode,!!isSilent,callback)},refresh:function(){this.setting.treeObj.empty();var root=data.getRoot(setting),nodes=data.nodeChildren(setting,root);data.initRoot(setting);data.nodeChildren(setting,root,nodes);data.initCache(setting);view.createNodes(setting,0,data.nodeChildren(setting,root),null,-1)},removeChildNodes:function(node){if(!node)return null;var nodes=data.nodeChildren(setting,node);view.removeChildNodes(setting,node);return nodes?nodes:null},removeNode:function(node,callbackFlag){if(!node)return;callbackFlag=!!callbackFlag;if(callbackFlag&&tools.apply(setting.callback.beforeRemove,[setting.treeId,node],true)==false)return;view.removeNode(setting,node);if(callbackFlag){this.setting.treeObj.trigger(consts.event.REMOVE,[setting.treeId,node])}},selectNode:function(node,addFlag,isSilent){if(!node)return;if(tools.uCanDo(setting)){addFlag=setting.view.selectedMulti&&addFlag;if(node.parentTId){view.expandCollapseParentNode(setting,node.getParentNode(),true,false,showNodeFocus)}else if(!isSilent){try{$$(node,setting).focus().blur()}catch(e){}}view.selectNode(setting,node,addFlag)}function showNodeFocus(){if(isSilent){return}var a=$$(node,setting).get(0);view.scrollIntoView(setting,a)}},transformTozTreeNodes:function(simpleNodes){return data.transformTozTreeFormat(setting,simpleNodes)},transformToArray:function(nodes){return data.transformToArrayFormat(setting,nodes)},updateNode:function(node,checkTypeFlag){if(!node)return;var nObj=$$(node,setting);if(nObj.get(0)&&tools.uCanDo(setting)){view.setNodeName(setting,node);view.setNodeTarget(setting,node);view.setNodeUrl(setting,node);view.setNodeLineIcos(setting,node);view.setNodeFontCss(setting,node)}}};root.treeTools=zTreeTools;data.setZTreeTools(setting,zTreeTools);var children=data.nodeChildren(setting,root);if(children&&children.length>0){view.createNodes(setting,0,children,null,-1)}else if(setting.async.enable&&setting.async.url&&setting.async.url!==''){view.asyncNode(setting)}return zTreeTools}};var zt=$.fn.zTree,$$=tools.$,consts=zt.consts})(jQuery);(function($){var _consts={event:{CHECK:"ztree_check"},id:{CHECK:"_check"},checkbox:{STYLE:"checkbox",DEFAULT:"chk",DISABLED:"disable",FALSE:"false",TRUE:"true",FULL:"full",PART:"part",FOCUS:"focus"},radio:{STYLE:"radio",TYPE_ALL:"all",TYPE_LEVEL:"level"}},_setting={check:{enable:false,autoCheckTrigger:false,chkStyle:_consts.checkbox.STYLE,nocheckInherit:false,chkDisabledInherit:false,radioType:_consts.radio.TYPE_LEVEL,chkboxType:{"Y":"ps","N":"ps"}},data:{key:{checked:"checked"}},callback:{beforeCheck:null,onCheck:null}},_initRoot=function(setting){var r=data.getRoot(setting);r.radioCheckedList=[]},_initCache=function(treeId){},_bindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.bind(c.CHECK,function(event,srcEvent,treeId,node){event.srcEvent=srcEvent;tools.apply(setting.callback.onCheck,[event,treeId,node])})},_unbindEvent=function(setting){var o=setting.treeObj,c=consts.event;o.unbind(c.CHECK)},_eventProxy=function(e){var target=e.target,setting=data.getSetting(e.data.treeId),tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null;if(tools.eqs(e.type,"mouseover")){if(setting.check.enable&&tools.eqs(target.tagName,"span")&&target.getAttribute("treeNode"+consts.id.CHECK)!==null){tId=tools.getNodeMainDom(target).id;nodeEventType="mouseoverCheck"}}else if(tools.eqs(e.type,"mouseout")){if(setting.check.enable&&tools.eqs(target.tagName,"span")&&target.getAttribute("treeNode"+consts.id.CHECK)!==null){tId=tools.getNodeMainDom(target).id;nodeEventType="mouseoutCheck"}}else if(tools.eqs(e.type,"click")){if(setting.check.enable&&tools.eqs(target.tagName,"span")&&target.getAttribute("treeNode"+consts.id.CHECK)!==null){tId=tools.getNodeMainDom(target).id;nodeEventType="checkNode"}}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"checkNode":nodeEventCallback=_handler.onCheckNode;break;case"mouseoverCheck":nodeEventCallback=_handler.onMouseoverCheck;break;case"mouseoutCheck":nodeEventCallback=_handler.onMouseoutCheck;break}}var proxyResult={stop:nodeEventType==="checkNode",node:node,nodeEventType:nodeEventType,nodeEventCallback:nodeEventCallback,treeEventType:treeEventType,treeEventCallback:treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n)return;var checked=data.nodeChecked(setting,n);n.checkedOld=checked;if(typeof n.nocheck=="string")n.nocheck=tools.eqs(n.nocheck,"true");n.nocheck=!!n.nocheck||(setting.check.nocheckInherit&&parentNode&&!!parentNode.nocheck);if(typeof n.chkDisabled=="string")n.chkDisabled=tools.eqs(n.chkDisabled,"true");n.chkDisabled=!!n.chkDisabled||(setting.check.chkDisabledInherit&&parentNode&&!!parentNode.chkDisabled);if(typeof n.halfCheck=="string")n.halfCheck=tools.eqs(n.halfCheck,"true");n.halfCheck=!!n.halfCheck;n.check_Child_State=-1;n.check_Focus=false;n.getCheckStatus=function(){return data.getCheckStatus(setting,n)};if(setting.check.chkStyle==consts.radio.STYLE&&setting.check.radioType==consts.radio.TYPE_ALL&&checked){var r=data.getRoot(setting);r.radioCheckedList.push(n)}},_beforeA=function(setting,node,html){if(setting.check.enable){data.makeChkFlag(setting,node);html.push("<span ID='",node.tId,consts.id.CHECK,"' class='",view.makeChkClass(setting,node),"' treeNode",consts.id.CHECK,(node.nocheck===true?" style='display:none;'":""),"></span>")}},_zTreeTools=function(setting,zTreeTools){zTreeTools.checkNode=function(node,checked,checkTypeFlag,callbackFlag){var nodeChecked=data.nodeChecked(setting,node);if(node.chkDisabled===true)return;if(checked!==true&&checked!==false){checked=!nodeChecked}callbackFlag=!!callbackFlag;if(nodeChecked===checked&&!checkTypeFlag){return}else if(callbackFlag&&tools.apply(this.setting.callback.beforeCheck,[this.setting.treeId,node],true)==false){return}if(tools.uCanDo(this.setting)&&this.setting.check.enable&&node.nocheck!==true){data.nodeChecked(setting,node,checked);var checkObj=$$(node,consts.id.CHECK,this.setting);if(checkTypeFlag||this.setting.check.chkStyle===consts.radio.STYLE)view.checkNodeRelation(this.setting,node);view.setChkClass(this.setting,checkObj,node);view.repairParentChkClassWithSelf(this.setting,node);if(callbackFlag){this.setting.treeObj.trigger(consts.event.CHECK,[null,this.setting.treeId,node])}}}zTreeTools.checkAllNodes=function(checked){view.repairAllChk(this.setting,!!checked)}zTreeTools.getCheckedNodes=function(checked){var checked=(checked!==false);var children=data.nodeChildren(setting,data.getRoot(this.setting));return data.getTreeCheckedNodes(this.setting,children,checked)}zTreeTools.getChangeCheckedNodes=function(){var children=data.nodeChildren(setting,data.getRoot(this.setting));return data.getTreeChangeCheckedNodes(this.setting,children)}zTreeTools.setChkDisabled=function(node,disabled,inheritParent,inheritChildren){disabled=!!disabled;inheritParent=!!inheritParent;inheritChildren=!!inheritChildren;view.repairSonChkDisabled(this.setting,node,disabled,inheritChildren);view.repairParentChkDisabled(this.setting,node.getParentNode(),disabled,inheritParent)}var _updateNode=zTreeTools.updateNode;zTreeTools.updateNode=function(node,checkTypeFlag){if(_updateNode)_updateNode.apply(zTreeTools,arguments);if(!node||!this.setting.check.enable)return;var nObj=$$(node,this.setting);if(nObj.get(0)&&tools.uCanDo(this.setting)){var checkObj=$$(node,consts.id.CHECK,this.setting);if(checkTypeFlag==true||this.setting.check.chkStyle===consts.radio.STYLE)view.checkNodeRelation(this.setting,node);view.setChkClass(this.setting,checkObj,node);view.repairParentChkClassWithSelf(this.setting,node)}}},_data={getRadioCheckedList:function(setting){var checkedList=data.getRoot(setting).radioCheckedList;for(var i=0,j=checkedList.length;i<j;i++){if(!data.getNodeCache(setting,checkedList[i].tId)){checkedList.splice(i,1);i--;j--}}return checkedList},getCheckStatus:function(setting,node){if(!setting.check.enable||node.nocheck||node.chkDisabled)return null;var checked=data.nodeChecked(setting,node),r={checked:checked,half:node.halfCheck?node.halfCheck:(setting.check.chkStyle==consts.radio.STYLE?(node.check_Child_State===2):(checked?(node.check_Child_State>-1&&node.check_Child_State<2):(node.check_Child_State>0)))};return r},getTreeCheckedNodes:function(setting,nodes,checked,results){if(!nodes)return[];var onlyOne=(checked&&setting.check.chkStyle==consts.radio.STYLE&&setting.check.radioType==consts.radio.TYPE_ALL);results=!results?[]:results;for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];var children=data.nodeChildren(setting,node);var nodeChecked=data.nodeChecked(setting,node);if(node.nocheck!==true&&node.chkDisabled!==true&&nodeChecked==checked){results.push(node);if(onlyOne){break}}data.getTreeCheckedNodes(setting,children,checked,results);if(onlyOne&&results.length>0){break}}return results},getTreeChangeCheckedNodes:function(setting,nodes,results){if(!nodes)return[];results=!results?[]:results;for(var i=0,l=nodes.length;i<l;i++){var node=nodes[i];var children=data.nodeChildren(setting,node);var nodeChecked=data.nodeChecked(setting,node);if(node.nocheck!==true&&node.chkDisabled!==true&&nodeChecked!=node.checkedOld){results.push(node)}data.getTreeChangeCheckedNodes(setting,children,results)}return results},makeChkFlag:function(setting,node){if(!node)return;var chkFlag=-1;var children=data.nodeChildren(setting,node);if(children){for(var i=0,l=children.length;i<l;i++){var cNode=children[i];var nodeChecked=data.nodeChecked(setting,cNode);var tmp=-1;if(setting.check.chkStyle==consts.radio.STYLE){if(cNode.nocheck===true||cNode.chkDisabled===true){tmp=cNode.check_Child_State}else if(cNode.halfCheck===true){tmp=2}else if(nodeChecked){tmp=2}else{tmp=cNode.check_Child_State>0?2:0}if(tmp==2){chkFlag=2;break}else if(tmp==0){chkFlag=0}}else if(setting.check.chkStyle==consts.checkbox.STYLE){if(cNode.nocheck===true||cNode.chkDisabled===true){tmp=cNode.check_Child_State}else if(cNode.halfCheck===true){tmp=1}else if(nodeChecked){tmp=(cNode.check_Child_State===-1||cNode.check_Child_State===2)?2:1}else{tmp=(cNode.check_Child_State>0)?1:0}if(tmp===1){chkFlag=1;break}else if(tmp===2&&chkFlag>-1&&i>0&&tmp!==chkFlag){chkFlag=1;break}else if(chkFlag===2&&tmp>-1&&tmp<2){chkFlag=1;break}else if(tmp>-1){chkFlag=tmp}}}}node.check_Child_State=chkFlag}},_event={},_handler={onCheckNode:function(event,node){if(node.chkDisabled===true)return false;var setting=data.getSetting(event.data.treeId);if(tools.apply(setting.callback.beforeCheck,[setting.treeId,node],true)==false)return true;var nodeChecked=data.nodeChecked(setting,node);data.nodeChecked(setting,node,!nodeChecked);view.checkNodeRelation(setting,node);var checkObj=$$(node,consts.id.CHECK,setting);view.setChkClass(setting,checkObj,node);view.repairParentChkClassWithSelf(setting,node);setting.treeObj.trigger(consts.event.CHECK,[event,setting.treeId,node]);return true},onMouseoverCheck:function(event,node){if(node.chkDisabled===true)return false;var setting=data.getSetting(event.data.treeId),checkObj=$$(node,consts.id.CHECK,setting);node.check_Focus=true;view.setChkClass(setting,checkObj,node);return true},onMouseoutCheck:function(event,node){if(node.chkDisabled===true)return false;var setting=data.getSetting(event.data.treeId),checkObj=$$(node,consts.id.CHECK,setting);node.check_Focus=false;view.setChkClass(setting,checkObj,node);return true}},_tools={},_view={checkNodeRelation:function(setting,node){var pNode,i,l,r=consts.radio;var nodeChecked=data.nodeChecked(setting,node);if(setting.check.chkStyle==r.STYLE){var checkedList=data.getRadioCheckedList(setting);if(nodeChecked){if(setting.check.radioType==r.TYPE_ALL){for(i=checkedList.length-1;i>=0;i--){pNode=checkedList[i];var pNodeChecked=data.nodeChecked(setting,pNode);if(pNodeChecked&&pNode!=node){data.nodeChecked(setting,pNode,false);checkedList.splice(i,1);view.setChkClass(setting,$$(pNode,consts.id.CHECK,setting),pNode);if(pNode.parentTId!=node.parentTId){view.repairParentChkClassWithSelf(setting,pNode)}}}checkedList.push(node)}else{var parentNode=(node.parentTId)?node.getParentNode():data.getRoot(setting);var children=data.nodeChildren(setting,parentNode);for(i=0,l=children.length;i<l;i++){pNode=children[i];var pNodeChecked=data.nodeChecked(setting,pNode);if(pNodeChecked&&pNode!=node){data.nodeChecked(setting,pNode,false);view.setChkClass(setting,$$(pNode,consts.id.CHECK,setting),pNode)}}}}else if(setting.check.radioType==r.TYPE_ALL){for(i=0,l=checkedList.length;i<l;i++){if(node==checkedList[i]){checkedList.splice(i,1);break}}}}else{var children=data.nodeChildren(setting,node);if(nodeChecked&&(!children||children.length==0||setting.check.chkboxType.Y.indexOf("s")>-1)){view.setSonNodeCheckBox(setting,node,true)}if(!nodeChecked&&(!children||children.length==0||setting.check.chkboxType.N.indexOf("s")>-1)){view.setSonNodeCheckBox(setting,node,false)}if(nodeChecked&&setting.check.chkboxType.Y.indexOf("p")>-1){view.setParentNodeCheckBox(setting,node,true)}if(!nodeChecked&&setting.check.chkboxType.N.indexOf("p")>-1){view.setParentNodeCheckBox(setting,node,false)}}},makeChkClass:function(setting,node){var c=consts.checkbox,r=consts.radio,fullStyle="";var nodeChecked=data.nodeChecked(setting,node);if(node.chkDisabled===true){fullStyle=c.DISABLED}else if(node.halfCheck){fullStyle=c.PART}else if(setting.check.chkStyle==r.STYLE){fullStyle=(node.check_Child_State<1)?c.FULL:c.PART}else{fullStyle=nodeChecked?((node.check_Child_State===2||node.check_Child_State===-1)?c.FULL:c.PART):((node.check_Child_State<1)?c.FULL:c.PART)}var chkName=setting.check.chkStyle+"_"+(nodeChecked?c.TRUE:c.FALSE)+"_"+fullStyle;chkName=(node.check_Focus&&node.chkDisabled!==true)?chkName+"_"+c.FOCUS:chkName;return consts.className.BUTTON+" "+c.DEFAULT+" "+chkName},repairAllChk:function(setting,checked){if(setting.check.enable&&setting.check.chkStyle===consts.checkbox.STYLE){var root=data.getRoot(setting);var children=data.nodeChildren(setting,root);for(var i=0,l=children.length;i<l;i++){var node=children[i];if(node.nocheck!==true&&node.chkDisabled!==true){data.nodeChecked(setting,node,checked)}view.setSonNodeCheckBox(setting,node,checked)}}},repairChkClass:function(setting,node){if(!node)return;data.makeChkFlag(setting,node);if(node.nocheck!==true){var checkObj=$$(node,consts.id.CHECK,setting);view.setChkClass(setting,checkObj,node)}},repairParentChkClass:function(setting,node){if(!node||!node.parentTId)return;var pNode=node.getParentNode();view.repairChkClass(setting,pNode);view.repairParentChkClass(setting,pNode)},repairParentChkClassWithSelf:function(setting,node){if(!node)return;var children=data.nodeChildren(setting,node);if(children&&children.length>0){view.repairParentChkClass(setting,children[0])}else{view.repairParentChkClass(setting,node)}},repairSonChkDisabled:function(setting,node,chkDisabled,inherit){if(!node)return;if(node.chkDisabled!=chkDisabled){node.chkDisabled=chkDisabled}view.repairChkClass(setting,node);var children=data.nodeChildren(setting,node);if(children&&inherit){for(var i=0,l=children.length;i<l;i++){var sNode=children[i];view.repairSonChkDisabled(setting,sNode,chkDisabled,inherit)}}},repairParentChkDisabled:function(setting,node,chkDisabled,inherit){if(!node)return;if(node.chkDisabled!=chkDisabled&&inherit){node.chkDisabled=chkDisabled}view.repairChkClass(setting,node);view.repairParentChkDisabled(setting,node.getParentNode(),chkDisabled,inherit)},setChkClass:function(setting,obj,node){if(!obj)return;if(node.nocheck===true){obj.hide()}else{obj.show()}obj.attr('class',view.makeChkClass(setting,node))},setParentNodeCheckBox:function(setting,node,value,srcNode){var checkObj=$$(node,consts.id.CHECK,setting);if(!srcNode)srcNode=node;data.makeChkFlag(setting,node);if(node.nocheck!==true&&node.chkDisabled!==true){data.nodeChecked(setting,node,value);view.setChkClass(setting,checkObj,node);if(setting.check.autoCheckTrigger&&node!=srcNode){setting.treeObj.trigger(consts.event.CHECK,[null,setting.treeId,node])}}if(node.parentTId){var pSign=true;if(!value){var pNodes=data.nodeChildren(setting,node.getParentNode());for(var i=0,l=pNodes.length;i<l;i++){var pNode=pNodes[i];var nodeChecked=data.nodeChecked(setting,pNode);if((pNode.nocheck!==true&&pNode.chkDisabled!==true&&nodeChecked)||((pNode.nocheck===true||pNode.chkDisabled===true)&&pNode.check_Child_State>0)){pSign=false;break}}}if(pSign){view.setParentNodeCheckBox(setting,node.getParentNode(),value,srcNode)}}},setSonNodeCheckBox:function(setting,node,value,srcNode){if(!node)return;var checkObj=$$(node,consts.id.CHECK,setting);if(!srcNode)srcNode=node;var hasDisable=false;var children=data.nodeChildren(setting,node);if(children){for(var i=0,l=children.length;i<l;i++){var sNode=children[i];view.setSonNodeCheckBox(setting,sNode,value,srcNode);if(sNode.chkDisabled===true)hasDisable=true}}if(node!=data.getRoot(setting)&&node.chkDisabled!==true){if(hasDisable&&node.nocheck!==true){data.makeChkFlag(setting,node)}if(node.nocheck!==true&&node.chkDisabled!==true){data.nodeChecked(setting,node,value);if(!hasDisable)node.check_Child_State=(children&&children.length>0)?(value?2:0):-1}else{node.check_Child_State=-1}view.setChkClass(setting,checkObj,node);if(setting.check.autoCheckTrigger&&node!=srcNode&&node.nocheck!==true&&node.chkDisabled!==true){setting.treeObj.trigger(consts.event.CHECK,[null,setting.treeId,node])}}}},_z={tools:_tools,view:_view,event:_event,data:_data};$.extend(true,$.fn.zTree.consts,_consts);$.extend(true,$.fn.zTree._z,_z);var zt=$.fn.zTree,tools=zt._z.tools,consts=zt.consts,view=zt._z.view,data=zt._z.data,event=zt._z.event,$$=tools.$;data.nodeChecked=function(setting,node,newChecked){if(!node){return false}var key=setting.data.key.checked;if(typeof newChecked!=='undefined'){if(typeof newChecked==="string"){newChecked=tools.eqs(newChecked,"true")}newChecked=!!newChecked;node[key]=newChecked}else if(typeof node[key]=="string"){node[key]=tools.eqs(node[key],"true")}else{node[key]=!!node[key]}return node[key]};data.exSetting(_setting);data.addInitBind(_bindEvent);data.addInitUnBind(_unbindEvent);data.addInitCache(_initCache);data.addInitNode(_initNode);data.addInitProxy(_eventProxy,true);data.addInitRoot(_initRoot);data.addBeforeA(_beforeA);data.addZTreeTools(_zTreeTools);var _createNodes=view.createNodes;view.createNodes=function(setting,level,nodes,parentNode,index){if(_createNodes)_createNodes.apply(view,arguments);if(!nodes)return;view.repairParentChkClassWithSelf(setting,parentNode)}var _removeNode=view.removeNode;view.removeNode=function(setting,node){var parentNode=node.getParentNode();if(_removeNode)_removeNode.apply(view,arguments);if(!node||!parentNode)return;view.repairChkClass(setting,parentNode);view.repairParentChkClass(setting,parentNode)}var _appendNodes=view.appendNodes;view.appendNodes=function(setting,level,nodes,parentNode,index,initFlag,openFlag){var html="";if(_appendNodes){html=_appendNodes.apply(view,arguments)}if(parentNode){data.makeChkFlag(setting,parentNode)}return html}})(jQuery);(function($){var _consts={event:{DRAG:"ztree_drag",DROP:"ztree_drop",RENAME:"ztree_rename",DRAGMOVE:"ztree_dragmove"},id:{EDIT:"_edit",INPUT:"_input",REMOVE:"_remove"},move:{TYPE_INNER:"inner",TYPE_PREV:"prev",TYPE_NEXT:"next"},node:{CURSELECTED_EDIT:"curSelectedNode_Edit",TMPTARGET_TREE:"tmpTargetzTree",TMPTARGET_NODE:"tmpTargetNode"}},_setting={edit:{enable:false,editNameSelectAll:false,showRemoveBtn:true,showRenameBtn:true,removeTitle:"remove",renameTitle:"rename",drag:{autoExpandTrigger:false,isCopy:true,isMove:true,prev:true,next:true,inner:true,minMoveSize:5,borderMax:10,borderMin:-5,maxShowNodeNum:5,autoOpenTime:500}},view:{addHoverDom:null,removeHoverDom:null},callback:{beforeDrag:null,beforeDragOpen:null,beforeDrop:null,beforeEditName:null,beforeRename:null,onDrag:null,onDragMove:null,onDrop:null,onRename:null}},_initRoot=function(setting){var r=data.getRoot(setting),rs=data.getRoots();r.curEditNode=null;r.curEditInput=null;r.curHoverNode=null;r.dragFlag=0;r.dragNodeShowBefore=[];r.dragMaskList=new Array();rs.showHoverDom=true},_initCache=function(treeId){},_bindEvent=function(setting){var o=setting.treeObj;var c=consts.event;o.bind(c.RENAME,function(event,treeId,treeNode,isCancel){tools.apply(setting.callback.onRename,[event,treeId,treeNode,isCancel])});o.bind(c.DRAG,function(event,srcEvent,treeId,treeNodes){tools.apply(setting.callback.onDrag,[srcEvent,treeId,treeNodes])});o.bind(c.DRAGMOVE,function(event,srcEvent,treeId,treeNodes){tools.apply(setting.callback.onDragMove,[srcEvent,treeId,treeNodes])});o.bind(c.DROP,function(event,srcEvent,treeId,treeNodes,targetNode,moveType,isCopy){tools.apply(setting.callback.onDrop,[srcEvent,treeId,treeNodes,targetNode,moveType,isCopy])})},_unbindEvent=function(setting){var o=setting.treeObj;var c=consts.event;o.unbind(c.RENAME);o.unbind(c.DRAG);o.unbind(c.DRAGMOVE);o.unbind(c.DROP)},_eventProxy=function(e){var target=e.target,setting=data.getSetting(e.data.treeId),relatedTarget=e.relatedTarget,tId="",node=null,nodeEventType="",treeEventType="",nodeEventCallback=null,treeEventCallback=null,tmp=null;if(tools.eqs(e.type,"mouseover")){tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="hoverOverNode"}}else if(tools.eqs(e.type,"mouseout")){tmp=tools.getMDom(setting,relatedTarget,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(!tmp){tId="remove";nodeEventType="hoverOutNode"}}else if(tools.eqs(e.type,"mousedown")){tmp=tools.getMDom(setting,target,[{tagName:"a",attrName:"treeNode"+consts.id.A}]);if(tmp){tId=tools.getNodeMainDom(tmp).id;nodeEventType="mousedownNode"}}if(tId.length>0){node=data.getNodeCache(setting,tId);switch(nodeEventType){case"mousedownNode":nodeEventCallback=_handler.onMousedownNode;break;case"hoverOverNode":nodeEventCallback=_handler.onHoverOverNode;break;case"hoverOutNode":nodeEventCallback=_handler.onHoverOutNode;break}}var proxyResult={stop:false,node:node,nodeEventType:nodeEventType,nodeEventCallback:nodeEventCallback,treeEventType:treeEventType,treeEventCallback:treeEventCallback};return proxyResult},_initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){if(!n)return;n.isHover=false;n.editNameFlag=false},_zTreeTools=function(setting,zTreeTools){zTreeTools.cancelEditName=function(newName){var root=data.getRoot(this.setting);if(!root.curEditNode)return;view.cancelCurEditNode(this.setting,newName?newName:null,true)}zTreeTools.copyNode=function(targetNode,node,moveType,isSilent){if(!node)return null;var isParent=data.nodeIsParent(setting,targetNode);if(targetNode&&!isParent&&this.setting.data.keep.leaf&&moveType===consts.move.TYPE_INNER)return null;var _this=this,newNode=tools.clone(node);if(!targetNode){targetNode=null;moveType=consts.move.TYPE_INNER}if(moveType==consts.move.TYPE_INNER){function copyCallback(){view.addNodes(_this.setting,targetNode,-1,[newNode],isSilent)}if(tools.canAsync(this.setting,targetNode)){view.asyncNode(this.setting,targetNode,isSilent,copyCallback)}else{copyCallback()}}else{view.addNodes(this.setting,targetNode.parentNode,-1,[newNode],isSilent);view.moveNode(this.setting,targetNode,newNode,moveType,false,isSilent)}return newNode}zTreeTools.editName=function(node){if(!node||!node.tId||node!==data.getNodeCache(this.setting,node.tId))return;if(node.parentTId)view.expandCollapseParentNode(this.setting,node.getParentNode(),true);view.editNode(this.setting,node)}zTreeTools.moveNode=function(targetNode,node,moveType,isSilent){if(!node)return node;var isParent=data.nodeIsParent(setting,targetNode);if(targetNode&&!isParent&&this.setting.data.keep.leaf&&moveType===consts.move.TYPE_INNER){return null}else if(targetNode&&((node.parentTId==targetNode.tId&&moveType==consts.move.TYPE_INNER)||$$(node,this.setting).find("#"+targetNode.tId).length>0)){return null}else if(!targetNode){targetNode=null}var _this=this;function moveCallback(){view.moveNode(_this.setting,targetNode,node,moveType,false,isSilent)}if(tools.canAsync(this.setting,targetNode)&&moveType===consts.move.TYPE_INNER){view.asyncNode(this.setting,targetNode,isSilent,moveCallback)}else{moveCallback()}return node}zTreeTools.setEditable=function(editable){this.setting.edit.enable=editable;return this.refresh()}},_data={setSonNodeLevel:function(setting,parentNode,node){if(!node)return;var children=data.nodeChildren(setting,node);node.level=(parentNode)?parentNode.level+1:0;if(!children)return;for(var i=0,l=children.length;i<l;i++){if(children[i])data.setSonNodeLevel(setting,node,children[i])}}},_event={},_handler={onHoverOverNode:function(event,node){var setting=data.getSetting(event.data.treeId),root=data.getRoot(setting);if(root.curHoverNode!=node){_handler.onHoverOutNode(event)}root.curHoverNode=node;view.addHoverDom(setting,node)},onHoverOutNode:function(event,node){var setting=data.getSetting(event.data.treeId),root=data.getRoot(setting);if(root.curHoverNode&&!data.isSelectedNode(setting,root.curHoverNode)){view.removeTreeDom(setting,root.curHoverNode);root.curHoverNode=null}},onMousedownNode:function(eventMouseDown,_node){var i,l,setting=data.getSetting(eventMouseDown.data.treeId),root=data.getRoot(setting),roots=data.getRoots();if(eventMouseDown.button==2||!setting.edit.enable||(!setting.edit.drag.isCopy&&!setting.edit.drag.isMove))return true;var target=eventMouseDown.target,_nodes=data.getRoot(setting).curSelectedList,nodes=[];if(!data.isSelectedNode(setting,_node)){nodes=[_node]}else{for(i=0,l=_nodes.length;i<l;i++){if(_nodes[i].editNameFlag&&tools.eqs(target.tagName,"input")&&target.getAttribute("treeNode"+consts.id.INPUT)!==null){return true}nodes.push(_nodes[i]);if(nodes[0].parentTId!==_nodes[i].parentTId){nodes=[_node];break}}}view.editNodeBlur=true;view.cancelCurEditNode(setting);var doc=$(setting.treeObj.get(0).ownerDocument),body=$(setting.treeObj.get(0).ownerDocument.body),curNode,tmpArrow,tmpTarget,isOtherTree=false,targetSetting=setting,sourceSetting=setting,preNode,nextNode,preTmpTargetNodeId=null,preTmpMoveType=null,tmpTargetNodeId=null,moveType=consts.move.TYPE_INNER,mouseDownX=eventMouseDown.clientX,mouseDownY=eventMouseDown.clientY,startTime=(new Date()).getTime();if(tools.uCanDo(setting)){doc.bind("mousemove",_docMouseMove)}function _docMouseMove(event){if(root.dragFlag==0&&Math.abs(mouseDownX-event.clientX)<setting.edit.drag.minMoveSize&&Math.abs(mouseDownY-event.clientY)<setting.edit.drag.minMoveSize){return true}var i,l,tmpNode,tmpDom,tmpNodes;body.css("cursor","pointer");if(root.dragFlag==0){if(tools.apply(setting.callback.beforeDrag,[setting.treeId,nodes],true)==false){_docMouseUp(event);return true}for(i=0,l=nodes.length;i<l;i++){if(i==0){root.dragNodeShowBefore=[]}tmpNode=nodes[i];if(data.nodeIsParent(setting,tmpNode)&&tmpNode.open){view.expandCollapseNode(setting,tmpNode,!tmpNode.open);root.dragNodeShowBefore[tmpNode.tId]=true}else{root.dragNodeShowBefore[tmpNode.tId]=false}}root.dragFlag=1;roots.showHoverDom=false;tools.showIfameMask(setting,true);var isOrder=true,lastIndex=-1;if(nodes.length>1){var pNodes=nodes[0].parentTId?data.nodeChildren(setting,nodes[0].getParentNode()):data.getNodes(setting);tmpNodes=[];for(i=0,l=pNodes.length;i<l;i++){if(root.dragNodeShowBefore[pNodes[i].tId]!==undefined){if(isOrder&&lastIndex>-1&&(lastIndex+1)!==i){isOrder=false}tmpNodes.push(pNodes[i]);lastIndex=i}if(nodes.length===tmpNodes.length){nodes=tmpNodes;break}}}if(isOrder){preNode=nodes[0].getPreNode();nextNode=nodes[nodes.length-1].getNextNode()}curNode=$$("<ul class='zTreeDragUL'></ul>",setting);for(i=0,l=nodes.length;i<l;i++){tmpNode=nodes[i];tmpNode.editNameFlag=false;view.selectNode(setting,tmpNode,i>0);view.removeTreeDom(setting,tmpNode);if(i>setting.edit.drag.maxShowNodeNum-1){continue}tmpDom=$$("<li id='"+tmpNode.tId+"_tmp'></li>",setting);tmpDom.append($$(tmpNode,consts.id.A,setting).clone());tmpDom.css("padding","0");tmpDom.children("#"+tmpNode.tId+consts.id.A).removeClass(consts.node.CURSELECTED);curNode.append(tmpDom);if(i==setting.edit.drag.maxShowNodeNum-1){tmpDom=$$("<li id='"+tmpNode.tId+"_moretmp'><a>  ...  </a></li>",setting);curNode.append(tmpDom)}}curNode.attr("id",nodes[0].tId+consts.id.UL+"_tmp");curNode.addClass(setting.treeObj.attr("class"));curNode.appendTo(body);tmpArrow=$$("<span class='tmpzTreeMove_arrow'></span>",setting);tmpArrow.attr("id","zTreeMove_arrow_tmp");tmpArrow.appendTo(body);setting.treeObj.trigger(consts.event.DRAG,[event,setting.treeId,nodes])}if(root.dragFlag==1){if(tmpTarget&&tmpArrow.attr("id")==event.target.id&&tmpTargetNodeId&&(event.clientX+doc.scrollLeft()+2)>($("#"+tmpTargetNodeId+consts.id.A,tmpTarget).offset().left)){var xT=$("#"+tmpTargetNodeId+consts.id.A,tmpTarget);event.target=(xT.length>0)?xT.get(0):event.target}else if(tmpTarget){tmpTarget.removeClass(consts.node.TMPTARGET_TREE);if(tmpTargetNodeId)$("#"+tmpTargetNodeId+consts.id.A,tmpTarget).removeClass(consts.node.TMPTARGET_NODE+"_"+consts.move.TYPE_PREV).removeClass(consts.node.TMPTARGET_NODE+"_"+_consts.move.TYPE_NEXT).removeClass(consts.node.TMPTARGET_NODE+"_"+_consts.move.TYPE_INNER)}tmpTarget=null;tmpTargetNodeId=null;isOtherTree=false;targetSetting=setting;var settings=data.getSettings();for(var s in settings){if(settings[s].treeId&&settings[s].edit.enable&&settings[s].treeId!=setting.treeId&&(event.target.id==settings[s].treeId||$(event.target).parents("#"+settings[s].treeId).length>0)){isOtherTree=true;targetSetting=settings[s]}}var docScrollTop=doc.scrollTop(),docScrollLeft=doc.scrollLeft(),treeOffset=targetSetting.treeObj.offset(),scrollHeight=targetSetting.treeObj.get(0).scrollHeight,scrollWidth=targetSetting.treeObj.get(0).scrollWidth,dTop=(event.clientY+docScrollTop-treeOffset.top),dBottom=(targetSetting.treeObj.height()+treeOffset.top-event.clientY-docScrollTop),dLeft=(event.clientX+docScrollLeft-treeOffset.left),dRight=(targetSetting.treeObj.width()+treeOffset.left-event.clientX-docScrollLeft),isTop=(dTop<setting.edit.drag.borderMax&&dTop>setting.edit.drag.borderMin),isBottom=(dBottom<setting.edit.drag.borderMax&&dBottom>setting.edit.drag.borderMin),isLeft=(dLeft<setting.edit.drag.borderMax&&dLeft>setting.edit.drag.borderMin),isRight=(dRight<setting.edit.drag.borderMax&&dRight>setting.edit.drag.borderMin),isTreeInner=dTop>setting.edit.drag.borderMin&&dBottom>setting.edit.drag.borderMin&&dLeft>setting.edit.drag.borderMin&&dRight>setting.edit.drag.borderMin,isTreeTop=(isTop&&targetSetting.treeObj.scrollTop()<=0),isTreeBottom=(isBottom&&(targetSetting.treeObj.scrollTop()+targetSetting.treeObj.height()+10)>=scrollHeight),isTreeLeft=(isLeft&&targetSetting.treeObj.scrollLeft()<=0),isTreeRight=(isRight&&(targetSetting.treeObj.scrollLeft()+targetSetting.treeObj.width()+10)>=scrollWidth);if(event.target&&tools.isChildOrSelf(event.target,targetSetting.treeId)){var targetObj=event.target;while(targetObj&&targetObj.tagName&&!tools.eqs(targetObj.tagName,"li")&&targetObj.id!=targetSetting.treeId){targetObj=targetObj.parentNode}var canMove=true;for(i=0,l=nodes.length;i<l;i++){tmpNode=nodes[i];if(targetObj.id===tmpNode.tId){canMove=false;break}else if($$(tmpNode,setting).find("#"+targetObj.id).length>0){canMove=false;break}}if(canMove&&event.target&&tools.isChildOrSelf(event.target,targetObj.id+consts.id.A)){tmpTarget=$(targetObj);tmpTargetNodeId=targetObj.id}}tmpNode=nodes[0];if(isTreeInner&&tools.isChildOrSelf(event.target,targetSetting.treeId)){if(!tmpTarget&&(event.target.id==targetSetting.treeId||isTreeTop||isTreeBottom||isTreeLeft||isTreeRight)&&(isOtherTree||(!isOtherTree&&tmpNode.parentTId))){tmpTarget=targetSetting.treeObj}if(isTop){targetSetting.treeObj.scrollTop(targetSetting.treeObj.scrollTop()-10)}else if(isBottom){targetSetting.treeObj.scrollTop(targetSetting.treeObj.scrollTop()+10)}if(isLeft){targetSetting.treeObj.scrollLeft(targetSetting.treeObj.scrollLeft()-10)}else if(isRight){targetSetting.treeObj.scrollLeft(targetSetting.treeObj.scrollLeft()+10)}if(tmpTarget&&tmpTarget!=targetSetting.treeObj&&tmpTarget.offset().left<targetSetting.treeObj.offset().left){targetSetting.treeObj.scrollLeft(targetSetting.treeObj.scrollLeft()+tmpTarget.offset().left-targetSetting.treeObj.offset().left)}}curNode.css({"top":(event.clientY+docScrollTop+3)+"px","left":(event.clientX+docScrollLeft+3)+"px"});var dX=0;var dY=0;if(tmpTarget&&tmpTarget.attr("id")!=targetSetting.treeId){var tmpTargetNode=tmpTargetNodeId==null?null:data.getNodeCache(targetSetting,tmpTargetNodeId),isCopy=((event.ctrlKey||event.metaKey)&&setting.edit.drag.isMove&&setting.edit.drag.isCopy)||(!setting.edit.drag.isMove&&setting.edit.drag.isCopy),isPrev=!!(preNode&&tmpTargetNodeId===preNode.tId),isNext=!!(nextNode&&tmpTargetNodeId===nextNode.tId),isInner=(tmpNode.parentTId&&tmpNode.parentTId==tmpTargetNodeId),canPrev=(isCopy||!isNext)&&tools.apply(targetSetting.edit.drag.prev,[targetSetting.treeId,nodes,tmpTargetNode],!!targetSetting.edit.drag.prev),canNext=(isCopy||!isPrev)&&tools.apply(targetSetting.edit.drag.next,[targetSetting.treeId,nodes,tmpTargetNode],!!targetSetting.edit.drag.next),canInner=(isCopy||!isInner)&&!(targetSetting.data.keep.leaf&&!data.nodeIsParent(setting,tmpTargetNode))&&tools.apply(targetSetting.edit.drag.inner,[targetSetting.treeId,nodes,tmpTargetNode],!!targetSetting.edit.drag.inner);function clearMove(){tmpTarget=null;tmpTargetNodeId="";moveType=consts.move.TYPE_INNER;tmpArrow.css({"display":"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}if(!canPrev&&!canNext&&!canInner){clearMove()}else{var tmpTargetA=$("#"+tmpTargetNodeId+consts.id.A,tmpTarget),tmpNextA=tmpTargetNode.isLastNode?null:$("#"+tmpTargetNode.getNextNode().tId+consts.id.A,tmpTarget.next()),tmpTop=tmpTargetA.offset().top,tmpLeft=tmpTargetA.offset().left,prevPercent=canPrev?(canInner?0.25:(canNext?0.5:1)):-1,nextPercent=canNext?(canInner?0.75:(canPrev?0.5:0)):-1,dY_percent=(event.clientY+docScrollTop-tmpTop)/tmpTargetA.height();if((prevPercent==1||dY_percent<=prevPercent&&dY_percent>=-.2)&&canPrev){dX=1-tmpArrow.width();dY=tmpTop-tmpArrow.height()/2;moveType=consts.move.TYPE_PREV}else if((nextPercent==0||dY_percent>=nextPercent&&dY_percent<=1.2)&&canNext){dX=1-tmpArrow.width();dY=(tmpNextA==null||(data.nodeIsParent(setting,tmpTargetNode)&&tmpTargetNode.open))?(tmpTop+tmpTargetA.height()-tmpArrow.height()/2):(tmpNextA.offset().top-tmpArrow.height()/2);moveType=consts.move.TYPE_NEXT}else if(canInner){dX=5-tmpArrow.width();dY=tmpTop;moveType=consts.move.TYPE_INNER}else{clearMove()}if(tmpTarget){tmpArrow.css({"display":"block","top":dY+"px","left":(tmpLeft+dX)+"px"});tmpTargetA.addClass(consts.node.TMPTARGET_NODE+"_"+moveType);if(preTmpTargetNodeId!=tmpTargetNodeId||preTmpMoveType!=moveType){startTime=(new Date()).getTime()}if(tmpTargetNode&&data.nodeIsParent(setting,tmpTargetNode)&&moveType==consts.move.TYPE_INNER){var startTimer=true;if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId!==tmpTargetNode.tId){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}else if(window.zTreeMoveTimer&&window.zTreeMoveTargetNodeTId===tmpTargetNode.tId){startTimer=false}if(startTimer){window.zTreeMoveTimer=setTimeout(function(){if(moveType!=consts.move.TYPE_INNER)return;if(tmpTargetNode&&data.nodeIsParent(setting,tmpTargetNode)&&!tmpTargetNode.open&&(new Date()).getTime()-startTime>targetSetting.edit.drag.autoOpenTime&&tools.apply(targetSetting.callback.beforeDragOpen,[targetSetting.treeId,tmpTargetNode],true)){view.switchNode(targetSetting,tmpTargetNode);if(targetSetting.edit.drag.autoExpandTrigger){targetSetting.treeObj.trigger(consts.event.EXPAND,[targetSetting.treeId,tmpTargetNode])}}},targetSetting.edit.drag.autoOpenTime+50);window.zTreeMoveTargetNodeTId=tmpTargetNode.tId}}}}}else{moveType=consts.move.TYPE_INNER;if(tmpTarget&&tools.apply(targetSetting.edit.drag.inner,[targetSetting.treeId,nodes,null],!!targetSetting.edit.drag.inner)){tmpTarget.addClass(consts.node.TMPTARGET_TREE)}else{tmpTarget=null}tmpArrow.css({"display":"none"});if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}}preTmpTargetNodeId=tmpTargetNodeId;preTmpMoveType=moveType;setting.treeObj.trigger(consts.event.DRAGMOVE,[event,setting.treeId,nodes])}return false}doc.bind("mouseup",_docMouseUp);function _docMouseUp(event){if(window.zTreeMoveTimer){clearTimeout(window.zTreeMoveTimer);window.zTreeMoveTargetNodeTId=null}preTmpTargetNodeId=null;preTmpMoveType=null;doc.unbind("mousemove",_docMouseMove);doc.unbind("mouseup",_docMouseUp);doc.unbind("selectstart",_docSelect);body.css("cursor","");if(tmpTarget){tmpTarget.removeClass(consts.node.TMPTARGET_TREE);if(tmpTargetNodeId)$("#"+tmpTargetNodeId+consts.id.A,tmpTarget).removeClass(consts.node.TMPTARGET_NODE+"_"+consts.move.TYPE_PREV).removeClass(consts.node.TMPTARGET_NODE+"_"+_consts.move.TYPE_NEXT).removeClass(consts.node.TMPTARGET_NODE+"_"+_consts.move.TYPE_INNER)}tools.showIfameMask(setting,false);roots.showHoverDom=true;if(root.dragFlag==0)return;root.dragFlag=0;var i,l,tmpNode;for(i=0,l=nodes.length;i<l;i++){tmpNode=nodes[i];if(data.nodeIsParent(setting,tmpNode)&&root.dragNodeShowBefore[tmpNode.tId]&&!tmpNode.open){view.expandCollapseNode(setting,tmpNode,!tmpNode.open);delete root.dragNodeShowBefore[tmpNode.tId]}}if(curNode)curNode.remove();if(tmpArrow)tmpArrow.remove();var isCopy=((event.ctrlKey||event.metaKey)&&setting.edit.drag.isMove&&setting.edit.drag.isCopy)||(!setting.edit.drag.isMove&&setting.edit.drag.isCopy);if(!isCopy&&tmpTarget&&tmpTargetNodeId&&nodes[0].parentTId&&tmpTargetNodeId==nodes[0].parentTId&&moveType==consts.move.TYPE_INNER){tmpTarget=null}if(tmpTarget){var dragTargetNode=tmpTargetNodeId==null?null:data.getNodeCache(targetSetting,tmpTargetNodeId);if(tools.apply(setting.callback.beforeDrop,[targetSetting.treeId,nodes,dragTargetNode,moveType,isCopy],true)==false){view.selectNodes(sourceSetting,nodes);return}var newNodes=isCopy?tools.clone(nodes):nodes;function dropCallback(){if(isOtherTree){if(!isCopy){for(var i=0,l=nodes.length;i<l;i++){view.removeNode(setting,nodes[i])}}if(moveType==consts.move.TYPE_INNER){view.addNodes(targetSetting,dragTargetNode,-1,newNodes)}else{view.addNodes(targetSetting,dragTargetNode.getParentNode(),moveType==consts.move.TYPE_PREV?dragTargetNode.getIndex():dragTargetNode.getIndex()+1,newNodes)}}else{if(isCopy&&moveType==consts.move.TYPE_INNER){view.addNodes(targetSetting,dragTargetNode,-1,newNodes)}else if(isCopy){view.addNodes(targetSetting,dragTargetNode.getParentNode(),moveType==consts.move.TYPE_PREV?dragTargetNode.getIndex():dragTargetNode.getIndex()+1,newNodes)}else{if(moveType!=consts.move.TYPE_NEXT){for(i=0,l=newNodes.length;i<l;i++){view.moveNode(targetSetting,dragTargetNode,newNodes[i],moveType,false)}}else{for(i=-1,l=newNodes.length-1;i<l;l--){view.moveNode(targetSetting,dragTargetNode,newNodes[l],moveType,false)}}}}view.selectNodes(targetSetting,newNodes);var a=$$(newNodes[0],setting).get(0);view.scrollIntoView(setting,a);setting.treeObj.trigger(consts.event.DROP,[event,targetSetting.treeId,newNodes,dragTargetNode,moveType,isCopy])}if(moveType==consts.move.TYPE_INNER&&tools.canAsync(targetSetting,dragTargetNode)){view.asyncNode(targetSetting,dragTargetNode,false,dropCallback)}else{dropCallback()}}else{view.selectNodes(sourceSetting,nodes);setting.treeObj.trigger(consts.event.DROP,[event,setting.treeId,nodes,null,null,null])}}doc.bind("selectstart",_docSelect);function _docSelect(){return false}return true}},_tools={getAbs:function(obj){var oRect=obj.getBoundingClientRect(),scrollTop=document.body.scrollTop+document.documentElement.scrollTop,scrollLeft=document.body.scrollLeft+document.documentElement.scrollLeft;return[oRect.left+scrollLeft,oRect.top+scrollTop]},inputFocus:function(inputObj){if(inputObj.get(0)){inputObj.focus();tools.setCursorPosition(inputObj.get(0),inputObj.val().length)}},inputSelect:function(inputObj){if(inputObj.get(0)){inputObj.focus();inputObj.select()}},setCursorPosition:function(obj,pos){if(obj.setSelectionRange){obj.focus();obj.setSelectionRange(pos,pos)}else if(obj.createTextRange){var range=obj.createTextRange();range.collapse(true);range.moveEnd('character',pos);range.moveStart('character',pos);range.select()}},showIfameMask:function(setting,showSign){var root=data.getRoot(setting);while(root.dragMaskList.length>0){root.dragMaskList[0].remove();root.dragMaskList.shift()}if(showSign){var iframeList=$$("iframe",setting);for(var i=0,l=iframeList.length;i<l;i++){var obj=iframeList.get(i),r=tools.getAbs(obj),dragMask=$$("<div id='zTreeMask_"+i+"' class='zTreeMask' style='top:"+r[1]+"px; left:"+r[0]+"px; width:"+obj.offsetWidth+"px; height:"+obj.offsetHeight+"px;'></div>",setting);dragMask.appendTo($$("body",setting));root.dragMaskList.push(dragMask)}}}},_view={addEditBtn:function(setting,node){if(node.editNameFlag||$$(node,consts.id.EDIT,setting).length>0){return}if(!tools.apply(setting.edit.showRenameBtn,[setting.treeId,node],setting.edit.showRenameBtn)){return}var aObj=$$(node,consts.id.A,setting),editStr="<span class='"+consts.className.BUTTON+" edit' id='"+node.tId+consts.id.EDIT+"' title='"+tools.apply(setting.edit.renameTitle,[setting.treeId,node],setting.edit.renameTitle)+"' treeNode"+consts.id.EDIT+" style='display:none;'></span>";aObj.append(editStr);$$(node,consts.id.EDIT,setting).bind('click',function(){if(!tools.uCanDo(setting)||tools.apply(setting.callback.beforeEditName,[setting.treeId,node],true)==false)return false;view.editNode(setting,node);return false}).show()},addRemoveBtn:function(setting,node){if(node.editNameFlag||$$(node,consts.id.REMOVE,setting).length>0){return}if(!tools.apply(setting.edit.showRemoveBtn,[setting.treeId,node],setting.edit.showRemoveBtn)){return}var aObj=$$(node,consts.id.A,setting),removeStr="<span class='"+consts.className.BUTTON+" remove' id='"+node.tId+consts.id.REMOVE+"' title='"+tools.apply(setting.edit.removeTitle,[setting.treeId,node],setting.edit.removeTitle)+"' treeNode"+consts.id.REMOVE+" style='display:none;'></span>";aObj.append(removeStr);$$(node,consts.id.REMOVE,setting).bind('click',function(){if(!tools.uCanDo(setting)||tools.apply(setting.callback.beforeRemove,[setting.treeId,node],true)==false)return false;view.removeNode(setting,node);setting.treeObj.trigger(consts.event.REMOVE,[setting.treeId,node]);return false}).bind('mousedown',function(eventMouseDown){return true}).show()},addHoverDom:function(setting,node){if(data.getRoots().showHoverDom){node.isHover=true;if(setting.edit.enable){view.addEditBtn(setting,node);view.addRemoveBtn(setting,node)}tools.apply(setting.view.addHoverDom,[setting.treeId,node])}},cancelCurEditNode:function(setting,forceName,isCancel){var root=data.getRoot(setting),node=root.curEditNode;if(node){var inputObj=root.curEditInput,newName=forceName?forceName:(isCancel?data.nodeName(setting,node):inputObj.val());if(tools.apply(setting.callback.beforeRename,[setting.treeId,node,newName,isCancel],true)===false){return false}data.nodeName(setting,node,newName);var aObj=$$(node,consts.id.A,setting);aObj.removeClass(consts.node.CURSELECTED_EDIT);inputObj.unbind();view.setNodeName(setting,node);node.editNameFlag=false;root.curEditNode=null;root.curEditInput=null;view.selectNode(setting,node,false);setting.treeObj.trigger(consts.event.RENAME,[setting.treeId,node,isCancel])}root.noSelection=true;return true},editNode:function(setting,node){var root=data.getRoot(setting);view.editNodeBlur=false;if(data.isSelectedNode(setting,node)&&root.curEditNode==node&&node.editNameFlag){setTimeout(function(){tools.inputFocus(root.curEditInput)},0);return}node.editNameFlag=true;view.removeTreeDom(setting,node);view.cancelCurEditNode(setting);view.selectNode(setting,node,false);$$(node,consts.id.SPAN,setting).html("<input type=text class='rename' id='"+node.tId+consts.id.INPUT+"' treeNode"+consts.id.INPUT+" >");var inputObj=$$(node,consts.id.INPUT,setting);inputObj.attr("value",data.nodeName(setting,node));if(setting.edit.editNameSelectAll){tools.inputSelect(inputObj)}else{tools.inputFocus(inputObj)}inputObj.bind('blur',function(event){if(!view.editNodeBlur){view.cancelCurEditNode(setting)}}).bind('keydown',function(event){if(event.keyCode=="13"){view.editNodeBlur=true;view.cancelCurEditNode(setting)}else if(event.keyCode=="27"){view.cancelCurEditNode(setting,null,true)}}).bind('click',function(event){return false}).bind('dblclick',function(event){return false});$$(node,consts.id.A,setting).addClass(consts.node.CURSELECTED_EDIT);root.curEditInput=inputObj;root.noSelection=false;root.curEditNode=node},moveNode:function(setting,targetNode,node,moveType,animateFlag,isSilent){var root=data.getRoot(setting);if(targetNode==node)return;if(setting.data.keep.leaf&&targetNode&&!data.nodeIsParent(setting,targetNode)&&moveType==consts.move.TYPE_INNER)return;var oldParentNode=(node.parentTId?node.getParentNode():root),targetNodeIsRoot=(targetNode===null||targetNode==root);if(targetNodeIsRoot&&targetNode===null)targetNode=root;if(targetNodeIsRoot)moveType=consts.move.TYPE_INNER;var targetParentNode=(targetNode.parentTId?targetNode.getParentNode():root);if(moveType!=consts.move.TYPE_PREV&&moveType!=consts.move.TYPE_NEXT){moveType=consts.move.TYPE_INNER}if(moveType==consts.move.TYPE_INNER){if(targetNodeIsRoot){node.parentTId=null}else{if(!data.nodeIsParent(setting,targetNode)){data.nodeIsParent(setting,targetNode,true);targetNode.open=!!targetNode.open;view.setNodeLineIcos(setting,targetNode)}node.parentTId=targetNode.tId}}var targetObj,target_ulObj;if(targetNodeIsRoot){targetObj=setting.treeObj;target_ulObj=targetObj}else{if(!isSilent&&moveType==consts.move.TYPE_INNER){view.expandCollapseNode(setting,targetNode,true,false)}else if(!isSilent){view.expandCollapseNode(setting,targetNode.getParentNode(),true,false)}targetObj=$$(targetNode,setting);target_ulObj=$$(targetNode,consts.id.UL,setting);if(!!targetObj.get(0)&&!target_ulObj.get(0)){var ulstr=[];view.makeUlHtml(setting,targetNode,ulstr,'');targetObj.append(ulstr.join(''))}target_ulObj=$$(targetNode,consts.id.UL,setting)}var nodeDom=$$(node,setting);if(!nodeDom.get(0)){nodeDom=view.appendNodes(setting,node.level,[node],null,-1,false,true).join('')}else if(!targetObj.get(0)){nodeDom.remove()}if(target_ulObj.get(0)&&moveType==consts.move.TYPE_INNER){target_ulObj.append(nodeDom)}else if(targetObj.get(0)&&moveType==consts.move.TYPE_PREV){targetObj.before(nodeDom)}else if(targetObj.get(0)&&moveType==consts.move.TYPE_NEXT){targetObj.after(nodeDom)}var i,l,tmpSrcIndex=-1,tmpTargetIndex=0,oldNeighbor=null,newNeighbor=null,oldLevel=node.level;var oldChildren=data.nodeChildren(setting,oldParentNode);var targetParentChildren=data.nodeChildren(setting,targetParentNode);var targetChildren=data.nodeChildren(setting,targetNode);if(node.isFirstNode){tmpSrcIndex=0;if(oldChildren.length>1){oldNeighbor=oldChildren[1];oldNeighbor.isFirstNode=true}}else if(node.isLastNode){tmpSrcIndex=oldChildren.length-1;oldNeighbor=oldChildren[tmpSrcIndex-1];oldNeighbor.isLastNode=true}else{for(i=0,l=oldChildren.length;i<l;i++){if(oldChildren[i].tId==node.tId){tmpSrcIndex=i;break}}}if(tmpSrcIndex>=0){oldChildren.splice(tmpSrcIndex,1)}if(moveType!=consts.move.TYPE_INNER){for(i=0,l=targetParentChildren.length;i<l;i++){if(targetParentChildren[i].tId==targetNode.tId)tmpTargetIndex=i}}if(moveType==consts.move.TYPE_INNER){if(!targetChildren){targetChildren=data.nodeChildren(setting,targetNode,[])}if(targetChildren.length>0){newNeighbor=targetChildren[targetChildren.length-1];newNeighbor.isLastNode=false}targetChildren.splice(targetChildren.length,0,node);node.isLastNode=true;node.isFirstNode=(targetChildren.length==1)}else if(targetNode.isFirstNode&&moveType==consts.move.TYPE_PREV){targetParentChildren.splice(tmpTargetIndex,0,node);newNeighbor=targetNode;newNeighbor.isFirstNode=false;node.parentTId=targetNode.parentTId;node.isFirstNode=true;node.isLastNode=false}else if(targetNode.isLastNode&&moveType==consts.move.TYPE_NEXT){targetParentChildren.splice(tmpTargetIndex+1,0,node);newNeighbor=targetNode;newNeighbor.isLastNode=false;node.parentTId=targetNode.parentTId;node.isFirstNode=false;node.isLastNode=true}else{if(moveType==consts.move.TYPE_PREV){targetParentChildren.splice(tmpTargetIndex,0,node)}else{targetParentChildren.splice(tmpTargetIndex+1,0,node)}node.parentTId=targetNode.parentTId;node.isFirstNode=false;node.isLastNode=false}data.fixPIdKeyValue(setting,node);data.setSonNodeLevel(setting,node.getParentNode(),node);view.setNodeLineIcos(setting,node);view.repairNodeLevelClass(setting,node,oldLevel);if(!setting.data.keep.parent&&oldChildren.length<1){data.nodeIsParent(setting,oldParentNode,false);oldParentNode.open=false;var tmp_ulObj=$$(oldParentNode,consts.id.UL,setting),tmp_switchObj=$$(oldParentNode,consts.id.SWITCH,setting),tmp_icoObj=$$(oldParentNode,consts.id.ICON,setting);view.replaceSwitchClass(oldParentNode,tmp_switchObj,consts.folder.DOCU);view.replaceIcoClass(oldParentNode,tmp_icoObj,consts.folder.DOCU);tmp_ulObj.css("display","none")}else if(oldNeighbor){view.setNodeLineIcos(setting,oldNeighbor)}if(newNeighbor){view.setNodeLineIcos(setting,newNeighbor)}if(!!setting.check&&setting.check.enable&&view.repairChkClass){view.repairChkClass(setting,oldParentNode);view.repairParentChkClassWithSelf(setting,oldParentNode);if(oldParentNode!=node.parent)view.repairParentChkClassWithSelf(setting,node)}if(!isSilent){view.expandCollapseParentNode(setting,node.getParentNode(),true,animateFlag)}},removeEditBtn:function(setting,node){$$(node,consts.id.EDIT,setting).unbind().remove()},removeRemoveBtn:function(setting,node){$$(node,consts.id.REMOVE,setting).unbind().remove()},removeTreeDom:function(setting,node){node.isHover=false;view.removeEditBtn(setting,node);view.removeRemoveBtn(setting,node);tools.apply(setting.view.removeHoverDom,[setting.treeId,node])},repairNodeLevelClass:function(setting,node,oldLevel){if(oldLevel===node.level)return;var liObj=$$(node,setting),aObj=$$(node,consts.id.A,setting),ulObj=$$(node,consts.id.UL,setting),oldClass=consts.className.LEVEL+oldLevel,newClass=consts.className.LEVEL+node.level;liObj.removeClass(oldClass);liObj.addClass(newClass);aObj.removeClass(oldClass);aObj.addClass(newClass);ulObj.removeClass(oldClass);ulObj.addClass(newClass)},selectNodes:function(setting,nodes){for(var i=0,l=nodes.length;i<l;i++){view.selectNode(setting,nodes[i],i>0)}}},_z={tools:_tools,view:_view,event:_event,data:_data};$.extend(true,$.fn.zTree.consts,_consts);$.extend(true,$.fn.zTree._z,_z);var zt=$.fn.zTree,tools=zt._z.tools,consts=zt.consts,view=zt._z.view,data=zt._z.data,event=zt._z.event,$$=tools.$;data.exSetting(_setting);data.addInitBind(_bindEvent);data.addInitUnBind(_unbindEvent);data.addInitCache(_initCache);data.addInitNode(_initNode);data.addInitProxy(_eventProxy);data.addInitRoot(_initRoot);data.addZTreeTools(_zTreeTools);var _cancelPreSelectedNode=view.cancelPreSelectedNode;view.cancelPreSelectedNode=function(setting,node){var list=data.getRoot(setting).curSelectedList;for(var i=0,j=list.length;i<j;i++){if(!node||node===list[i]){view.removeTreeDom(setting,list[i]);if(node)break}}if(_cancelPreSelectedNode)_cancelPreSelectedNode.apply(view,arguments)}var _createNodes=view.createNodes;view.createNodes=function(setting,level,nodes,parentNode,index){if(_createNodes){_createNodes.apply(view,arguments)}if(!nodes)return;if(view.repairParentChkClassWithSelf){view.repairParentChkClassWithSelf(setting,parentNode)}}var _makeNodeUrl=view.makeNodeUrl;view.makeNodeUrl=function(setting,node){return setting.edit.enable?null:(_makeNodeUrl.apply(view,arguments))}var _removeNode=view.removeNode;view.removeNode=function(setting,node){var root=data.getRoot(setting);if(root.curEditNode===node)root.curEditNode=null;if(_removeNode){_removeNode.apply(view,arguments)}}var _selectNode=view.selectNode;view.selectNode=function(setting,node,addFlag){var root=data.getRoot(setting);if(data.isSelectedNode(setting,node)&&root.curEditNode==node&&node.editNameFlag){return false}if(_selectNode)_selectNode.apply(view,arguments);view.addHoverDom(setting,node);return true}var _uCanDo=tools.uCanDo;tools.uCanDo=function(setting,e){var root=data.getRoot(setting);if(e&&(tools.eqs(e.type,"mouseover")||tools.eqs(e.type,"mouseout")||tools.eqs(e.type,"mousedown")||tools.eqs(e.type,"mouseup"))){return true}if(root.curEditNode){view.editNodeBlur=false;root.curEditInput.focus()}return(!root.curEditNode)&&(_uCanDo?_uCanDo.apply(view,arguments):true)}})(jQuery);(function($){var _setting={data:{key:{isHidden:"isHidden"}}};var _initNode=function(setting,level,n,parentNode,isFirstNode,isLastNode,openFlag){var isHidden=data.isHidden(setting,n);data.isHidden(setting,n,isHidden);data.initHideForExCheck(setting,n)},_beforeA=function(setting,node,html){},_zTreeTools=function(setting,zTreeTools){zTreeTools.showNodes=function(nodes,options){view.showNodes(setting,nodes,options)}zTreeTools.showNode=function(node,options){if(!node){return}view.showNodes(setting,[node],options)}zTreeTools.hideNodes=function(nodes,options){view.hideNodes(setting,nodes,options)}zTreeTools.hideNode=function(node,options){if(!node){return}view.hideNodes(setting,[node],options)}var _checkNode=zTreeTools.checkNode;if(_checkNode){zTreeTools.checkNode=function(node,checked,checkTypeFlag,callbackFlag){if(!!node&&!!data.isHidden(setting,node)){return}_checkNode.apply(zTreeTools,arguments)}}},_data={initHideForExCheck:function(setting,n){var isHidden=data.isHidden(setting,n);if(isHidden&&setting.check&&setting.check.enable){if(typeof n._nocheck=="undefined"){n._nocheck=!!n.nocheck n.nocheck=true}n.check_Child_State=-1;if(view.repairParentChkClassWithSelf){view.repairParentChkClassWithSelf(setting,n)}}},initShowForExCheck:function(setting,n){var isHidden=data.isHidden(setting,n);if(!isHidden&&setting.check&&setting.check.enable){if(typeof n._nocheck!="undefined"){n.nocheck=n._nocheck;delete n._nocheck}if(view.setChkClass){var checkObj=$$(n,consts.id.CHECK,setting);view.setChkClass(setting,checkObj,n)}if(view.repairParentChkClassWithSelf){view.repairParentChkClassWithSelf(setting,n)}}}},_view={clearOldFirstNode:function(setting,node){var n=node.getNextNode();while(!!n){if(n.isFirstNode){n.isFirstNode=false;view.setNodeLineIcos(setting,n);break}if(n.isLastNode){break}n=n.getNextNode()}},clearOldLastNode:function(setting,node,openFlag){var n=node.getPreNode();while(!!n){if(n.isLastNode){n.isLastNode=false;if(openFlag){view.setNodeLineIcos(setting,n)}break}if(n.isFirstNode){break}n=n.getPreNode()}},makeDOMNodeMainBefore:function(html,setting,node){var isHidden=data.isHidden(setting,node);html.push("<li ",(isHidden?"style='display:none;' ":""),"id='",node.tId,"' class='",consts.className.LEVEL,node.level,"' tabindex='0' hidefocus='true' treenode>")},showNode:function(setting,node,options){data.isHidden(setting,node,false);data.initShowForExCheck(setting,node);$$(node,setting).show()},showNodes:function(setting,nodes,options){if(!nodes||nodes.length==0){return}var pList={},i,j;for(i=0,j=nodes.length;i<j;i++){var n=nodes[i];if(!pList[n.parentTId]){var pn=n.getParentNode();pList[n.parentTId]=(pn===null)?data.getRoot(setting):n.getParentNode()}view.showNode(setting,n,options)}for(var tId in pList){var children=data.nodeChildren(setting,pList[tId]);view.setFirstNodeForShow(setting,children);view.setLastNodeForShow(setting,children)}},hideNode:function(setting,node,options){data.isHidden(setting,node,true);node.isFirstNode=false;node.isLastNode=false;data.initHideForExCheck(setting,node);view.cancelPreSelectedNode(setting,node);$$(node,setting).hide()},hideNodes:function(setting,nodes,options){if(!nodes||nodes.length==0){return}var pList={},i,j;for(i=0,j=nodes.length;i<j;i++){var n=nodes[i];if((n.isFirstNode||n.isLastNode)&&!pList[n.parentTId]){var pn=n.getParentNode();pList[n.parentTId]=(pn===null)?data.getRoot(setting):n.getParentNode()}view.hideNode(setting,n,options)}for(var tId in pList){var children=data.nodeChildren(setting,pList[tId]);view.setFirstNodeForHide(setting,children);view.setLastNodeForHide(setting,children)}},setFirstNode:function(setting,parentNode){var children=data.nodeChildren(setting,parentNode);var isHidden=data.isHidden(setting,children[0],false);if(children.length>0&&!isHidden){children[0].isFirstNode=true}else if(children.length>0){view.setFirstNodeForHide(setting,children)}},setLastNode:function(setting,parentNode){var children=data.nodeChildren(setting,parentNode);var isHidden=data.isHidden(setting,children[0]);if(children.length>0&&!isHidden){children[children.length-1].isLastNode=true}else if(children.length>0){view.setLastNodeForHide(setting,children)}},setFirstNodeForHide:function(setting,nodes){var n,i,j;for(i=0,j=nodes.length;i<j;i++){n=nodes[i];if(n.isFirstNode){break}var isHidden=data.isHidden(setting,n);if(!isHidden&&!n.isFirstNode){n.isFirstNode=true;view.setNodeLineIcos(setting,n);break}else{n=null}}return n},setFirstNodeForShow:function(setting,nodes){var n,i,j,first,old;for(i=0,j=nodes.length;i<j;i++){n=nodes[i];var isHidden=data.isHidden(setting,n);if(!first&&!isHidden&&n.isFirstNode){first=n;break}else if(!first&&!isHidden&&!n.isFirstNode){n.isFirstNode=true;first=n;view.setNodeLineIcos(setting,n)}else if(first&&n.isFirstNode){n.isFirstNode=false;old=n;view.setNodeLineIcos(setting,n);break}else{n=null}}return{"new":first,"old":old}},setLastNodeForHide:function(setting,nodes){var n,i;for(i=nodes.length-1;i>=0;i--){n=nodes[i];if(n.isLastNode){break}var isHidden=data.isHidden(setting,n);if(!isHidden&&!n.isLastNode){n.isLastNode=true;view.setNodeLineIcos(setting,n);break}else{n=null}}return n},setLastNodeForShow:function(setting,nodes){var n,i,j,last,old;for(i=nodes.length-1;i>=0;i--){n=nodes[i];var isHidden=data.isHidden(setting,n);if(!last&&!isHidden&&n.isLastNode){last=n;break}else if(!last&&!isHidden&&!n.isLastNode){n.isLastNode=true;last=n;view.setNodeLineIcos(setting,n)}else if(last&&n.isLastNode){n.isLastNode=false;old=n;view.setNodeLineIcos(setting,n);break}else{n=null}}return{"new":last,"old":old}}},_z={view:_view,data:_data};$.extend(true,$.fn.zTree._z,_z);var zt=$.fn.zTree,tools=zt._z.tools,consts=zt.consts,view=zt._z.view,data=zt._z.data,event=zt._z.event,$$=tools.$;data.isHidden=function(setting,node,newIsHidden){if(!node){return false}var key=setting.data.key.isHidden;if(typeof newIsHidden!=='undefined'){if(typeof newIsHidden==="string"){newIsHidden=tools.eqs(newIsHidden,"true")}newIsHidden=!!newIsHidden;node[key]=newIsHidden}else if(typeof node[key]=="string"){node[key]=tools.eqs(node[key],"true")}else{node[key]=!!node[key]}return node[key]};data.exSetting(_setting);data.addInitNode(_initNode);data.addBeforeA(_beforeA);data.addZTreeTools(_zTreeTools);var _dInitNode=data.initNode;data.initNode=function(setting,level,node,parentNode,isFirstNode,isLastNode,openFlag){var tmpPNode=(parentNode)?parentNode:data.getRoot(setting),children=tmpPNode[setting.data.key.children];data.tmpHideFirstNode=view.setFirstNodeForHide(setting,children);data.tmpHideLastNode=view.setLastNodeForHide(setting,children);if(openFlag){view.setNodeLineIcos(setting,data.tmpHideFirstNode);view.setNodeLineIcos(setting,data.tmpHideLastNode)}isFirstNode=(data.tmpHideFirstNode===node);isLastNode=(data.tmpHideLastNode===node);if(_dInitNode)_dInitNode.apply(data,arguments);if(openFlag&&isLastNode){view.clearOldLastNode(setting,node,openFlag)}};var _makeChkFlag=data.makeChkFlag;if(!!_makeChkFlag){data.makeChkFlag=function(setting,node){if(!!node&&!!data.isHidden(setting,node)){return}_makeChkFlag.apply(data,arguments)}}var _getTreeCheckedNodes=data.getTreeCheckedNodes;if(!!_getTreeCheckedNodes){data.getTreeCheckedNodes=function(setting,nodes,checked,results){if(!!nodes&&nodes.length>0){var p=nodes[0].getParentNode();if(!!p&&!!data.isHidden(setting,p)){return[]}}return _getTreeCheckedNodes.apply(data,arguments)}}var _getTreeChangeCheckedNodes=data.getTreeChangeCheckedNodes;if(!!_getTreeChangeCheckedNodes){data.getTreeChangeCheckedNodes=function(setting,nodes,results){if(!!nodes&&nodes.length>0){var p=nodes[0].getParentNode();if(!!p&&!!data.isHidden(setting,p)){return[]}}return _getTreeChangeCheckedNodes.apply(data,arguments)}}var _expandCollapseSonNode=view.expandCollapseSonNode;if(!!_expandCollapseSonNode){view.expandCollapseSonNode=function(setting,node,expandFlag,animateFlag,callback){if(!!node&&!!data.isHidden(setting,node)){return}_expandCollapseSonNode.apply(view,arguments)}}var _setSonNodeCheckBox=view.setSonNodeCheckBox;if(!!_setSonNodeCheckBox){view.setSonNodeCheckBox=function(setting,node,value,srcNode){if(!!node&&!!data.isHidden(setting,node)){return}_setSonNodeCheckBox.apply(view,arguments)}}var _repairParentChkClassWithSelf=view.repairParentChkClassWithSelf;if(!!_repairParentChkClassWithSelf){view.repairParentChkClassWithSelf=function(setting,node){if(!!node&&!!data.isHidden(setting,node)){return}_repairParentChkClassWithSelf.apply(view,arguments)}}})(jQuery);(function(factory){if(typeof module==='object'&&typeof module.exports==='object'){factory(require('jquery'),window,document)}else if(typeof jQuery!=='undefined'){factory(jQuery,window,document)}}(function($,window,document,undefined){(function(){function pad(str,ch,length){return(new Array(length+1-str.length).join(ch))+str}function normalize(){if(arguments.length===1){var date=arguments[0];if(typeof date==='string'){date=$.fn.timepicker.parseTime(date)}return new Date(0,0,0,date.getHours(),date.getMinutes(),date.getSeconds())}else if(arguments.length===3){return new Date(0,0,0,arguments[0],arguments[1],arguments[2])}else if(arguments.length===2){return new Date(0,0,0,arguments[0],arguments[1],0)}else{return new Date(0,0,0)}}$.TimePicker=function(){var widget=this;widget.container=$('.ui-timepicker-container');widget.ui=widget.container.find('.ui-timepicker');if(widget.container.length===0){widget.container=$('<div></div>').addClass('ui-timepicker-container').addClass('ui-timepicker-hidden ui-helper-hidden').appendTo('body').hide();widget.ui=$('<div></div>').addClass('ui-timepicker').addClass('ui-widget ui-widget-content ui-menu').addClass('ui-corner-all').appendTo(widget.container);widget.viewport=$('<ul></ul>').addClass('ui-timepicker-viewport').appendTo(widget.ui);if($.fn.jquery>='1.4.2'){widget.ui.delegate('a','mouseenter.timepicker',function(){widget.activate(false,$(this).parent())}).delegate('a','mouseleave.timepicker',function(){widget.deactivate(false)}).delegate('a','click.timepicker',function(event){event.preventDefault();widget.select(false,$(this).parent())})}}};$.TimePicker.count=0;$.TimePicker.instance=function(){if(!$.TimePicker._instance){$.TimePicker._instance=new $.TimePicker()}return $.TimePicker._instance};$.TimePicker.prototype={keyCode:{ALT:18,BLOQ_MAYUS:20,CTRL:17,DOWN:40,END:35,ENTER:13,HOME:36,LEFT:37,NUMPAD_ENTER:108,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SHIFT:16,TAB:9,UP:38},_items:function(i,startTime){var widget=this,ul=$('<ul></ul>'),item=null,time,end;if(i.options.timeFormat.indexOf('m')===-1&&i.options.interval%60!==0){i.options.interval=Math.max(Math.round(i.options.interval/60),1)*60}if(startTime){time=normalize(startTime)}else if(i.options.startTime){time=normalize(i.options.startTime)}else{time=normalize(i.options.startHour,i.options.startMinutes)}end=new Date(time.getTime()+24*60*60*1000);while(time<end){if(widget._isValidTime(i,time)){item=$('<li>').addClass('ui-menu-item').appendTo(ul);$('<a>').addClass('ui-corner-all').text($.fn.timepicker.formatTime(i.options.timeFormat,time)).appendTo(item);item.data('time-value',time)}time=new Date(time.getTime()+i.options.interval*60*1000)}return ul.children()},_isValidTime:function(i,time){var min=null,max=null;time=normalize(time);if(i.options.minTime!==null){min=normalize(i.options.minTime)}else if(i.options.minHour!==null||i.options.minMinutes!==null){min=normalize(i.options.minHour,i.options.minMinutes)}if(i.options.maxTime!==null){max=normalize(i.options.maxTime)}else if(i.options.maxHour!==null||i.options.maxMinutes!==null){max=normalize(i.options.maxHour,i.options.maxMinutes)}if(min!==null&&max!==null){return time>=min&&time<=max}else if(min!==null){return time>=min}else if(max!==null){return time<=max}return true},_hasScroll:function(){var m=typeof this.ui.prop!=='undefined'?'prop':'attr';return this.ui.height()<this.ui[m]('scrollHeight')},_move:function(i,direction,edge){var widget=this;if(widget.closed()){widget.open(i)}if(!widget.active){widget.activate(i,widget.viewport.children(edge));return}var next=widget.active[direction+'All']('.ui-menu-item').eq(0);if(next.length){widget.activate(i,next)}else{widget.activate(i,widget.viewport.children(edge))}},register:function(node,options){var widget=this,i={};i.element=$(node);if(i.element.data('TimePicker')){return}i.options=$.metadata?$.extend({},options,i.element.metadata()):$.extend({},options);i.widget=widget;$.extend(i,{next:function(){return widget.next(i)},previous:function(){return widget.previous(i)},first:function(){return widget.first(i)},last:function(){return widget.last(i)},selected:function(){return widget.selected(i)},open:function(){return widget.open(i)},close:function(){return widget.close(i)},closed:function(){return widget.closed(i)},destroy:function(){return widget.destroy(i)},parse:function(str){return widget.parse(i,str)},format:function(time,format){return widget.format(i,time,format)},getTime:function(){return widget.getTime(i)},setTime:function(time,silent){return widget.setTime(i,time,silent)},option:function(name,value){return widget.option(i,name,value)}});widget._setDefaultTime(i);widget._addInputEventsHandlers(i);i.element.data('TimePicker',i)},_setDefaultTime:function(i){if(i.options.defaultTime==='now'){i.setTime(normalize(new Date()))}else if(i.options.defaultTime&&i.options.defaultTime.getFullYear){i.setTime(normalize(i.options.defaultTime))}else if(i.options.defaultTime){i.setTime($.fn.timepicker.parseTime(i.options.defaultTime))}},_addInputEventsHandlers:function(i){var widget=this;i.element.bind('keydown.timepicker',function(event){switch(event.which||event.keyCode){case widget.keyCode.ENTER:case widget.keyCode.NUMPAD_ENTER:event.preventDefault();if(widget.closed()){i.element.trigger('change.timepicker')}else{widget.select(i,widget.active)}break;case widget.keyCode.UP:i.previous();break;case widget.keyCode.DOWN:i.next();break;default:if(!widget.closed()){i.close(true)}break}}).bind('focus.timepicker',function(){i.open()}).bind('blur.timepicker',function(){setTimeout(function(){if(i.element.data('timepicker-user-clicked-outside')){i.close()}})}).bind('change.timepicker',function(){if(i.closed()){i.setTime($.fn.timepicker.parseTime(i.element.val()))}})},select:function(i,item){var widget=this,instance=i===false?widget.instance:i;widget.setTime(instance,$.fn.timepicker.parseTime(item.children('a').text()));widget.close(instance,true)},activate:function(i,item){var widget=this,instance=i===false?widget.instance:i;if(instance!==widget.instance){return}else{widget.deactivate()}if(widget._hasScroll()){var offset=item.offset().top-widget.ui.offset().top,scroll=widget.ui.scrollTop(),height=widget.ui.height();if(offset<0){widget.ui.scrollTop(scroll+offset)}else if(offset>=height){widget.ui.scrollTop(scroll+offset-height+item.height())}}widget.active=item.eq(0).children('a').addClass('ui-state-hover').attr('id','ui-active-item').end()},deactivate:function(){var widget=this;if(!widget.active){return}widget.active.children('a').removeClass('ui-state-hover').removeAttr('id');widget.active=null},next:function(i){if(this.closed()||this.instance===i){this._move(i,'next','.ui-menu-item:first')}return i.element},previous:function(i){if(this.closed()||this.instance===i){this._move(i,'prev','.ui-menu-item:last')}return i.element},first:function(i){if(this.instance===i){return this.active&&this.active.prevAll('.ui-menu-item').length===0}return false},last:function(i){if(this.instance===i){return this.active&&this.active.nextAll('.ui-menu-item').length===0}return false},selected:function(i){if(this.instance===i){return this.active?this.active:null}return null},open:function(i){var widget=this,selectedTime=i.getTime(),arrange=i.options.dynamic&&selectedTime;if(!i.options.dropdown){return i.element}i.element.data('timepicker-event-namespace',Math.random());$(document).bind('click.timepicker-'+i.element.data('timepicker-event-namespace'),function(event){if(i.element.get(0)===event.target){i.element.data('timepicker-user-clicked-outside',false)}else{i.element.data('timepicker-user-clicked-outside',true).blur()}});if(i.rebuild||!i.items||arrange){i.items=widget._items(i,arrange?selectedTime:null)}if(i.rebuild||widget.instance!==i||arrange){if($.fn.jquery<'1.4.2'){widget.viewport.children().remove();widget.viewport.append(i.items);widget.viewport.find('a').bind('mouseover.timepicker',function(){widget.activate(i,$(this).parent())}).bind('mouseout.timepicker',function(){widget.deactivate(i)}).bind('click.timepicker',function(event){event.preventDefault();widget.select(i,$(this).parent())})}else{widget.viewport.children().detach();widget.viewport.append(i.items)}}i.rebuild=false;widget.container.removeClass('ui-helper-hidden ui-timepicker-hidden ui-timepicker-standard ui-timepicker-corners').show();switch(i.options.theme){case'standard':widget.container.addClass('ui-timepicker-standard');break;case'standard-rounded-corners':widget.container.addClass('ui-timepicker-standard ui-timepicker-corners');break;default:break}if(!widget.container.hasClass('ui-timepicker-no-scrollbar')&&!i.options.scrollbar){widget.container.addClass('ui-timepicker-no-scrollbar');widget.viewport.css({paddingRight:40})}var containerDecorationHeight=widget.container.outerHeight()-widget.container.height(),zindex=i.options.zindex?i.options.zindex:i.element.offsetParent().css('z-index'),elementOffset=i.element.offset();widget.container.css({top:elementOffset.top+i.element.outerHeight(),left:elementOffset.left});widget.container.show();widget.container.css({left:i.element.offset().left,height:widget.ui.outerHeight()+containerDecorationHeight,width:i.element.outerWidth(),zIndex:zindex,cursor:'default'});var calculatedWidth=widget.container.width()-(widget.ui.outerWidth()-widget.ui.width());widget.ui.css({width:calculatedWidth});widget.viewport.css({width:calculatedWidth});i.items.css({width:calculatedWidth});widget.instance=i;if(selectedTime){i.items.each(function(){var item=$(this),time;if($.fn.jquery<'1.4.2'){time=$.fn.timepicker.parseTime(item.find('a').text())}else{time=item.data('time-value')}if(time.getTime()===selectedTime.getTime()){widget.activate(i,item);return false}return true})}else{widget.deactivate(i)}return i.element},close:function(i){var widget=this;if(widget.instance===i){widget.container.addClass('ui-helper-hidden ui-timepicker-hidden').hide();widget.ui.scrollTop(0);widget.ui.children().removeClass('ui-state-hover')}$(document).unbind('click.timepicker-'+i.element.data('timepicker-event-namespace'));return i.element},closed:function(){return this.ui.is(':hidden')},destroy:function(i){var widget=this;widget.close(i,true);return i.element.unbind('.timepicker').data('TimePicker',null)},parse:function(i,str){return $.fn.timepicker.parseTime(str)},format:function(i,time,format){format=format||i.options.timeFormat;return $.fn.timepicker.formatTime(format,time)},getTime:function(i){var widget=this,current=$.fn.timepicker.parseTime(i.element.val());if(current instanceof Date&&!widget._isValidTime(i,current)){return null}else if(current instanceof Date&&i.selectedTime){if(i.format(current)===i.format(i.selectedTime)){return i.selectedTime}else{return current}}else if(current instanceof Date){return current}else{return null}},setTime:function(i,time,silent){var widget=this,previous=i.selectedTime;if(typeof time==='string'){time=i.parse(time)}if(time&&time.getMinutes&&widget._isValidTime(i,time)){time=normalize(time);i.selectedTime=time;i.element.val(i.format(time,i.options.timeFormat));if(silent){return i}}else{i.selectedTime=null}if(previous!==null||i.selectedTime!==null){i.element.trigger('time-change',[time]);if($.isFunction(i.options.change)){i.options.change.apply(i.element,[time])}}return i.element},option:function(i,name,value){if(typeof value==='undefined'){return i.options[name]}var time=i.getTime(),options,destructive;if(typeof name==='string'){options={};options[name]=value}else{options=name}destructive=['minHour','minMinutes','minTime','maxHour','maxMinutes','maxTime','startHour','startMinutes','startTime','timeFormat','interval','dropdown'];$.each(options,function(name){i.options[name]=options[name];i.rebuild=i.rebuild||$.inArray(name,destructive)>-1});if(i.rebuild){i.setTime(time)}}};$.TimePicker.defaults={timeFormat:'hh:mm p',minHour:null,minMinutes:null,minTime:null,maxHour:null,maxMinutes:null,maxTime:null,startHour:null,startMinutes:null,startTime:null,interval:30,dynamic:true,theme:'standard',zindex:null,dropdown:true,scrollbar:false,change:function(){}};$.TimePicker.methods={chainable:['next','previous','open','close','destroy','setTime']};$.fn.timepicker=function(options){if(typeof options==='string'){var args=Array.prototype.slice.call(arguments,1),method,result;if(options==='option'&&arguments.length>2){method='each'}else if($.inArray(options,$.TimePicker.methods.chainable)!==-1){method='each'}else{method='map'}result=this[method](function(){var element=$(this),i=element.data('TimePicker');if(typeof i==='object'){return i[options].apply(i,args)}});if(method==='map'&&this.length===1){return $.makeArray(result).shift()}else if(method==='map'){return $.makeArray(result)}else{return result}}if(this.length===1&&this.data('TimePicker')){return this.data('TimePicker')}var globals=$.extend({},$.TimePicker.defaults,options);return this.each(function(){$.TimePicker.instance().register(this,globals)})};$.fn.timepicker.formatTime=function(format,time){var hours=time.getHours(),hours12=hours%12,minutes=time.getMinutes(),seconds=time.getSeconds(),replacements={hh:pad((hours12===0?12:hours12).toString(),'0',2),HH:pad(hours.toString(),'0',2),mm:pad(minutes.toString(),'0',2),ss:pad(seconds.toString(),'0',2),h:(hours12===0?12:hours12),H:hours,m:minutes,s:seconds,p:hours>11?'PM':'AM'},str=format,k='';for(k in replacements){if(replacements.hasOwnProperty(k)){str=str.replace(new RegExp(k,'g'),replacements[k])}}str=str.replace(new RegExp('a','g'),hours>11?'pm':'am');return str};$.fn.timepicker.parseTime=(function(){var patterns=[[/^(\d+)$/,'$1'],[/^:(\d)$/,'$10'],[/^:(\d+)/,'$1'],[/^(\d):([7-9])$/,'0$10$2'],[/^(\d):(\d\d)$/,'$1$2'],[/^(\d):(\d{1,})$/,'0$1$20'],[/^(\d\d):([7-9])$/,'$10$2'],[/^(\d\d):(\d)$/,'$1$20'],[/^(\d\d):(\d*)$/,'$1$2'],[/^(\d{3,}):(\d)$/,'$10$2'],[/^(\d{3,}):(\d{2,})/,'$1$2'],[/^(\d):(\d):(\d)$/,'0$10$20$3'],[/^(\d{1,2}):(\d):(\d\d)/,'$10$2$3']],length=patterns.length;return function(str){var time=normalize(new Date()),am=false,pm=false,h=false,m=false,s=false;if(typeof str==='undefined'||!str.toLowerCase){return null}str=str.toLowerCase();am=/a/.test(str);pm=am?false:/p/.test(str);str=str.replace(/[^0-9:]/g,'').replace(/:+/g,':');for(var k=0;k<length;k=k+1){if(patterns[k][0].test(str)){str=str.replace(patterns[k][0],patterns[k][1]);break}}str=str.replace(/:/g,'');if(str.length===1){h=str}else if(str.length===2){h=str}else if(str.length===3||str.length===5){h=str.substr(0,1);m=str.substr(1,2);s=str.substr(3,2)}else if(str.length===4||str.length>5){h=str.substr(0,2);m=str.substr(2,2);s=str.substr(4,2)}if(str.length>0&&str.length<5){if(str.length<3){m=0}s=0}if(h===false||m===false||s===false){return false}h=parseInt(h,10);m=parseInt(m,10);s=parseInt(s,10);if(am&&h===12){h=0}else if(pm&&h<12){h=h+12}if(h>24){if(str.length>=6){return $.fn.timepicker.parseTime(str.substr(0,5))}else{return $.fn.timepicker.parseTime(str+'0'+(am?'a':'')+(pm?'p':''))}}else{time.setHours(h,m,s);return time}}})()})()}));